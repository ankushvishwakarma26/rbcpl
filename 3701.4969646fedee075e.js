"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[3701],{3701:(Jt,m,o)=>{o.r(m),o.d(m,{TripComponent:()=>Mt});var t=o(9212),d=o(6306),h=o(951),A=o(9862),u=o(5633),q=o(868);let v=(()=>{class i{constructor(e,n,r){this.http=e,this.userservice=n,this.api=r,this.url="http://103.59.180.17:1112/api/",this.tripsummarylist=[],this.tripsummarydata=new h.nL,this.tripfcrlist=[],this.status=""}GetTripSummaryList(e,n,r){return""!=this.status?""!=r&&"Driver"==this.userservice.GetRole()?this.http.get(this.url+"TripSummary?PageNumber="+e+"&PageSize="+n+"&SearchText="+r+"&driver="+this.userservice.GetUserName()+"&status="+this.status).pipe((0,d.K)(this.api.handleError)):""==r&&"Driver"==this.userservice.GetRole()?this.http.get(this.url+"TripSummary?PageNumber="+e+"&PageSize="+n+"&driver="+this.userservice.GetUserName()+"&status="+this.status).pipe((0,d.K)(this.api.handleError)):""!=r?this.http.get(this.url+"TripSummary?PageNumber="+e+"&PageSize="+n+"&SearchText="+r+"&status="+this.status).pipe((0,d.K)(this.api.handleError)):this.http.get(this.url+"TripSummary?PageNumber="+e+"&PageSize="+n+"&status="+this.status).pipe((0,d.K)(this.api.handleError)):""!=r&&"Driver"==this.userservice.GetRole()?this.http.get(this.url+"TripSummary?PageNumber="+e+"&PageSize="+n+"&SearchText="+r+"&driver="+this.userservice.GetUserName()).pipe((0,d.K)(this.api.handleError)):""==r&&"Driver"==this.userservice.GetRole()?this.http.get(this.url+"TripSummary?PageNumber="+e+"&PageSize="+n+"&driver="+this.userservice.GetUserName()).pipe((0,d.K)(this.api.handleError)):""!=r?this.http.get(this.url+"TripSummary?PageNumber="+e+"&PageSize="+n+"&SearchText="+r).pipe((0,d.K)(this.api.handleError)):this.http.get(this.url+"TripSummary?PageNumber="+e+"&PageSize="+n).pipe((0,d.K)(this.api.handleError))}GetTripFCRList(e){return this.http.get(this.url+"TripSummary/GetTripList?origin="+e).pipe((0,d.K)(this.api.handleError))}UpdateTriptoFCRHeader(e){return this.http.post(this.url+"TripSummary/UpdateTriptoFCRHeader?id="+this.tripid,e)}CreateUpdateTripSummary(){return this.http.post(this.url+"TripSummary/CreateUpdateTripSummary",this.tripsummarydata)}GetTripSummaryHeaderbyid(){return this.http.get(this.url+"TripSummary/GetTripSummaryHeaderbyid/"+this.searchid)}GetTripSummaryDetailbyid(){return this.http.get(this.url+"TripSummary/GetTripSummaryDetailbyid/"+this.searchid)}SearchTripSummaryList(){return this.http.get(this.url+"TripSummary/SearchTripSummaryList/"+this.searchdata+"/"+this.searchid)}DeleteTripSummaryList(e,n){return this.http.get(this.url+"TripSummary/DeleteTripSummaryList/"+e+"/"+n)}GetVehicleList(){return this.http.get(this.url+"TripSummary/GetVehicleList")}GetDriverList(){return this.http.get(this.url+"TripSummary/GetDriverList")}static#t=this.\u0275fac=function(n){return new(n||i)(t.LFG(A.eN),t.LFG(u.K),t.LFG(q.s))};static#e=this.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var T=o(2425);let U=(()=>{class i{constructor(e,n,r){this.service=e,this.toast=n,this.userservice=r,this.p=1,this.psize=10,this.total=0,this.frompage=1,this.topage=100,this.searchvalue="",this.status="Pending",this.loader=!1,this.searchloader=!1}ngOnInit(){}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(v),t.Y36(T._W),t.Y36(u.K))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-createtrip"]],standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(n,r){}})}return i})();var c=o(6814),l=o(6223),g=o(6472),Z=o(9246),f=o(8057),x=o(1312),b=o(6521),C=o(7680),y=o(7473),M=o(5219);function S(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",39)(1,"button",40),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.createtrip())}),t.O4$(),t.TgZ(2,"svg",23),t._UZ(3,"path",24)(4,"path",41)(5,"path",42),t.qZA(),t._uU(6," Create "),t.qZA()()}}function J(i,s){1&i&&(t.TgZ(0,"div",43)(1,"div",44),t._UZ(2,"div",45),t.TgZ(3,"div",46),t._uU(4,"Loading Data......."),t.qZA(),t.TgZ(5,"div",47),t._UZ(6,"div",48),t.qZA()()())}function w(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",59),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.edittrip(r))}),t._uU(2),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.id)}}function N(i,s){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.id)}}function L(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("(",e.startmeterreading,")")}}function Q(i,s){if(1&i&&(t.TgZ(0,"div",13),t._uU(1),t.ALo(2,"date"),t.YNc(3,L,2,1,"span",53),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("Start : ",t.xi3(2,2,e.startdatetime,"dd/MM/yy hh:mm a")," "),t.xp6(2),t.Q6J("ngIf",e.startmeterreading)}}function F(i,s){1&i&&(t.TgZ(0,"span",62),t._uU(1,"Not Started yet"),t.qZA())}function k(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.BeginTrip("start",r))}),t._uU(1,"Start"),t.qZA()}}function G(i,s){if(1&i&&(t.TgZ(0,"div"),t._uU(1,"Start : "),t.YNc(2,F,2,0,"span",60)(3,k,2,0,"button",61),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.driverenable),t.xp6(1),t.Q6J("ngIf",n.driverenable&&!e.startdatetime)}}function I(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.BeginTrip("fuel",r))}),t._uU(1,"Upload Fuel"),t.qZA()}}function O(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,I,2,0,"button",61),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",n.driverenable&&!e.fueldatetime)}}function E(i,s){if(1&i&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("Fuel Station : ",t.xi3(2,1,e.fueldatetime,"dd/MM/yy hh:mm a"),"")}}function D(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" (",e.endmeterreading-e.startmeterreading," KM) ")}}function K(i,s){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,D,2,1,"span",53),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" (",e.endmeterreading,") "),t.xp6(1),t.Q6J("ngIf",e.startmeterreading&&e.endmeterreading)}}function H(i,s){if(1&i&&(t.TgZ(0,"div",64),t._uU(1),t.ALo(2,"date"),t.YNc(3,K,3,2,"span",53),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("End : ",t.xi3(2,2,e.enddatetime,"dd/MM/yy hh:mm a"),""),t.xp6(2),t.Q6J("ngIf",e.endmeterreading)}}function Y(i,s){1&i&&(t.TgZ(0,"span",62),t._uU(1,"Not Ended yet"),t.qZA())}function j(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"button",59),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,a=t.oxw(2);return t.KtG(a.BeginTrip("end",r))}),t._uU(1,"End"),t.qZA()}}function P(i,s){if(1&i&&(t.TgZ(0,"div"),t._uU(1,"End : "),t.YNc(2,Y,2,0,"span",60)(3,j,2,0,"button",61),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.driverenable),t.xp6(1),t.Q6J("ngIf",n.driverenable&&!e.enddatetime)}}function $(i,s){if(1&i&&(t.TgZ(0,"div",67),t._uU(1),t.qZA()),2&i){const e=t.oxw(),n=e.index,r=e.$implicit;t.xp6(1),t.AsE("",n+1,".",r.invoiceno," ")}}function R(i,s){if(1&i&&(t.TgZ(0,"div",68),t._uU(1),t.TgZ(2,"span",13),t._uU(3),t.qZA(),t.TgZ(4,"span",69),t._uU(5),t.qZA(),t.TgZ(6,"span",13),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"span",62),t._uU(10),t.ALo(11,"currency"),t.qZA()()),2&i){const e=t.oxw(),n=e.index,r=e.$implicit;t.xp6(1),t.AsE("",n+1,". ",r.name," "),t.xp6(2),t.hij(" (",r.station,")"),t.xp6(2),t.hij(" ",r.invoiceno," "),t.xp6(2),t.hij("(",t.xi3(8,6,r.invoicedate,"dd/MM/yy"),")"),t.xp6(3),t.hij("(",t.xi3(11,9,r.invoiceamount,"INR"),")")}}function z(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,$,2,2,"div",65)(2,R,12,12,"div",66),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.driverenable),t.xp6(1),t.Q6J("ngIf",!e.driverenable)}}function V(i,s){if(1&i&&(t.TgZ(0,"tr",51)(1,"td",52),t.YNc(2,w,3,1,"div",53)(3,N,2,1,"div",53),t.TgZ(4,"div"),t._uU(5),t.qZA(),t.TgZ(6,"div"),t._uU(7),t.ALo(8,"date"),t.qZA(),t.TgZ(9,"div"),t._uU(10),t.qZA(),t.TgZ(11,"div"),t._uU(12),t.qZA(),t.TgZ(13,"div"),t._uU(14),t.qZA(),t.TgZ(15,"div"),t._uU(16),t.qZA(),t.TgZ(17,"div"),t._uU(18),t.qZA(),t.YNc(19,Q,4,5,"div",54)(20,G,4,2,"div",53)(21,O,2,1,"div",53)(22,E,3,4,"div",55)(23,H,4,5,"div",56)(24,P,4,2,"div",53),t.qZA(),t.TgZ(25,"td",44)(26,"div",57),t._uU(27),t.qZA()(),t.TgZ(28,"td"),t.YNc(29,z,3,2,"div",58),t.qZA()()),2&i){const e=s.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",!n.driverenable),t.xp6(1),t.Q6J("ngIf",n.driverenable),t.xp6(2),t.Oqu(e.createdby),t.xp6(2),t.Oqu(t.Dn7(8,18,e.createddate,"dd-MMM-yyyy hh:mm a","GMT+0530")),t.xp6(3),t.hij("Origin : ",e.origin,""),t.xp6(2),t.hij("via : ",e.other,""),t.xp6(2),t.hij("Destination : ",e.destination,""),t.xp6(2),t.hij("Driver : ",e.drivername,""),t.xp6(2),t.hij("Vehicle : ",e.vehiclename,""),t.xp6(1),t.Q6J("ngIf",e.startdatetime),t.xp6(1),t.Q6J("ngIf",!e.startdatetime),t.xp6(1),t.Q6J("ngIf",!e.enddatetime&&!e.fueldatetime),t.xp6(1),t.Q6J("ngIf",e.fueldatetime),t.xp6(1),t.Q6J("ngIf",e.enddatetime),t.xp6(1),t.Q6J("ngIf",!e.enddatetime),t.xp6(2),t.Q6J("ngClass","Pending"==e.currentstatus?"badge bg-danger text-white":"badge bg-success text-white"),t.xp6(1),t.Oqu(e.currentstatus),t.xp6(2),t.Q6J("ngForOf",e.details)}}const B=(i,s,e)=>({itemsPerPage:i,currentPage:s,totalItems:e});function W(i,s){if(1&i&&(t.TgZ(0,"table",49)(1,"thead")(2,"tr")(3,"th",44),t._uU(4,"ID"),t.qZA(),t.TgZ(5,"th",44),t._uU(6,"Status"),t.qZA(),t.TgZ(7,"th",44),t._uU(8,"Party/Invoice"),t.qZA()()(),t.TgZ(9,"tbody"),t.YNc(10,V,30,22,"tr",50),t.ALo(11,"paginate"),t.qZA()()),2&i){const e=t.oxw();t.xp6(10),t.Q6J("ngForOf",t.xi3(11,1,e.service.tripsummarylist,t.kEZ(4,B,e.psize,e.p,e.total)))}}function X(i,s){1&i&&t._uU(0,"Add DPL List")}function tt(i,s){1&i&&t._UZ(0,"p-progressSpinner",75)}function et(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr",51)(1,"td",73),t._uU(2),t.qZA(),t.TgZ(3,"td",52),t._uU(4),t.qZA(),t.TgZ(5,"td",76)(6,"div")(7,"span",62),t._uU(8),t.qZA(),t.TgZ(9,"span",13),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"span",69),t._uU(13),t.TgZ(14,"span",13),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"span",62),t._uU(18),t.ALo(19,"currency"),t.qZA()()()(),t.TgZ(20,"td",77),t._uU(21),t.qZA(),t.TgZ(22,"td",44)(23,"p-checkbox",74),t.NdJ("ngModelChange",function(r){const p=t.CHM(e).$implicit;return t.KtG(p.Selected=r)})("onChange",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.changeinput())}),t.qZA(),t.TgZ(24,"label"),t._uU(25),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index;t.xp6(2),t.hij(" ",n+1," "),t.xp6(2),t.Oqu(e.id),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.hij(" (",e.station,")"),t.xp6(3),t.hij("",e.invoiceno," "),t.xp6(2),t.hij(" (",t.xi3(16,11,e.invoicedate,"dd/MM/yy"),") "),t.xp6(3),t.hij("(",t.xi3(19,14,e.invoiceamount,"INR"),")"),t.xp6(3),t.Oqu("pending"==e.approvalstatus||"Pending"==e.approvalstatus?"":e.approvalstatus),t.xp6(2),t.Q6J("ngModel",e.Selected)("binary",!0),t.xp6(2),t.hij("\xa0\xa0",e.invoiceno,"")}}function it(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5," Overview "),t.qZA(),t.TgZ(6,"h2",5),t._uU(7," Add Company Vehicle Trip List "),t.YNc(8,tt,1,0,"p-progressSpinner",70),t.qZA()(),t.TgZ(9,"div",6)(10,"div",39)(11,"button",71),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.AddTripList())}),t.O4$(),t.TgZ(12,"svg",23),t._UZ(13,"path",24)(14,"path",41)(15,"path",42),t.qZA(),t._uU(16),t.qZA()()()()()(),t.kcU(),t.TgZ(17,"div",8)(18,"div",1)(19,"div",9)(20,"div",10)(21,"div",11)(22,"div",12)(23,"div",13)(24,"p",72)(25,"span"),t._uU(26),t.qZA(),t._uU(27," Lists"),t.qZA()(),t.TgZ(28,"div",19)(29,"div",20)(30,"input",21),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.searchlist=r)}),t.qZA(),t.TgZ(31,"span",22),t.O4$(),t.TgZ(32,"svg",23),t._UZ(33,"path",24)(34,"path",25)(35,"path",26),t.qZA()()()()()(),t.kcU(),t.TgZ(36,"table",49)(37,"thead")(38,"tr")(39,"th",73),t._uU(40,"S.No."),t.qZA(),t.TgZ(41,"th",52),t._uU(42,"ID"),t.qZA(),t.TgZ(43,"th",44),t._uU(44,"Party/Station"),t.qZA(),t.TgZ(45,"th",44),t._uU(46,"Status"),t.qZA(),t.TgZ(47,"th",44)(48,"p-checkbox",74),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.selectmenu=r)})("onChange",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.selectall())}),t.qZA(),t.TgZ(49,"label"),t._uU(50,"\xa0\xa0Select All"),t.qZA()()()(),t.TgZ(51,"tbody"),t.YNc(52,et,26,17,"tr",50),t.qZA()()()()()()}if(2&i){const e=t.oxw();t.xp6(8),t.Q6J("ngIf",e.loader),t.xp6(3),t.Q6J("disabled",0==e.count),t.xp6(5),t.hij(" ",e.count," Add List "),t.xp6(10),t.hij("Total ",e.totaltriplist,""),t.xp6(4),t.Q6J("ngModel",e.searchlist),t.xp6(18),t.Q6J("ngModel",e.selectmenu)("binary",!0),t.xp6(4),t.Q6J("ngForOf",e.service.tripfcrlist)}}function nt(i,s){1&i&&t._uU(0,"Create Trip")}function rt(i,s){if(1&i&&(t.TgZ(0,"option",107),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e.Email),t.xp6(1),t.AsE("",e.FirstName," ",e.LastName,"")}}function st(i,s){if(1&i&&(t.TgZ(0,"option",107),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE("",e.description," (",e.vehicletype,")")}}function at(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",9)(1,"form",81,82),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.MAs(2),a=t.oxw(2);return t.KtG(r.form.valid&&a.submit(r))}),t.TgZ(3,"div",83),t._UZ(4,"input",84),t.TgZ(5,"div",85)(6,"div",45)(7,"label",86),t._uU(8,"Origin"),t.qZA(),t.TgZ(9,"select",87,88),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.service.tripsummarydata.origin=r)}),t.TgZ(11,"option",15),t._uU(12,"----Select Origin----"),t.qZA(),t.TgZ(13,"option",89),t._uU(14,"F1"),t.qZA(),t.TgZ(15,"option",90),t._uU(16,"F2"),t.qZA(),t.TgZ(17,"option",91),t._uU(18,"F3"),t.qZA(),t.TgZ(19,"option",92),t._uU(20,"F4"),t.qZA()()()(),t.TgZ(21,"div",85)(22,"div",45)(23,"label",86),t._uU(24,"Via"),t.qZA(),t.TgZ(25,"select",93,94),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.service.tripsummarydata.other=r)}),t.TgZ(27,"option",15),t._uU(28,"----Select Origin----"),t.qZA(),t.TgZ(29,"option",95),t._uU(30,"Direct"),t.qZA(),t.TgZ(31,"option",89),t._uU(32,"F1"),t.qZA(),t.TgZ(33,"option",90),t._uU(34,"F2"),t.qZA(),t.TgZ(35,"option",91),t._uU(36,"F3"),t.qZA(),t.TgZ(37,"option",92),t._uU(38,"F4"),t.qZA()()()(),t.TgZ(39,"div",85)(40,"div",45)(41,"label",86),t._uU(42,"Destination"),t.qZA(),t.TgZ(43,"select",96,97),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.service.tripsummarydata.destination=r)}),t.TgZ(45,"option",15),t._uU(46,"----Select Destination----"),t.qZA(),t.TgZ(47,"option",89),t._uU(48,"F1"),t.qZA(),t.TgZ(49,"option",90),t._uU(50,"F2"),t.qZA(),t.TgZ(51,"option",91),t._uU(52,"F3"),t.qZA(),t.TgZ(53,"option",92),t._uU(54,"F4"),t.qZA()()()(),t.TgZ(55,"div",98)(56,"div",45)(57,"label",86),t._uU(58,"Driver"),t.qZA(),t.TgZ(59,"select",99,100),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.service.tripsummarydata.driver=r)}),t.TgZ(61,"option",15),t._uU(62,"----Select Driver----"),t.qZA(),t.YNc(63,rt,2,3,"option",101),t.qZA()()(),t.TgZ(64,"div",98)(65,"div",45)(66,"label",86),t._uU(67,"Vehicle"),t.qZA(),t.TgZ(68,"select",102,103),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.service.tripsummarydata.vehicleno=r)}),t.TgZ(70,"option",15),t._uU(71,"----Select Driver----"),t.qZA(),t.YNc(72,st,2,3,"option",101),t.qZA()()()(),t._UZ(73,"br"),t.TgZ(74,"div",104)(75,"div",12)(76,"a",105),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.service.createtripvisible=!1)}),t._uU(77,"Cancel"),t.qZA(),t.TgZ(78,"button",106),t._uU(79,"Submit"),t.qZA()()()()()}if(2&i){const e=t.MAs(2),n=t.MAs(10),r=t.MAs(26),a=t.MAs(44),p=t.MAs(60),St=t.MAs(69),_=t.oxw(2);t.xp6(4),t.Q6J("value",_.service.tripsummarydata.id),t.xp6(5),t.Q6J("ngClass",n.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.tripsummarydata.origin),t.xp6(16),t.Q6J("ngClass",r.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.tripsummarydata.other),t.xp6(18),t.Q6J("ngClass",a.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.tripsummarydata.destination),t.xp6(16),t.Q6J("ngClass",p.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.tripsummarydata.driver),t.xp6(4),t.Q6J("ngForOf",_.service.driverlist),t.xp6(5),t.Q6J("ngClass",St.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.tripsummarydata.vehicleno),t.xp6(4),t.Q6J("ngForOf",_.service.vehiclelist),t.xp6(6),t.Q6J("disabled",e.invalid)}}function ot(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",108)(1,"div",109)(2,"div",110),t._uU(3,"ID"),t.qZA(),t.TgZ(4,"div",111),t._uU(5,"Origin"),t.qZA(),t.TgZ(6,"div",111),t._uU(7,"Via"),t.qZA(),t.TgZ(8,"div",111),t._uU(9,"Destination"),t.qZA(),t.TgZ(10,"div",111),t._uU(11,"Driver"),t.qZA(),t.TgZ(12,"div",112),t._uU(13,"Action"),t.qZA()(),t.TgZ(14,"div",109)(15,"div",110),t._uU(16),t.qZA(),t.TgZ(17,"div",111),t._uU(18),t.qZA(),t.TgZ(19,"div",111),t._uU(20),t.qZA(),t.TgZ(21,"div",111),t._uU(22),t.qZA(),t.TgZ(23,"div",111),t._uU(24),t.qZA(),t.TgZ(25,"div",112)(26,"button",113),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.edittripdata())}),t._uU(27),t.qZA()()()()}if(2&i){const e=t.oxw(2);t.xp6(16),t.Oqu(e.service.tripheader.id),t.xp6(2),t.Oqu(e.service.tripheader.origin),t.xp6(2),t.Oqu(e.service.tripheader.other),t.xp6(2),t.Oqu(e.service.tripheader.destination),t.xp6(2),t.Oqu(e.service.tripheader.drivername),t.xp6(2),t.Q6J("ngClass",e.edittripdatavisible?"btn btn-danger":"btn btn-muted"),t.xp6(1),t.Oqu(e.edittripdatavisible?"Cancel":"Edit")}}function pt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",5),t._uU(5," Add or Delete List "),t.qZA()(),t.TgZ(6,"div",6)(7,"div",39)(8,"button",114),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.addtripfcrlist(r.tmpdata))}),t.O4$(),t.TgZ(9,"svg",23),t._UZ(10,"path",24)(11,"path",41)(12,"path",42),t.qZA(),t._uU(13," Add List "),t.qZA(),t.kcU(),t.TgZ(14,"button",115),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.LoadDetails())}),t.O4$(),t.TgZ(15,"svg",116),t._UZ(16,"path",24)(17,"path",117)(18,"path",118)(19,"path",119)(20,"path",120)(21,"path",121),t.qZA(),t._uU(22," Delete List "),t.qZA()()()()()()}}function lt(i,s){1&i&&t._UZ(0,"p-progressSpinner",75)}function dt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr",51)(1,"td",73),t._uU(2),t.qZA(),t.TgZ(3,"td",52),t._uU(4),t.qZA(),t.TgZ(5,"td",76)(6,"div")(7,"span",62),t._uU(8),t.qZA(),t.TgZ(9,"span",13),t._uU(10),t.qZA()(),t.TgZ(11,"div")(12,"span",69),t._uU(13),t.TgZ(14,"span",13),t._uU(15),t.ALo(16,"date"),t.qZA(),t.TgZ(17,"span",62),t._uU(18),t.ALo(19,"currency"),t.qZA()()()(),t.TgZ(20,"td")(21,"div"),t._uU(22),t.qZA(),t.TgZ(23,"div"),t._uU(24),t.qZA()(),t.TgZ(25,"td",77),t._uU(26),t.qZA(),t.TgZ(27,"td",44)(28,"p-checkbox",74),t.NdJ("ngModelChange",function(r){const p=t.CHM(e).$implicit;return t.KtG(p.Selected=r)})("onChange",function(){t.CHM(e);const r=t.oxw(4);return t.KtG(r.changeinput())}),t.qZA(),t.TgZ(29,"label"),t._uU(30),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index;t.xp6(2),t.hij(" ",n+1," "),t.xp6(2),t.Oqu(e.id),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.hij(" (",e.station,")"),t.xp6(3),t.hij("",e.invoiceno," "),t.xp6(2),t.hij(" (",t.xi3(16,13,e.invoicedate,"dd/MM/yy"),") "),t.xp6(3),t.hij("(",t.xi3(19,16,e.invoiceamount,"INR"),")"),t.xp6(4),t.hij("Origin : ",e.originpoint,""),t.xp6(2),t.hij("Destination : ",e.transportpoint,""),t.xp6(2),t.Oqu("pending"==e.approvalstatus||"Pending"==e.approvalstatus?"":e.approvalstatus),t.xp6(2),t.Q6J("ngModel",e.Selected)("binary",!0),t.xp6(2),t.hij("\xa0\xa0",e.invoiceno,"")}}function _t(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"table",49)(1,"thead")(2,"tr")(3,"th",73),t._uU(4,"S.No."),t.qZA(),t.TgZ(5,"th",52),t._uU(6,"ID"),t.qZA(),t.TgZ(7,"th",44),t._uU(8,"Party/Station"),t.qZA(),t.TgZ(9,"th",44),t._uU(10,"Origin/Destination"),t.qZA(),t.TgZ(11,"th",44),t._uU(12,"Status"),t.qZA(),t.TgZ(13,"th",44)(14,"p-checkbox",74),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(3);return t.KtG(a.selectmenu=r)})("onChange",function(){t.CHM(e);const r=t.oxw(3);return t.KtG(r.selectall())}),t.qZA(),t.TgZ(15,"label"),t._uU(16,"\xa0\xa0Select All"),t.qZA()()()(),t.TgZ(17,"tbody"),t.YNc(18,dt,31,19,"tr",50),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(14),t.Q6J("ngModel",e.selectmenu)("binary",!0),t.xp6(4),t.Q6J("ngForOf",e.service.tripfcrlist)}}function ct(i,s){1&i&&(t.TgZ(0,"h1",123),t._uU(1,"No List Available to Add"),t.qZA())}function ut(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4),t._uU(6," Overview "),t.qZA(),t.TgZ(7,"h2",5),t._uU(8," Add Company Vehicle Trip List "),t.YNc(9,lt,1,0,"p-progressSpinner",70),t.qZA()(),t.TgZ(10,"div",6)(11,"div",39)(12,"button",71),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.AddTripList())}),t.O4$(),t.TgZ(13,"svg",23),t._UZ(14,"path",24)(15,"path",41)(16,"path",42),t.qZA(),t._uU(17),t.qZA()()()()()(),t.kcU(),t.TgZ(18,"div",8)(19,"div",1)(20,"div",9)(21,"div",10)(22,"div",11)(23,"div",12)(24,"div",13)(25,"p",72)(26,"span"),t._uU(27),t.qZA(),t._uU(28," Lists"),t.qZA()(),t.TgZ(29,"div",19)(30,"div",20)(31,"input",21),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.searchlist=r)}),t.qZA(),t.TgZ(32,"span",22),t.O4$(),t.TgZ(33,"svg",23),t._UZ(34,"path",24)(35,"path",25)(36,"path",26),t.qZA()()()()()(),t.kcU(),t.TgZ(37,"div",27),t.YNc(38,_t,19,3,"table",29)(39,ct,2,0,"h1",122),t.qZA()()()()()()}if(2&i){const e=t.oxw(2);t.xp6(9),t.Q6J("ngIf",e.loader),t.xp6(3),t.Q6J("disabled",0==e.count),t.xp6(5),t.hij(" ",e.count," Add List "),t.xp6(10),t.hij("Total ",e.totaltriplist,""),t.xp6(4),t.Q6J("ngModel",e.searchlist),t.xp6(7),t.Q6J("ngIf",e.service.tripfcrlist.length>0),t.xp6(1),t.Q6J("ngIf",0==e.service.tripfcrlist.length)}}function gt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td")(17,"button",115),t.NdJ("click",function(){const a=t.CHM(e).$implicit,p=t.oxw(4);return t.KtG(p.DeleteTrip(a.id))}),t._uU(18,"Delete"),t.qZA()()()}if(2&i){const e=s.$implicit,n=s.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(t.xi3(7,7,e.invoicedate,"dd/MM/yy")),t.xp6(3),t.Oqu(e.name),t.xp6(2),t.Oqu(e.station),t.xp6(2),t.Oqu(e.invoiceno),t.xp6(2),t.Oqu(e.orderno)}}function mt(i,s){if(1&i&&(t.TgZ(0,"div",108)(1,"table",124)(2,"thead")(3,"tr")(4,"th",44),t._uU(5,"S.No."),t.qZA(),t.TgZ(6,"th",44),t._uU(7,"DPL ID"),t.qZA(),t.TgZ(8,"th",44),t._uU(9,"Invoice Date"),t.qZA(),t.TgZ(10,"th",44),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"th",44),t._uU(13,"Station"),t.qZA(),t.TgZ(14,"th",44),t._uU(15,"Invoice No"),t.qZA(),t.TgZ(16,"th",44),t._uU(17,"Order No"),t.qZA(),t.TgZ(18,"th",44),t._uU(19,"Action"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,gt,19,10,"tr",58),t.qZA()()()),2&i){const e=t.oxw(3);t.xp6(21),t.Q6J("ngForOf",e.service.tripdetails)}}function ht(i,s){1&i&&(t.TgZ(0,"h1",123),t._uU(1,"No Trip Available to Delete"),t.qZA())}function vt(i,s){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,mt,22,1,"div",79)(2,ht,2,0,"h1",122),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.nodeletedata),t.xp6(1),t.Q6J("ngIf",e.nodeletedata)}}function Tt(i,s){if(1&i&&(t.YNc(0,at,80,14,"div",78)(1,ot,28,7,"div",79)(2,pt,23,0,"div",80)(3,ut,40,7,"div",53),t._UZ(4,"hr"),t.YNc(5,vt,3,2,"div",53)),2&i){const e=t.oxw();t.Q6J("ngIf",e.edittripdatavisible),t.xp6(1),t.Q6J("ngIf",e.service.tripheader),t.xp6(1),t.Q6J("ngIf",e.adddeletebutton),t.xp6(1),t.Q6J("ngIf",e.tripadd),t.xp6(2),t.Q6J("ngIf",e.tripdelete)}}function Zt(i,s){if(1&i&&t._uU(0),2&i){const e=t.oxw();t.Oqu(e.triptitle)}}function ft(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",126)(1,"div",45)(2,"label",86),t._uU(3,"Start Meter Reading"),t.qZA(),t.TgZ(4,"input",128,129),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.service.tripsummarydata.startmeterreading=r)}),t.qZA()()()}if(2&i){const e=t.MAs(5),n=t.oxw(2);t.xp6(4),t.Q6J("ngClass",e.invalid?"is-invalid":"is-valid mb-2")("ngModel",n.service.tripsummarydata.startmeterreading)}}function xt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"div",126)(1,"div",45)(2,"label",86),t._uU(3,"End Meter Reading"),t.qZA(),t.TgZ(4,"input",130,131),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.service.tripsummarydata.endmeterreading=r)}),t.qZA()(),t.TgZ(6,"div",45)(7,"label",86),t._uU(8,"Trip Status"),t.qZA(),t.TgZ(9,"select",132,133),t.NdJ("ngModelChange",function(r){t.CHM(e);const a=t.oxw(2);return t.KtG(a.service.tripsummarydata.currentstatus=r)}),t.TgZ(11,"option",15),t._uU(12,"----Select Trip Status----"),t.qZA(),t.TgZ(13,"option",18),t._uU(14,"Trip End"),t.qZA(),t.TgZ(15,"option",134),t._uU(16,"Breakdown"),t.qZA()()()()}if(2&i){const e=t.MAs(5),n=t.MAs(10),r=t.oxw(2);t.xp6(4),t.Q6J("ngClass",e.invalid?"is-invalid":"is-valid mb-2")("ngModel",r.service.tripsummarydata.endmeterreading),t.xp6(5),t.Q6J("ngClass",n.invalid?"is-invalid":"is-valid mb-2")("ngModel",r.service.tripsummarydata.currentstatus)}}function bt(i,s){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=s.$implicit;t.xp6(1),t.AsE("",e.name," - ",e.size," bytes ")}}function Ct(i,s){if(1&i&&(t.TgZ(0,"ul"),t.YNc(1,bt,2,2,"li",58),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.imageservice.uploadedFiles)}}function At(i,s){if(1&i&&t.YNc(0,Ct,2,1,"ul",53),2&i){const e=t.oxw(2);t.Q6J("ngIf",e.imageservice.uploadedFiles.length)}}function qt(i,s){if(1&i){const e=t.EpF();t.TgZ(0,"form",81,82),t.NdJ("ngSubmit",function(){t.CHM(e);const r=t.MAs(1),a=t.oxw();return t.KtG(r.form.valid&&a.UpdateTrip(r))}),t.TgZ(2,"div",83),t._UZ(3,"input",84),t.YNc(4,ft,6,2,"div",125)(5,xt,17,4,"div",125),t.TgZ(6,"div",126)(7,"div",45)(8,"label",86),t._uU(9),t.qZA(),t.TgZ(10,"p-fileUpload",127),t.NdJ("onUpload",function(r){t.CHM(e);const a=t.oxw();return t.KtG(a.imageservice.onUpload1(r))}),t.YNc(11,At,1,1,"ng-template",36),t.qZA()()()(),t._UZ(12,"br"),t.TgZ(13,"div",104)(14,"div",12)(15,"a",105),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.service.createtripvisible=!1)}),t._uU(16,"Cancel"),t.qZA(),t.TgZ(17,"button",106),t._uU(18,"Submit"),t.qZA()()()()}if(2&i){const e=t.MAs(1),n=t.oxw();t.xp6(3),t.Q6J("value",n.service.tripsummarydata.id),t.xp6(1),t.Q6J("ngIf","start"==n.uploadtype),t.xp6(1),t.Q6J("ngIf","end"==n.uploadtype),t.xp6(4),t.hij("Upload ",n.triptitle,""),t.xp6(1),t.Q6J("url",n.imageservice.uploadurl+"/"+n.service.tripsummarydata.id+"/"+n.uploaddatatype)("multiple",!0),t.xp6(7),t.Q6J("disabled",e.invalid)}}function Ut(i,s){}const yt=()=>({width:"75vw"});let Mt=(()=>{class i{constructor(e,n,r,a){this.service=e,this.toast=n,this.userservice=r,this.imageservice=a,this.p=1,this.psize=10,this.total=0,this.frompage=1,this.topage=100,this.searchvalue="",this.searchlist="",this.status="Pending",this.loader=!1,this.searchloader=!1,this.tripdelete=!1,this.tripadd=!1,this.driverenable=!1,this.edittripdatavisible=!1,this.selectmenu=!1,this.count=0,this.adddeletebutton=!1,this.nodeletedata=!1}ngOnInit(){"Driver"==this.userservice.GetRole()&&(this.driverenable=!0),this.LoadList()}LoadList(){this.service.GetTripSummaryList(this.p,this.psize,this.searchvalue).subscribe(e=>{console.log(e),this.service.tripsummarylist=e.data,this.total=e.totalRecords,this.frompage=this.p*this.psize-(this.psize-1),this.topage=this.total>this.p*this.psize?this.p*this.psize:this.total},e=>{this.toast.error(e)})}edittripdata(){this.edittripdatavisible=1!=this.edittripdatavisible,this.service.driverlist=null,this.adddeletebutton=!0,this.service.tripsummarydata=this.tmpdata,this.LoadDriverList()}BeginTrip(e,n){this.opentriptoupdate=!0,this.service.tripsummarydata=n,this.uploadtype=e,"start"==e?(this.triptitle="Start Trip",this.service.tripsummarydata.currentstatus="Started",this.uploaddatatype="StartMeterReading"):"end"==e?(this.triptitle="End Trip",this.service.tripsummarydata.currentstatus="Completed",this.uploaddatatype="EndMeterReading"):"fuel"==e&&(this.triptitle="Fuel Station Slip",this.service.tripsummarydata.currentstatus="Fuel Station",this.uploaddatatype="FuelStation")}gettime(){let e=new Date,r=e.getTime()+Math.abs(6e4*e.getTimezoneOffset());return new Date(r).toISOString()}UpdateTrip(e){"StartMeterReading"==this.uploaddatatype?this.service.tripsummarydata.startdatetime=this.gettime():"EndMeterReading"==this.uploaddatatype?this.service.tripsummarydata.enddatetime=this.gettime():"FuelStation"==this.uploaddatatype&&(this.service.tripsummarydata.fueldatetime=this.gettime()),console.log(this.service.tripsummarydata),this.service.CreateUpdateTripSummary().subscribe(n=>{console.log(n),"success"==n.status?(this.toast.success(n.key+" Successfully Submitted","Success"),this.service.searchid=n.key,this.LoadList(),this.opentriptoupdate=!1):this.toast.error(n.message,"Error")},n=>{this.toast.error(n,"Error")})}canceltripdata(){this.edittripdatavisible=!1}LoadDriverList(){this.service.GetDriverList().subscribe(e=>{"success"==e.status?this.service.driverlist=e.data:this.toast.error(e.message,"Error")}),this.service.GetVehicleList().subscribe(e=>{console.log(e),"success"==e.status?this.service.vehiclelist=e.data:this.toast.error(e.message,"Error")})}edittrip(e){this.edittripdatavisible=!1,this.adddeletebutton=!0,this.tripadd=!1,this.tripdelete=!1,this.tmpdata=e,this.service.driverlist=null,this.service.tripsummarydata=e,this.LoadDriverList(),this.service.createtripvisible=!0,this.service.searchid=e.id,this.service.tripheader=e}selectall(){this.count=0,console.log(this.selectmenu),this.service.tripfcrlist.forEach(1==this.selectmenu?n=>{n.Selected=!0,this.count++}:n=>{n.Selected=!1}),console.log(this.count)}AddTripList(){this.loader=!0,this.service.UpdateTriptoFCRHeader(this.service.tripfcrlist).subscribe(e=>{console.log(e),this.loader=!1,"success"==e.status?(this.service.createtripvisible=!1,this.toast.success(e.message,"Success"),this.LoadList()):this.toast.error(e.message,"Error")})}changeinput(){this.count=0,console.log(this.count),this.service.tripfcrlist.forEach(n=>{1==n.Selected&&this.count++,console.log(this.count)})}addtripfcrlist(e){this.tripadd=!0,this.tripdelete=!1,this.totaltriplist=0,this.service.tripid=e.id,this.count=0,this.selectmenu=!1,console.log(e),this.service.GetTripFCRList(e.origin).subscribe(n=>{console.log(n),"success"==n.status?(this.service.tripfcrlist=n.data,this.totaltriplist=n.data.length):this.toast.error(n.message,"Error")})}pageChangeEvent(e){this.p=e}createtrip(){this.edittripdatavisible=!0,this.adddeletebutton=!1,this.tripadd=!1,this.tripdelete=!1,this.service.driverlist=null,this.service.tripsummarydata=new h.nL,this.service.tripheader=null,this.service.tripdetails=null,this.service.createtripvisible=!0,this.LoadDriverList()}DeleteTrip(e){this.loader=!0,this.service.DeleteTripSummaryList(e,this.userservice.GetFullName()).subscribe(n=>{"success"==n.status?(this.loader=!1,this.toast.warning(n.message,"Success"),this.LoadDetails()):this.toast.error(n.message,"Error")},n=>{this.loader=!1,this.toast.error(n,"Error")})}LoadHeader(){this.service.GetTripSummaryHeaderbyid().subscribe(e=>{"success"==e.status?(this.service.tripheader=e.data,this.tmpdata=e.data):this.toast.error(e.message,"Error")})}LoadHeaderwithAddList(){this.adddeletebutton=!0,this.service.GetTripSummaryHeaderbyid().subscribe(e=>{if("success"==e.status){this.service.tripheader=e.data,console.log(e);var n=e.data;this.tripadd=!0,this.tripdelete=!1,this.totaltriplist=0,this.service.tripid=n.id,this.count=0,this.selectmenu=!1,this.service.GetTripFCRList(n.origin).subscribe(r=>{console.log(r),"success"==r.status?(this.service.tripfcrlist=r.data,this.totaltriplist=r.data.length):this.toast.error(r.message,"Error")})}else this.toast.error(e.message,"Error")})}LoadDetails(){this.tripdelete=!0,this.tripadd=!1,this.service.GetTripSummaryDetailbyid().subscribe(e=>{"success"==e.status?(this.service.tripdetails=e.data,this.nodeletedata=!(e.data.length>0),console.log(e.data.length)):this.toast.error(e.message,"Error")})}submit(e){null!=this.service.tripsummarydata.id?(this.service.tripsummarydata.updatedby=this.userservice.GetFullName(),this.service.tripsummarydata.updateddate=new Date,this.service.tripsummarydata.currentstatus="Pending"):(this.service.tripsummarydata.createdby=this.userservice.GetFullName(),this.service.tripsummarydata.createddate=new Date,this.service.tripsummarydata.currentstatus="Pending"),console.log(this.service.tripsummarydata),this.service.CreateUpdateTripSummary().subscribe(n=>{"success"==n.status?(this.toast.success(n.key+" Successfully Submitted","Success"),this.service.searchid=n.key,this.LoadList(),this.LoadHeaderwithAddList(),this.adddeletebutton=!0,this.edittripdatavisible=!1):this.toast.error(n.message,"Error")},n=>{this.toast.error(n,"Error")})}static#t=this.\u0275fac=function(n){return new(n||i)(t.Y36(v),t.Y36(T._W),t.Y36(u.K),t.Y36(y.D))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-trip"]],viewQuery:function(n,r){if(1&n&&t.Gf(U,5),2&n){let a;t.iGM(a=t.CRH())&&(r.createtripc=a.first)}},standalone:!0,features:[t.jDz],decls:61,vars:17,consts:[[1,"page-header","d-print-none"],[1,"container-xl"],[1,"row","g-2","align-items-center"],[1,"col"],[1,"page-pretitle"],[1,"page-title"],[1,"col-auto","ms-auto","d-print-none"],["class","btn-list",4,"ngIf"],[1,"page-body"],[1,"col-12"],[1,"card"],[1,"card-body","border-bottom","py-3"],[1,"d-flex"],[1,"text-muted"],[1,"form-select",3,"ngModel","ngModelChange","change"],["value",""],["value","Pending"],["value","In Transit"],["value","Completed"],[1,"ms-auto","text-muted"],[1,"input-icon"],["type","text","placeholder","Search.....",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-icon-addon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"],["d","M21 21l-6 -6"],[1,"table-responsive",2,"height","27rem"],["class","page-center container container-slim py-4",4,"ngIf"],["class","table card-table table-vcenter datatable table-sm table-fixed cell-border",4,"ngIf"],[1,"card-footer","d-flex","align-items-center"],[1,"m-0","text-muted"],[1,"pagination","m-0","ms-auto"],[3,"pageChange"],[3,"visible","fullScreen","visibleChange"],["pTemplate","header"],["pTemplate","content"],[3,"visible","maximizable","visibleChange"],["pTemplate","footer"],[1,"btn-list"],["type","button",1,"btn","btn-primary","d-sm-inline-block",3,"click"],["d","M12 5l0 14"],["d","M5 12l14 0"],[1,"page-center","container","container-slim","py-4"],[1,"text-center"],[1,"mb-3"],[1,"text-muted","mb-3"],[1,"progress","progress-sm"],[1,"progress-bar","progress-bar-indeterminate"],[1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed","cell-border"],["class","strong",4,"ngFor","ngForOf"],[1,"strong"],[1,"text-nowrap","text-center"],[4,"ngIf"],["class","text-muted",4,"ngIf"],["class","text-pink",4,"ngIf"],["class","text-success",4,"ngIf"],[3,"ngClass"],[4,"ngFor","ngForOf"],["type","button",1,"btn-link","strong",3,"click"],["class","text-danger",4,"ngIf"],["type","button","class","btn-link strong",3,"click",4,"ngIf"],[1,"text-danger"],[1,"text-pink"],[1,"text-success"],["class","text-reset d-block text-nowrap",4,"ngIf"],["class","text-reset d-block",4,"ngIf"],[1,"text-reset","d-block","text-nowrap"],[1,"text-reset","d-block"],[1,"text-warning"],["styleClass","w-4rem h-4rem","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s",4,"ngIf"],["type","button",1,"btn","btn-primary","d-sm-inline-block",3,"disabled","click"],[1,"m-0","strong"],[1,"w-1"],["inputId","binary",3,"ngModel","binary","ngModelChange","onChange"],["styleClass","w-4rem h-4rem","strokeWidth","8","fill","var(--surface-ground)","animationDuration",".5s"],[1,"strong","text-center","text-nowrap"],[1,"strong","text-center","text-danger","text-nowrap"],["class","col-12",4,"ngIf"],["class","col-12 strong",4,"ngIf"],["class","page-header d-print-none",4,"ngIf"],["autocomplete","off",3,"ngSubmit"],["myForm1","ngForm"],[1,"row","row-cards"],["type","hidden","name","id",3,"value"],[1,"col-sm-12","col-md-2"],[1,"form-label","required"],["required","","placeholder","Origin","name","origin",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["origin","ngModel"],["value","F1"],["value","F2"],["value","F3"],["value","F4"],["required","","placeholder","Origin","name","other",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["other","ngModel"],["value","Direct"],["required","","placeholder","Destination","name","destination",1,"form-select",3,"ngClass","ngModel","ngModelChange"],["destination","ngModel"],[1,"col-sm-12","col-md-3"],["required","","placeholder","Vehicle Life","name","driver",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["driver","ngModel"],[3,"value",4,"ngFor","ngForOf"],["required","","placeholder","Vehicle Life","name","vehicleno",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["vehicleno","ngModel"],[1,"card-footer","text-end"],[1,"btn","btn-link",3,"click"],["type","submit",1,"btn","btn-primary","ms-auto",3,"disabled"],[3,"value"],[1,"col-12","strong"],[1,"row"],[1,"col-md-3"],[1,"col-md-2"],[1,"col-md-1"],["type","button",3,"ngClass","click"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-trash"],["d","M4 7l16 0"],["d","M10 11l0 6"],["d","M14 11l0 6"],["d","M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"],["d","M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"],["class","text-danger text-center",4,"ngIf"],[1,"text-danger","text-center"],[1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed"],["class","col-sm-12 col-md-6",4,"ngIf"],[1,"col-sm-12","col-md-6"],["name","demo[]",3,"url","multiple","onUpload"],["required","","placeholder","Start Meter Reading","name","startmeterreading",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["startmeterreading","ngModel"],["required","","placeholder","End Meter Reading","name","endmeterreading",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["endmeterreading","ngModel"],["required","","placeholder","Current Status","name","currentstatus",1,"form-select",3,"ngClass","ngModel","ngModelChange"],["currentstatus","ngModel"],["value","Breakdown"]],template:function(n,r){1&n&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5," Overview "),t.qZA(),t.TgZ(6,"h2",5),t._uU(7," Trip Summary "),t.qZA()(),t.TgZ(8,"div",6),t.YNc(9,S,7,0,"div",7),t.qZA()()()(),t.TgZ(10,"div",8)(11,"div",1)(12,"div",9)(13,"div",10)(14,"div",11)(15,"div",12)(16,"div",13)(17,"select",14),t.NdJ("ngModelChange",function(p){return r.service.status=p})("change",function(){return r.LoadList()}),t.TgZ(18,"option",15),t._uU(19,"All"),t.qZA(),t.TgZ(20,"option",16),t._uU(21,"Pending"),t.qZA(),t.TgZ(22,"option",17),t._uU(23,"In Transit"),t.qZA(),t.TgZ(24,"option",18),t._uU(25,"Completed"),t.qZA()()(),t.TgZ(26,"div",19)(27,"div",20)(28,"input",21),t.NdJ("ngModelChange",function(p){return r.searchvalue=p}),t.qZA(),t.TgZ(29,"span",22),t.O4$(),t.TgZ(30,"svg",23),t._UZ(31,"path",24)(32,"path",25)(33,"path",26),t.qZA()()()()()(),t.kcU(),t.TgZ(34,"div",27),t.YNc(35,J,7,0,"div",28)(36,W,12,8,"table",29),t.qZA(),t.TgZ(37,"div",30)(38,"p",31),t._uU(39,"Showing "),t.TgZ(40,"span"),t._uU(41),t.qZA(),t._uU(42," to "),t.TgZ(43,"span"),t._uU(44),t.qZA(),t._uU(45," of "),t.TgZ(46,"span"),t._uU(47),t.qZA(),t._uU(48," entries "),t.qZA(),t.TgZ(49,"ul",32)(50,"pagination-controls",33),t.NdJ("pageChange",function(p){return r.pageChangeEvent(p)}),t.qZA()()()()()()(),t.TgZ(51,"p-sidebar",34),t.NdJ("visibleChange",function(p){return r.service.addtripfcrvisible=p}),t.YNc(52,X,1,0,"ng-template",35)(53,it,53,8,"ng-template",36),t.qZA(),t.TgZ(54,"p-sidebar",34),t.NdJ("visibleChange",function(p){return r.service.createtripvisible=p}),t.YNc(55,nt,1,0,"ng-template",35)(56,Tt,6,5,"ng-template",36),t.qZA(),t.TgZ(57,"p-dialog",37),t.NdJ("visibleChange",function(p){return r.opentriptoupdate=p}),t.YNc(58,Zt,1,1,"ng-template",35)(59,qt,19,7,"ng-template",36)(60,Ut,0,0,"ng-template",38),t.qZA()),2&n&&(t.xp6(9),t.Q6J("ngIf",!r.driverenable),t.xp6(8),t.Q6J("ngModel",r.service.status),t.xp6(11),t.Q6J("ngModel",r.searchvalue),t.xp6(7),t.Q6J("ngIf",r.loader),t.xp6(1),t.Q6J("ngIf",!r.loader),t.xp6(5),t.Oqu(r.frompage),t.xp6(3),t.Oqu(r.topage),t.xp6(3),t.Oqu(r.total),t.xp6(4),t.Q6J("visible",r.service.addtripfcrvisible)("fullScreen",!0),t.xp6(3),t.Q6J("visible",r.service.createtripvisible)("fullScreen",!0),t.xp6(3),t.Akn(t.DdM(16,yt)),t.Q6J("visible",r.opentriptoupdate)("maximizable",!0))},dependencies:[c.ez,c.mk,c.sg,c.O5,c.H9,c.uU,l.u5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.On,l.F,g.JX,g._s,g.LS,Z.l,Z.Y,M.jx,f.nD,f.XZ,x.S,x.V,b.O,b.p,C.L,C.G],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;border-collapse:collapse}"]})}return i})()}}]);