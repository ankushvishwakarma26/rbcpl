"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[5488],{5488:(le,u,d)=>{d.r(u),d.d(u,{OrdersoverdueComponent:()=>_e});var c=d(6814),o=d(6223),p=d(9246),l=d(951),f=d(2681),g=d(1312),m=d(6521),v=d(7248),e=d(9212),x=d(1148),Z=d(7473),T=d(2425),A=d(5633),h=d(5219);const O=()=>[c.mk,c.sg,c.O5,c.H9,c.uU,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.EJ,o.JJ,o.JL,o.Q7,o.On,o.F,h.jx,d.e(9176).then(d.bind(d,9176)).then(i=>i.TenderchatComponent),v.E,m.p,g.V,d.e(8592).then(d.bind(d,1836)).then(i=>i.TendercategorywiseComponent)];function b(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"h2",4),e._uU(1,"Orders Overdue List"),e.qZA(),e.TgZ(2,"div",5)(3,"div",6)(4,"input",7),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.service.searchvalue=r)}),e.qZA(),e.TgZ(5,"span",8),e.O4$(),e.TgZ(6,"svg",9),e._UZ(7,"path",10)(8,"path",11)(9,"path",12),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.service.searchvalue)}}function C(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",25),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.opendetails(r.id))}),e._uU(2),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.clientname)}}function q(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.opendetails(r.id))}),e._uU(2),e.qZA()()}if(2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name)}}function U(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",20)(1,"td",21),e._uU(2),e.qZA(),e.TgZ(3,"td",21),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div"),e._uU(7),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA(),e.YNc(12,C,3,1,"div",22)(13,q,3,1,"div",22),e.qZA(),e.TgZ(14,"td",21)(15,"div"),e._uU(16),e.ALo(17,"date"),e.qZA(),e.TgZ(18,"div"),e._uU(19),e.ALo(20,"date"),e.qZA()(),e.TgZ(21,"td")(22,"div",23),e._uU(23),e.qZA()(),e.TgZ(24,"td")(25,"div"),e._uU(26),e.qZA(),e.TgZ(27,"div"),e._uU(28),e.ALo(29,"date"),e.qZA()(),e.TgZ(30,"td")(31,"button",24),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.ViewImage(a))}),e._uU(32,"Action"),e.qZA()()()}if(2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.incharge),e.xp6(3),e.Oqu(t.type),e.xp6(2),e.Oqu(t.tenderno),e.xp6(2),e.Oqu(t.categoryname),e.xp6(1),e.Q6J("ngIf",t.accode),e.xp6(1),e.Q6J("ngIf",!t.accode),e.xp6(3),e.Oqu(e.xi3(17,13,t.tendersubmissiondate,"dd/MM/yy hh:mm a")),e.xp6(3),e.Oqu(e.xi3(20,16,t.tenderopeningdate,"dd/MM/yy hh:mm a")),e.xp6(3),e.Q6J("ngClass","L1"==t.level?"text-success":"text-danger"),e.xp6(1),e.Oqu(t.level),e.xp6(3),e.Oqu("Auto Moved"==t.statuscreatedby?t.openingcreatedby:t.statuscreatedby),e.xp6(2),e.Oqu(e.xi3(29,19,"Auto Moved"==t.statuscreatedby?t.openingcreateddate:t.statuscreateddate,"dd-MMM-yyyy hh:mm a"))}}function D(i,s){if(1&i&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),e._uU(8,"S.No."),e.qZA(),e.TgZ(9,"th",18),e._uU(10,"PIC"),e.qZA(),e.TgZ(11,"th",18),e._uU(12,"Type/Category/Name"),e.qZA(),e.TgZ(13,"th",18)(14,"div"),e._uU(15,"Tender Submission Date"),e.qZA(),e.TgZ(16,"div"),e._uU(17,"Tender Opening Date"),e.qZA()(),e.TgZ(18,"th",18),e._uU(19,"Rank"),e.qZA(),e.TgZ(20,"th",18),e._uU(21,"Last Update"),e.qZA(),e.TgZ(22,"th",18),e._uU(23,"Action"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,U,33,22,"tr",19),e.ALo(26,"filter"),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(25),e.Q6J("ngForOf",e.xi3(26,1,t.service.tenderlist,t.service.searchvalue))}}function M(i,s){if(1&i&&(e.TgZ(0,"div",27)(1,"p",28),e._uU(2,"Showing "),e.TgZ(3,"span"),e._uU(4,"1"),e.qZA(),e._uU(5," to "),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._uU(8," of "),e.TgZ(9,"span"),e._uU(10),e.qZA(),e._uU(11," entries"),e.qZA()()),2&i){const t=e.oxw();e.xp6(7),e.Oqu(t.service.tenderlist.length),e.xp6(3),e.Oqu(t.service.tenderlist.length)}}function y(i,s){if(1&i&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij("Tender In-Charge : ",t.service.tenderdata.incharge,"")}}function I(i,s){if(1&i&&(e._uU(0),e.YNc(1,y,2,1,"span",30)),2&i){const t=e.oxw(2);e.AsE("Orders Overdue (",t.service.tenderdata.id,") (",t.service.tenderdata.accode?t.service.tenderdata.clientname:t.service.tenderdata.name,") "),e.xp6(1),e.Q6J("ngIf",t.service.tenderdata.incharge)}}function w(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.Backto("Opening"))}),e._uU(1,"Back to Opening Overdue"),e.qZA()}}function N(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.Backto("Action"))}),e._uU(1,"Back to Action Overdue"),e.qZA()}}function E(i,s){1&i&&(e.TgZ(0,"div",70),e._uU(1,"Drag and drop files"),e.qZA())}function S(i,s){if(1&i&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.AsE("",t.name," - ",t.size," bytes ")}}function J(i,s){if(1&i&&(e.TgZ(0,"ul"),e.YNc(1,S,2,2,"li",71),e.qZA()),2&i){const t=e.oxw(5);e.xp6(1),e.Q6J("ngForOf",t.uploadedFiles)}}function L(i,s){if(1&i&&e.YNc(0,J,2,1,"ul",22),2&i){const t=e.oxw(4);e.Q6J("ngIf",t.uploadedFiles.length)}}function F(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",63)(1,"div",34)(2,"div",64)(3,"div",36)(4,"label",44),e._uU(5),e.qZA()()(),e.TgZ(6,"div",64)(7,"div",36)(8,"select",65),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.uploadfilename=r)}),e.TgZ(9,"option",66),e._uU(10,"LOA Copy"),e.qZA(),e.TgZ(11,"option",67),e._uU(12,"PO Copy"),e.qZA()()()()(),e.TgZ(13,"div",36)(14,"p-fileUpload",68),e.NdJ("onUpload",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.onUpload(r))}),e.YNc(15,E,2,0,"ng-template",69)(16,L,1,1,"ng-template",2),e.qZA()()()}if(2&i){const t=e.oxw(3);e.xp6(5),e.hij("Upload ",t.uploadfilename,""),e.xp6(3),e.Q6J("ngModel",t.uploadfilename),e.xp6(6),e.Q6J("url",t.imageservice.uploadurl+"/"+t.imageservice.id+"/"+t.uploadfilename)("multiple",!0)}}function Q(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label",44),e._uU(2,"SD Last Date of Submission"),e.qZA(),e.TgZ(3,"input",72,73),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.service.tenderdata.sddate=r)}),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw(3);e.xp6(3),e.Q6J("ngModel",n.service.tenderdata.sddate)("ngClass",t.invalid?"is-invalid":"is-valid mb-2")}}function P(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",36)(1,"label",44),e._uU(2,"SD Amount"),e.qZA(),e.TgZ(3,"input",74,75),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw(3);return e.KtG(a.service.tenderdata.sdamount=r)}),e.qZA()()}if(2&i){const t=e.MAs(4),n=e.oxw(3);e.xp6(3),e.Q6J("ngModel",n.service.tenderdata.sdamount)("ngClass",t.invalid?"is-invalid":"is-valid mb-2")}}function Y(i,s){if(1&i&&(e.TgZ(0,"h3",76),e._uU(1),e.ALo(2,"currency"),e.ALo(3,"date"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.AsE("EMD Not Paid : ",e.xi3(2,2,t.service.tenderdata.emdamount,"INR")," Last Date of EMD: (",e.xi3(3,5,t.service.tenderdata.emddate,"dd-MMM-yyyy"),")")}}function R(i,s){if(1&i&&(e.TgZ(0,"h3",77),e._uU(1),e.ALo(2,"currency"),e.ALo(3,"date"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.AsE("EMD Paid : ",e.xi3(2,2,t.service.tenderdata.emdamount,"INR")," (",e.xi3(3,5,t.service.tenderdata.emdcreateddate,"dd/MM/yy hh:mm a"),")")}}function k(i,s){1&i&&(e.TgZ(0,"h3",78),e._uU(1,"EMD Not Required"),e.qZA())}function K(i,s){if(1&i&&(e.TgZ(0,"h3",76),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij("EMD Not Sent : (Last Date of Sample: (",e.xi3(2,1,t.service.tenderdata.lastdateofsubmission,"dd-MMM-yyyy"),"))")}}function G(i,s){if(1&i&&(e.TgZ(0,"h3",77),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.hij("EMD Sent : ",e.xi3(2,1,t.service.tenderdata.samplescreateddate,"dd/MM/yy hh:mm a"),"")}}function W(i,s){1&i&&(e.TgZ(0,"h3",78),e._uU(1,"Sample Not Required"),e.qZA())}function B(i,s){if(1&i&&(e.TgZ(0,"tr",81)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div"),e._uU(5),e.qZA()(),e.TgZ(6,"td",82)(7,"div"),e._uU(8),e.qZA()(),e.TgZ(9,"td",82)(10,"div"),e._uU(11),e.qZA()(),e.TgZ(12,"td",82)(13,"div"),e._uU(14),e.ALo(15,"currency"),e.qZA()(),e.TgZ(16,"td",82)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",82)(20,"div"),e._uU(21),e.ALo(22,"currency"),e.qZA()(),e.TgZ(23,"td",82)(24,"div"),e._UZ(25,"i",83),e._uU(26),e.qZA()()()),2&i){const t=s.$implicit,n=s.index;e.Q6J("ngClass",1==t.isrational?"text-danger":""),e.xp6(2),e.Oqu(n+1),e.xp6(3),e.Oqu(t.level),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.qty.toLocaleString("en-IN")),e.xp6(3),e.Oqu(e.xi3(15,9,t.basicrate,"INR")),e.xp6(4),e.Oqu(t.gst),e.xp6(3),e.Oqu(e.xi3(22,12,t.basicrate+t.basicrate*t.gst/100,"INR")),e.xp6(5),e.hij(" ",t.total.toLocaleString("en-IN"),"")}}function H(i,s){if(1&i&&(e.TgZ(0,"div",63)(1,"table",79)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"S.No."),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Rank"),e.qZA(),e.TgZ(8,"th",18),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"th",18),e._uU(11,"Qty Quoted"),e.qZA(),e.TgZ(12,"th",18),e._uU(13,"Basic Rate"),e.qZA(),e.TgZ(14,"th",18),e._uU(15,"\xa0\xa0\xa0\xa0GST\xa0\xa0\xa0\xa0"),e.qZA(),e.TgZ(16,"th",18),e._uU(17,"Total Rate"),e.qZA(),e.TgZ(18,"th",18),e._uU(19,"Total"),e.qZA()()(),e.TgZ(20,"tbody"),e.YNc(21,B,27,15,"tr",80),e.qZA()()()),2&i){const t=e.oxw(3);e.xp6(21),e.Q6J("ngForOf",t.service.tenderopeninglist)}}function $(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.itemname)}}function j(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.item)}}function z(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.AsE("",t.placeofdelivery," (",e.xi3(2,2,t.deliveryperiod,"dd/MM/yy"),")")}}function V(i,s){if(1&i&&(e.TgZ(0,"tr",86)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,$,2,1,"div",22)(5,j,2,1,"div",22)(6,z,3,5,"div",22),e.qZA(),e.TgZ(7,"td",82)(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA()(),e.TgZ(12,"td",82)(13,"div"),e._uU(14),e.ALo(15,"currency"),e.qZA()(),e.TgZ(16,"td",82)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",82)(20,"div"),e._UZ(21,"i",83),e._uU(22),e.qZA()(),e.TgZ(23,"td",82)(24,"div"),e._UZ(25,"i",83),e._uU(26),e.qZA()()()),2&i){const t=s.$implicit,n=s.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Q6J("ngIf",t.itemcode),e.xp6(1),e.Q6J("ngIf",!t.itemcode),e.xp6(1),e.Q6J("ngIf",t.placeofdelivery&&t.deliveryperiod),e.xp6(3),e.Oqu(t.qty.toLocaleString("en-IN")),e.xp6(2),e.Oqu(t.unit),e.xp6(3),e.Oqu(e.xi3(15,10,t.lastamount,"INR")),e.xp6(4),e.Oqu(t.gst),e.xp6(4),e.hij(" ",(t.qty*t.lastamount).toLocaleString("en-IN"),""),e.xp6(4),e.hij(" ",(t.qty*(t.lastamount+t.lastamount*t.gst/100)).toLocaleString("en-IN"),"")}}function X(i,s){if(1&i&&(e.TgZ(0,"h3",87),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij("Total : ",t.service.convertNumberToWords(t.service.totalcalculation),"")}}function ee(i,s){if(1&i&&(e.TgZ(0,"h3",87),e._uU(1),e.qZA()),2&i){const t=e.oxw(4);e.xp6(1),e.hij("Total(GST) : ",t.service.convertNumberToWords(t.service.subtotalcalculation),"")}}function te(i,s){if(1&i&&(e.TgZ(0,"div",14)(1,"table",79)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"S.No."),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Item"),e.qZA(),e.TgZ(8,"th",18),e._uU(9,"Quantity"),e.qZA(),e.TgZ(10,"th",18),e._uU(11,"Approved Rate"),e.qZA(),e.TgZ(12,"th",18),e._uU(13,"\xa0\xa0\xa0\xa0GST\xa0\xa0\xa0\xa0"),e.qZA(),e.TgZ(14,"th",18),e._uU(15,"Total"),e.qZA(),e.TgZ(16,"th",18),e._uU(17,"Total(GST)"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,V,27,13,"tr",84),e.qZA(),e.TgZ(20,"tfoot",20),e._UZ(21,"td"),e.TgZ(22,"td"),e._uU(23,"Total"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA(),e._UZ(26,"td")(27,"td"),e.TgZ(28,"td",21),e._UZ(29,"i",83),e._uU(30),e.qZA(),e.TgZ(31,"td",21),e._UZ(32,"i",83),e._uU(33),e.qZA()()(),e.YNc(34,X,2,1,"h3",85)(35,ee,2,1,"h3",85),e.qZA()),2&i){const t=e.oxw(3);e.xp6(19),e.Q6J("ngForOf",t.service.tenderitemlist),e.xp6(6),e.Oqu(t.service.totalqty.toLocaleString("en-IN")),e.xp6(5),e.hij(" ",t.service.totalcalculation.toLocaleString("en-IN"),""),e.xp6(3),e.hij(" ",t.service.subtotalcalculation.toLocaleString("en-IN"),""),e.xp6(1),e.Q6J("ngIf",t.service.totalcalculation),e.xp6(1),e.Q6J("ngIf",t.service.subtotalcalculation)}}function ie(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",97),e.NdJ("click",function(){e.CHM(t);const r=e.oxw().$implicit,a=e.oxw(3);return e.KtG(a.DeleteImage(r.id))}),e._UZ(1,"i",98),e.qZA()}}function ne(i,s){if(1&i&&e._UZ(0,"p-image",99),2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.Q6J("src",n.imageservice.imageurl+t.path)("preview",!0)}}function re(i,s){if(1&i&&(e.TgZ(0,"a",100),e._UZ(1,"img",101),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.Q6J("href",n.imageservice.imageurl+t.path,e.LSH)}}function se(i,s){if(1&i&&(e.TgZ(0,"div",88)(1,"div",15)(2,"div",89)(3,"div",90)(4,"div",91),e._uU(5),e.qZA()(),e.TgZ(6,"div",92),e.YNc(7,ie,2,0,"button",93),e.qZA()(),e.TgZ(8,"div",94),e.YNc(9,ne,1,2,"p-image",95)(10,re,2,1,"a",96),e.qZA()()()),2&i){const t=s.$implicit,n=e.oxw(3);e.xp6(5),e.Oqu(t.type),e.xp6(2),e.Q6J("ngIf",n.isadmin),e.xp6(2),e.Q6J("ngIf","pdf"!=t.path.split(".").pop()),e.xp6(1),e.Q6J("ngIf","pdf"==t.path.split(".").pop())}}function ae(i,s){1&i&&(e.TgZ(0,"div")(1,"h1",102),e._uU(2,"No File Uploaded"),e.qZA()())}function de(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33),e._UZ(2,"app-tendercategorywise"),e.TgZ(3,"div",34)(4,"div",35)(5,"div",36),e.YNc(6,w,2,0,"button",37),e.qZA(),e.TgZ(7,"div",36),e.YNc(8,N,2,0,"button",37),e.qZA()(),e.TgZ(9,"div",35)(10,"div",36)(11,"button",38),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.AddImage())}),e._uU(12,"Add File"),e.qZA()()(),e.TgZ(13,"div",35)(14,"div",36)(15,"button",39),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.MovetoScrap())}),e._uU(16,"Scrap Tender"),e.qZA()()(),e.TgZ(17,"div",40)(18,"div",36)(19,"h3",23),e._uU(20),e.qZA()()(),e.YNc(21,F,17,4,"div",41),e.TgZ(22,"div",14)(23,"form",null,42)(25,"div",34)(26,"div",43)(27,"div",36)(28,"label",44),e._uU(29,"SD Required"),e.qZA(),e.TgZ(30,"select",45,46),e.NdJ("ngModelChange",function(r){e.CHM(t);const a=e.oxw(2);return e.KtG(a.service.tenderdata.sdrequired=r)}),e.TgZ(32,"option",47),e._uU(33,"----Select SD Required----"),e.qZA(),e.TgZ(34,"option",48),e._uU(35,"No"),e.qZA(),e.TgZ(36,"option",49),e._uU(37,"Yes"),e.qZA()()()(),e.TgZ(38,"div",43),e.YNc(39,Q,5,2,"div",50),e.qZA(),e.TgZ(40,"div",43),e.YNc(41,P,5,2,"div",50),e.qZA()(),e.TgZ(42,"div",51)(43,"div",52)(44,"button",53),e.NdJ("click",function(){e.CHM(t);const r=e.MAs(24),a=e.oxw(2);return e.KtG(a.Submit(r))}),e._uU(45,"Move to FO Overdue"),e.qZA()()()()(),e.TgZ(46,"div",54)(47,"label",55),e._uU(48,"EMD Information"),e.qZA(),e.YNc(49,Y,4,8,"h3",56)(50,R,4,8,"h3",57)(51,k,2,0,"h3",58),e.qZA(),e.TgZ(52,"div",54)(53,"label",55),e._uU(54,"Sample Information"),e.qZA(),e.YNc(55,K,3,4,"h3",56)(56,G,3,4,"h3",57)(57,W,2,0,"h3",58),e.qZA(),e.YNc(58,H,22,1,"div",41)(59,te,36,6,"div",59)(60,se,11,4,"div",60)(61,ae,3,0,"div",22),e.qZA()(),e.TgZ(62,"div",61),e._UZ(63,"app-tenderchat"),e.qZA()()}if(2&i){const t=e.MAs(24),n=e.MAs(31),r=e.oxw(2);e.xp6(6),e.Q6J("ngIf",r.isadmin),e.xp6(2),e.Q6J("ngIf",r.isadmin),e.xp6(11),e.Q6J("ngClass",r.service.emduploaded?"text-danger":"text-success"),e.xp6(1),e.Oqu(r.service.emduploaded?"Tender Orders File Not Uploaded so Please Upload File to Proceed":"Congratulation Tender Orders File has Successfully Uploaded"),e.xp6(1),e.Q6J("ngIf",r.uploadimage),e.xp6(9),e.Q6J("ngModel",r.service.tenderdata.sdrequired)("ngClass",n.invalid?"is-invalid":"is-valid mb-2"),e.xp6(9),e.Q6J("ngIf","Yes"==r.service.tenderdata.sdrequired),e.xp6(2),e.Q6J("ngIf","Yes"==r.service.tenderdata.sdrequired),e.xp6(3),e.Q6J("disabled",t.invalid||r.service.emduploaded),e.xp6(5),e.Q6J("ngIf","No"==r.service.tenderdata.emdexemption&&!r.service.tenderdata.emdcreateddate),e.xp6(1),e.Q6J("ngIf","No"==r.service.tenderdata.emdexemption&&r.service.tenderdata.emdcreateddate),e.xp6(1),e.Q6J("ngIf","Yes"==r.service.tenderdata.emdexemption),e.xp6(4),e.Q6J("ngIf","Yes"==r.service.tenderdata.samplerequired&&!r.service.tenderdata.samplescreateddate),e.xp6(1),e.Q6J("ngIf","Yes"==r.service.tenderdata.samplerequired&&r.service.tenderdata.samplescreateddate),e.xp6(1),e.Q6J("ngIf","No"==r.service.tenderdata.samplerequired),e.xp6(1),e.Q6J("ngIf",r.service.tenderopeninglist),e.xp6(1),e.Q6J("ngIf",r.service.tenderitemlist),e.xp6(1),e.Q6J("ngForOf",r.imageservice.rcuploadedlist),e.xp6(1),e.Q6J("ngIf",null==r.imageservice.rcuploadedlist)}}const oe=()=>({width:"100vw"});function ce(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p-dialog",29),e.NdJ("visibleChange",function(r){e.CHM(t);const a=e.oxw();return e.KtG(a.service.ordersvisible=r)}),e.YNc(1,I,2,3,"ng-template",1)(2,de,64,20,"ng-template",2),e.qZA()}if(2&i){const t=e.oxw();e.Akn(e.DdM(4,oe)),e.Q6J("visible",t.service.ordersvisible)("maximizable",!0)}}let _e=(()=>{class i{constructor(t,n,r,a,_){this.service=t,this.imageservice=n,this.datePipe=r,this.toast=a,this.userservice=_,this.searchvalue="",this.visible=!1,this.isadmin=!1,this.panelOpenState=!1,this.uploadfilename="LOA_Copy",this.uploadimage=!1,this.uploadedFiles=[],this.addtenderopeningvisible=!1}ngOnInit(){"Admin"==this.userservice.GetRole()&&(this.isadmin=!0)}expendaccordion(t){this.visible=!0,this.service.tenderdata=t,this.service.CalculateTotal()}Backto(t){1==confirm("Are You Sure want to Back to "+t+" Overdue?")&&("Action"==t?(this.service.tenderdata.statuscreateddate=null,this.service.tenderdata.statuscreatedby="",this.service.tenderdata.orderscreateddate=null,this.service.tenderdata.orderscreatedby=""):"Opening"==t&&(this.service.tenderdata.orderscreateddate=null,this.service.tenderdata.orderscreatedby="",this.service.tenderdata.actioncreateddate=null,this.service.tenderdata.actioncreatedby="",this.service.tenderdata.statuscreateddate=null,this.service.tenderdata.statuscreatedby="",this.service.tenderdata.openingcreateddate=null,this.service.tenderdata.openingcreatedby=""),this.service.CreateUpdate().subscribe(n=>{"success"==n.status?(this.toast.success(n.message,"Success"),this.service.ordersvisible=!1,this.service.LoadList(1,1e4,this.searchvalue,"Orders"),this.LoadDashboard()):this.toast.warning(n.message,"Warning")},n=>{this.toast.error(n,"Error")}))}MovetoNext(){this.service.tenderdata.orderscreateddate=this.gettime(),this.service.tenderdata.orderscreatedby=this.userservice.GetFullName(),this.service.CreateUpdate().subscribe(t=>{"success"==t.status?(this.toast.success(t.message,"Success"),this.service.ordersvisible=!1,this.service.LoadList(1,1e4,this.searchvalue,"Orders"),this.LoadDashboard()):this.toast.warning(t.message,"Warning")},t=>{this.toast.error(t,"Error")})}LoadDashboard(){this.service.GetDashboardReport().subscribe(t=>{this.service.dashboarddata=t})}gettime(){let t=new Date,r=t.getTime()+Math.abs(6e4*t.getTimezoneOffset());return new Date(r).toISOString()}opendetails(t){}ViewImage(t){this.service.ordersvisible=!0,this.service.tenderdata=t,this.uploadimage=!1,this.imageservice.id=t.id,this.imageservice.RefreshFile(),this.service.GetTenderItems(),this.service.tenderchatid=t.id,this.service.Chatbyid(t.id),this.service.ReadChat(t.id,this.userservice.GetUserName(),this.userservice.GetFullName()),this.service.tenderchatdata=new l.Y_,this.service.tenderchatdata.header="Orders Overdue",t.sddate&&(this.service.tenderdata.sddate=this.datePipe.transform(t.sddate,"yyyy-MM-dd")),this.LoadTenderOpening(t.id),this.CalculateImageUploaded(),setTimeout(()=>{this.CalculateImageUploaded()},1e3)}AddImage(){this.uploadimage=!this.uploadimage}DeleteImage(t){1==confirm("Are You Sure want to Delete?")?this.imageservice.DeleteImage(t).subscribe(n=>{console.log(n),(n.status="success")?this.toast.success(n.result,"Success"):this.toast.error(n.result,"Error"),this.imageservice.RefreshFile()}):this.toast.warning("File Deletion Cancelled","Cancelled")}onUpload(t){for(let n of t.files)this.uploadedFiles.push(n);this.imageservice.RefreshFile(),this.toast.success("File Successfully Uploaded","Success"),this.service.emduploaded=!1,this.CalculateImageUploaded(),setTimeout(()=>{this.CalculateImageUploaded()},1e3)}AddTenderOpening(){this.addtenderopeningvisible=!this.addtenderopeningvisible,this.addtenderopeningvisible||(this.service.tenderopeningdata=new l.wF)}EditTenderOpening(t){this.addtenderopeningvisible=!0,this.service.tenderopeningdata=t}ChangeRational(){this.service.tenderopeningdata.name=1==this.service.tenderopeningdata.isrational?"RATIONAL BUSINESS CORPORATION PVT LTD-SONIPAT":""}CalculateImageUploaded(){var t=this.imageservice.rcuploadedlist;t&&t.length>0&&t.forEach(n=>{if("LOA_Copy"==n.type)throw this.service.emduploaded=!1;this.service.emduploaded=!0})}CalculateTotal(){var a=this.service.tenderopeningdata.qty*this.service.tenderopeningdata.basicrate;this.service.tenderopeningdata.total=a+a*this.service.tenderopeningdata.gst/100}SubmitTenderOpening(t){t.valid&&(this.service.tenderopeningdata.uid=this.service.tenderdata.id,0==this.service.tenderopeningdata.id?(this.service.tenderopeningdata.createdby=this.userservice.GetFullName(),this.service.tenderopeningdata.createddate=this.gettime()):(this.service.tenderopeningdata.updatedby=this.userservice.GetFullName(),this.service.tenderopeningdata.updateddate=this.gettime()),this.service.CreateTenderOpening().subscribe(n=>{"success"==n.status?(this.toast.success(n.message,"Success"),this.LoadTenderOpening(this.imageservice.id),this.service.tenderopeningdata=new l.wF):this.toast.warning(n.message,"Warning")},n=>{this.toast.error(n,"Error")}))}LoadTenderOpening(t){this.service.GetTenderOpeningbyid(t).subscribe(n=>{"success"==n.status?this.service.tenderopeninglist=n.data:this.toast.warning(n.message,"Warning")})}DeleteTenderOpening(t){1==confirm("Are You Sure want to Delete?")&&this.service.DeleteOpeningbyid(t).subscribe(n=>{"success"==n.status?(this.toast.success(n.message,"Success"),this.LoadTenderOpening(this.imageservice.id)):this.toast.warning(n.message,"Warning")})}MovetoScrap(){1==confirm("Are You Sure want to Scrap Tender?")&&(this.service.tenderdata.status="Closure",this.service.CreateUpdate().subscribe(t=>{"success"==t.status?(this.toast.success("Tender Scrapped Successfully","Success"),this.service.openingvisible=!1,this.service.LoadList(1,1e4,this.searchvalue,"Orders"),this.LoadDashboard()):this.toast.warning(t.message,"Warning")},t=>{this.toast.error(t,"Error")}))}Submit(t){t.valid&&(1==this.service.emduploaded&&this.toast.warning("","Warning"),this.service.tenderdata.orderscreateddate=this.gettime(),this.service.tenderdata.orderscreatedby=this.userservice.GetFullName(),this.service.CreateUpdate().subscribe(n=>{"success"==n.status?(this.toast.success(n.message,"Success"),this.service.ordersvisible=!1,this.service.LoadList(1,1e4,this.searchvalue,"Orders"),this.LoadDashboard()):this.toast.warning(n.message,"Warning")},n=>{this.toast.error(n,"Error")}))}static#e=this.\u0275fac=function(n){return new(n||i)(e.Y36(x.$),e.Y36(Z.D),e.Y36(c.uU),e.Y36(T._W),e.Y36(A.K))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-ordersoverdue"]],standalone:!0,features:[e.jDz],decls:7,vars:3,consts:[[3,"visible","fullScreen","visibleChange"],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],[1,"page-title"],[1,"ms-auto","text-muted"],[1,"input-icon"],["type","text","placeholder","Search.....",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-icon-addon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"],["d","M21 21l-6 -6"],[1,"row","row-cards"],[1,"col-12"],[1,"card"],[1,"table-responsive"],["id","contentToConvert",1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed"],[1,"text-center"],["class","strong text-center",4,"ngFor","ngForOf"],[1,"strong","text-center"],[1,"text-nowrap"],[4,"ngIf"],[3,"ngClass"],["type","button",1,"btn","btn-outline-info","btn-pill","strong",3,"click"],["type","button",1,"btn-link","strong",3,"click"],["type","button",1,"btn-link","text-danger","strong",3,"click"],[1,"card-footer","d-flex","align-items-center"],[1,"m-0","strong"],[3,"visible","maximizable","visibleChange"],["class","text-danger strong",4,"ngIf"],[1,"text-danger","strong"],[1,"row","g-0"],[1,"col-12","col-lg-8","col-xl-8","border-end","card-body","scrollable",2,"height","35rem"],[1,"row"],[1,"col-md-4","text-center"],[1,"mb-3"],["type","button","class","btn btn-warning btn-pill",3,"click",4,"ngIf"],["type","button",1,"btn","btn-info","btn-pill",3,"click"],["type","button",1,"btn","btn-danger","btn-pill",3,"click"],[1,"col-md-12","text-center"],["class","col-md-12",4,"ngIf"],["myform","ngForm"],[1,"col-md-4"],[1,"form-label","required"],["required","","name","sdrequired","placeholder","Please Select SD Required",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["sdrequired","ngModel"],["value",""],["value","No"],["value","Yes"],["class","mb-3",4,"ngIf"],[1,"card-footer","text-end"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","ms-auto",3,"disabled","click"],[1,"col-md-6"],[1,"form-label"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-12","col-lg-4","col-xl-4","d-flex","flex-column"],["type","button",1,"btn","btn-warning","btn-pill",3,"click"],[1,"col-md-12"],[1,"col-6"],["name","filename","placeholder","File Name","autocomplete","off",1,"form-select",3,"ngModel","ngModelChange"],["value","LOA_Copy"],["value","PO_Copy"],["name","demo[]",3,"url","multiple","onUpload"],["pTemplate","toolbar"],[1,"py-3"],[4,"ngFor","ngForOf"],["type","date","name","sddate","required","","placeholder","Please Enter SD Last Date of Submission",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["sddate","ngModel"],["type","number","required","","name","sdamount","placeholder","Please Enter SD Amount",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["sdamount","ngModel"],[1,"text-danger"],[1,"text-success"],[1,"text-muted"],[1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed"],["class","strong",3,"ngClass",4,"ngFor","ngForOf"],[1,"strong",3,"ngClass"],[1,"text-nowrap","text-center"],[1,"fa","fa-rupee"],["class","strong",4,"ngFor","ngForOf"],["class","text-center text-muted",4,"ngIf"],[1,"strong"],[1,"text-center","text-muted"],[1,"col-md-3"],[1,"card-header"],[1,"row","text-center","strong"],[1,"mb-1"],[1,"card-actions","btn-actions"],["type","button","class","btn-link strong text-danger",3,"click",4,"ngIf"],[1,"card-body","p-0","text-center"],["width","100","height","100",3,"src","preview",4,"ngIf"],["class","text-center","target","_blank",3,"href",4,"ngIf"],["type","button",1,"btn-link","strong","text-danger",3,"click"],[1,"fa","fa-trash"],["width","100","height","100",3,"src","preview"],["target","_blank",1,"text-center",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/8/87/PDF_file_icon.svg","width","100","height","100"],[1,"text-danger","text-center"]],template:function(n,r){1&n&&(e.TgZ(0,"p-sidebar",0),e.NdJ("visibleChange",function(_){return r.service.ordersoverduevisible=_}),e.YNc(1,b,10,1,"ng-template",1)(2,D,27,4,"ng-template",2)(3,M,12,2,"ng-template",3),e.qZA(),e.YNc(4,ce,3,5),e.EqZ(5,4,O)),2&n&&(e.Q6J("visible",r.service.ordersoverduevisible)("fullScreen",!0),e.xp6(5),e.cPc(1==r.service.ordersvisible))},dependencies:[c.ez,c.mk,c.sg,c.O5,c.uU,o.u5,o.Fj,o.JJ,o.On,p.l,p.Y,h.jx,f.FilterPipe,v.$,m.O,g.S]})}return i})()}}]);