"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[7309],{7309:(Q,m,p)=>{p.r(m),p.d(m,{ManageModule:()=>Y});var u=p(6814),c=p(266),e=p(9212),g=p(5633),h=p(2425),v=p(7473),a=p(6223),_=p(6521),Z=p(5219),f=p(7248);function w(t,l){if(1&t&&(e.TgZ(0,"h3",49),e._uU(1),e.qZA()),2&t){const s=e.oxw();e.Q6J("ngClass","error"==s.status?"text-danger":"text-success"),e.xp6(1),e.Oqu(s.errormessage)}}function C(t,l){if(1&t&&e._UZ(0,"img",50),2&t){const s=e.oxw();e.MGl("src","data:image/*;base64,",s.profile,"",e.LSH)}}function T(t,l){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"slice"),e.qZA()),2&t){const s=e.oxw();e.xp6(1),e.Oqu(e.Dn7(2,1,s.fullname,0,1))}}function M(t,l){if(1&t){const s=e.EpF();e.TgZ(0,"div")(1,"label",14),e._uU(2,"Document Valid Upto"),e.qZA(),e.TgZ(3,"input",51),e.NdJ("ngModelChange",function(o){e.CHM(s);const r=e.oxw();return e.KtG(r.validupto=o)}),e.qZA()()}if(2&t){const s=e.oxw();e.xp6(3),e.Q6J("ngModel",s.validupto)("ngClass",s.validupto?"is-valid mb-2":"is-invalid")}}function b(t,l){1&t&&(e.TgZ(0,"div",52),e._uU(1,"Drag and drop files"),e.qZA())}function U(t,l){if(1&t&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&t){const s=l.$implicit;e.xp6(1),e.AsE("",s.name," - ",s.size," bytes ")}}function A(t,l){if(1&t&&(e.TgZ(0,"ul"),e.YNc(1,U,2,2,"li",53),e.qZA()),2&t){const s=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",s.imageservice.uploadedFiles)}}function y(t,l){if(1&t&&e.YNc(0,A,2,1,"ul",10),2&t){const s=e.oxw();e.Q6J("ngIf",s.imageservice.uploadedFiles.length)}}function P(t,l){if(1&t&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&t){const s=e.oxw().$implicit;e.xp6(1),e.hij("Valid : ",e.xi3(2,1,s.validupto,"dd/MM/YY"),"")}}function q(t,l){if(1&t&&e._UZ(0,"p-image",66),2&t){const s=e.oxw().$implicit,n=e.oxw();e.Q6J("src",n.imageservice.imageurl+s.path)("preview",!0)}}function x(t,l){if(1&t&&(e.TgZ(0,"a",67),e._UZ(1,"img",68),e.qZA()),2&t){const s=e.oxw().$implicit,n=e.oxw();e.Q6J("href",n.imageservice.imageurl+s.path,e.LSH)}}function N(t,l){if(1&t){const s=e.EpF();e.TgZ(0,"div",54)(1,"div",55)(2,"div",56)(3,"h5",5),e._uU(4),e._UZ(5,"br"),e.YNc(6,P,3,4,"span",10),e.qZA(),e.TgZ(7,"div",57)(8,"button",58),e.NdJ("click",function(){const r=e.CHM(s).$implicit,d=e.oxw();return e.KtG(d.DeleteImage(r.id))}),e.O4$(),e.TgZ(9,"svg",59),e._UZ(10,"path",60)(11,"path",61)(12,"path",62),e.qZA()()()(),e.kcU(),e.TgZ(13,"div",63),e.YNc(14,q,1,2,"p-image",64)(15,x,2,1,"a",65),e.qZA()()()}if(2&t){const s=l.$implicit;e.xp6(4),e.hij("",s.type," "),e.xp6(2),e.Q6J("ngIf","0001-01-01T00:00:00"!=s.validupto),e.xp6(8),e.Q6J("ngIf","pdf"!=s.path.split(".").pop()),e.xp6(1),e.Q6J("ngIf","pdf"==s.path.split(".").pop())}}function J(t,l){1&t&&(e.TgZ(0,"div")(1,"h1",69),e._uU(2,"No File Uploaded"),e.qZA()())}function F(t,l){1&t&&(e.TgZ(0,"h3",23),e._uU(1,"Congratulation!!! You have Successfully Changed Your Password."),e.qZA())}const I=[{path:"",redirectTo:"/manage/profile",pathMatch:"full"},{path:"profile",component:(()=>{class t{constructor(s,n,o,r){this.service=s,this.toast=n,this.imageservice=o,this.datePipe=r,this.profile=localStorage.getItem("profile"),this.image=!1,this.fullname=this.service.GetFullName(),this.email=this.service.GetUserName(),this.documenttype="",this.validupto=this.datePipe.transform(new Date,"0001-01-01"),this.leadtime=30,this.status="error"}ngOnInit(){this.imageservice.id=this.email,this.imageservice.RefreshFile(),this.image=null!=this.profile,this.service.GetUserbyemail(this.email).subscribe(s=>{this.service.updateuser=s,this.service.updateuser.userId=s.id,console.log(s)})}DeleteImage(s){1==confirm("Are You Sure want to Delete?")?this.imageservice.DeleteImage(s).subscribe(n=>{console.log(n),(n.status="success")?this.toast.success(n.result,"Success"):this.toast.error(n.result,"Error"),this.imageservice.RefreshFile()}):this.toast.warning("File Deletion Cancelled","Cancelled")}changedocument(){console.log(this.documenttype)}submit(s){this.service.UpdateUser().subscribe(n=>{"Success"==n.status?(this.status="success",this.errormessage="Congratulation!!! Your Profile have been Updated Successfully",this.toast.success(n.message,"Success")):(this.status="error",this.errormessage="Sorry!!!",this.toast.error(n.message,"Error"))})}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(g.K),e.Y36(h._W),e.Y36(v.D),e.Y36(u.uU))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-profile"]],decls:89,vars:14,consts:[[3,"ngSubmit"],["updateprofile","ngForm"],[1,"card-body"],[1,"mb-4"],["class","card-title",3,"ngClass",4,"ngIf"],[1,"card-title"],[1,"row","align-items-center"],[1,"col-auto"],[1,"avatar","avatar-xl"],[3,"src",4,"ngIf"],[4,"ngIf"],[1,"card-title","mt-4"],[1,"row","g-3"],[1,"col-md"],[1,"form-label"],["type","text","name","firstName",1,"form-control",3,"ngModel","ngModelChange"],["firstName","ngModel"],["type","text","name","lastName",1,"form-control",3,"ngModel","ngModelChange"],["lastName","ngModel"],["type","text","name","designation","readonly","",1,"form-control",3,"ngModel","ngModelChange"],["designation","ngModel"],["routerLink","/manage/changepassword",1,"btn"],[1,"row"],[1,"col-sm-12","col-md-4"],[1,"mb-3"],[1,"form-label","required"],["name","documenttype",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["value","","disabled","","selected",""],["value","Photos"],["value","Aadhar_Card"],["value","PAN_Card"],["value","10th_Marksheet"],["value","12th_Marksheet"],["value","Graduation_Marksheet"],["value","Post_Graduation_Marksheet"],["value","Other_Marksheet"],["value","Driving_License"],["value","Rational_Card"],["value","Other"],[1,"col-sm-12","col-md-8"],[1,"text-danger"],["name","demo[]",3,"url","multiple","onUpload"],["pTemplate","toolbar"],["pTemplate","content"],[1,"card-footer","bg-transparent","mt-auto"],[1,"btn-list","justify-content-end"],[1,"btn"],["type","submit",1,"btn","btn-primary"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"card-title",3,"ngClass"],[3,"src"],["type","date","name","validupto",1,"form-control",3,"ngModel","ngClass","ngModelChange"],[1,"py-3"],[4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"card"],[1,"card-header"],[1,"card-actions","btn-actions"],["type","button",1,"btn-action","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M18 6l-12 12"],["d","M6 6l12 12"],[1,"card-body","p-0"],["width","250","height","250",3,"src","preview",4,"ngIf"],["class","text-center","target","_blank",3,"href",4,"ngIf"],["width","250","height","250",3,"src","preview"],["target","_blank",1,"text-center",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/8/87/PDF_file_icon.svg","width","250","height","250"],[1,"text-danger","text-center"]],template:function(n,o){if(1&n){const r=e.EpF();e.TgZ(0,"form",0,1),e.NdJ("ngSubmit",function(){e.CHM(r);const i=e.MAs(1);return e.KtG(i.form.valid&&o.submit(i))}),e.TgZ(2,"div",2)(3,"h2",3),e._uU(4,"My Account"),e.qZA(),e.YNc(5,w,2,2,"h3",4),e.TgZ(6,"h3",5),e._uU(7,"Profile Details"),e.qZA(),e.TgZ(8,"div",6)(9,"div",7)(10,"span",8),e.YNc(11,C,1,1,"img",9)(12,T,3,5,"span",10),e.qZA()(),e.TgZ(13,"div",7),e._uU(14),e.qZA()(),e.TgZ(15,"h3",11),e._uU(16,"Account Profile"),e.qZA(),e.TgZ(17,"div",12)(18,"div",13)(19,"div",14),e._uU(20,"First Name"),e.qZA(),e.TgZ(21,"input",15,16),e.NdJ("ngModelChange",function(i){return o.service.updateuser.firstName=i}),e.qZA()(),e.TgZ(23,"div",13)(24,"div",14),e._uU(25,"Last Name"),e.qZA(),e.TgZ(26,"input",17,18),e.NdJ("ngModelChange",function(i){return o.service.updateuser.lastName=i}),e.qZA()(),e.TgZ(28,"div",13)(29,"div",14),e._uU(30,"Designation"),e.qZA(),e.TgZ(31,"input",19,20),e.NdJ("ngModelChange",function(i){return o.service.updateuser.designation=i}),e.qZA()()(),e.TgZ(33,"h3",11),e._uU(34,"Password"),e.qZA(),e.TgZ(35,"div")(36,"a",21),e._uU(37," Set new password "),e.qZA()(),e._UZ(38,"br"),e.TgZ(39,"div",22)(40,"div",23)(41,"div",24)(42,"label",25),e._uU(43,"Select Document Type"),e.qZA(),e.TgZ(44,"select",26),e.NdJ("ngModelChange",function(i){return o.documenttype=i}),e.TgZ(45,"option",27),e._uU(46,"----Select----"),e.qZA(),e.TgZ(47,"option",28),e._uU(48,"Photos"),e.qZA(),e.TgZ(49,"option",29),e._uU(50,"Aadhar Card"),e.qZA(),e.TgZ(51,"option",30),e._uU(52,"PAN Card"),e.qZA(),e.TgZ(53,"option",31),e._uU(54,"10th Marksheet"),e.qZA(),e.TgZ(55,"option",32),e._uU(56,"12th Marksheet"),e.qZA(),e.TgZ(57,"option",33),e._uU(58,"Graduation Marksheet"),e.qZA(),e.TgZ(59,"option",34),e._uU(60,"Post Graduation Marksheet"),e.qZA(),e.TgZ(61,"option",35),e._uU(62,"Other Marksheet"),e.qZA(),e.TgZ(63,"option",36),e._uU(64,"Driving License"),e.qZA(),e.TgZ(65,"option",37),e._uU(66,"Rational Card"),e.qZA(),e.TgZ(67,"option",38),e._uU(68,"Other"),e.qZA()(),e._UZ(69,"br"),e.YNc(70,M,4,2,"div",10),e.qZA()(),e.TgZ(71,"div",39)(72,"div",24)(73,"label",25),e._uU(74,"Document Uploads "),e.TgZ(75,"span",40),e._uU(76," (Now You can Upload Multiple Files at a time)"),e.qZA()(),e.TgZ(77,"p-fileUpload",41),e.NdJ("onUpload",function(i){return o.imageservice.onUpload(i)}),e.YNc(78,b,2,0,"ng-template",42)(79,y,1,1,"ng-template",43),e.qZA()()()()(),e.TgZ(80,"div",44)(81,"div",45)(82,"a",46),e._uU(83," Cancel "),e.qZA(),e.TgZ(84,"button",47),e._uU(85," Submit "),e.qZA()()()(),e.TgZ(86,"div",22),e.YNc(87,N,16,4,"div",48)(88,J,3,0,"div",10),e.qZA()}2&n&&(e.xp6(5),e.Q6J("ngIf",o.errormessage),e.xp6(6),e.Q6J("ngIf",o.image),e.xp6(1),e.Q6J("ngIf",!o.image),e.xp6(2),e.hij("Email : ",o.service.updateuser.email,""),e.xp6(7),e.Q6J("ngModel",o.service.updateuser.firstName),e.xp6(5),e.Q6J("ngModel",o.service.updateuser.lastName),e.xp6(5),e.Q6J("ngModel",o.service.updateuser.designation),e.xp6(13),e.Q6J("ngModel",o.documenttype)("ngClass",o.documenttype?"is-valid mb-2":"is-invalid"),e.xp6(26),e.Q6J("ngIf","Driving_License"==o.documenttype),e.xp6(7),e.Q6J("url",o.imageservice.vmpuploadurl+"/"+o.email+"/"+o.documenttype+"/"+o.validupto+"/"+o.leadtime)("multiple",!0),e.xp6(10),e.Q6J("ngForOf",o.imageservice.rcuploadedlist),e.xp6(1),e.Q6J("ngIf",null==o.imageservice.rcuploadedlist))},dependencies:[u.mk,u.sg,u.O5,c.rH,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.On,a.F,_.p,Z.jx,f.E,u.OU,u.uU]})}return t})()},{path:"changepassword",component:(()=>{class t{constructor(s,n){this.service=s,this.toast=n,this.statussuccess=!1,this.status="error",this.show_button=!1,this.show_eye=!1}ngOnInit(){var s=this.service.GetUserName();null!=s&&(this.service.updatepassworddata.userName=s),this.oldpassword=new a.NI("",[a.kI.required]),this.newpassword=new a.NI("",[a.kI.required,a.kI.maxLength(15),a.kI.minLength(8)]),this.confirmpassword=new a.NI("",[a.kI.required])}submit(s){this.service.updatepassworddata.newPassword!=this.service.updatepassworddata.confirmPassword?this.toast.error("Confirm Password do not Match!!! Please Try again"):this.service.UpdatePassword().subscribe(r=>{"success"==r.status?(this.toast.success(r.message,"Success"),this.service.updatepassworddata.newPassword="",this.service.updatepassworddata.confirmPassword="",this.statussuccess=!0,this.errormessage=""):this.toast.error(r.message,"Error")},r=>{this.toast.error(r,"Error")})}checkconfirmpassword(s){this.service.updatepassworddata.newPassword!=this.service.updatepassworddata.confirmPassword?(this.status="error",this.errormessage="Confirm Password do not Match with New Password!!! Please Try again"):(this.status="success",this.errormessage="Great You have Entered Matched Password")}showPassword(){this.show_button=!this.show_button,this.show_eye=!this.show_eye}static#e=this.\u0275fac=function(n){return new(n||t)(e.Y36(g.K),e.Y36(h._W))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-changepassword"]],decls:43,vars:16,consts:[[1,"card-body"],[1,"mb-4"],["class","card-title mt-4 text-success",4,"ngIf"],[3,"ngSubmit"],["changepassword","ngForm"],[1,"row","g-4"],[1,"col-md"],[1,"form-label"],["type","text","placeholder","userName","name","userName","required","","readonly","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["username","ngModel"],[1,"card-title","mt-4"],[1,"input-group","input-group-flat"],["autocomplete","off","type","password","placeholder","New Password","name","newPassword","required","",1,"form-control",3,"type","ngModel","ngClass","ngModelChange","keyup"],["newPassword","ngModel"],[1,"input-group-text"],["title","Show password","data-bs-toggle","tooltip",1,"link-secondary",3,"click"],["autocomplete","off","type","password","placeholder","Confirm Password","name","confirmPassword","required","",1,"form-control",3,"type","ngModel","ngClass","keyup","ngModelChange"],["confirmPassword","ngModel"],[1,"card-title","mt-4","text-center",3,"ngClass"],[1,"card-footer","bg-transparent","mt-auto"],[1,"btn-list","justify-content-end"],["routerLink","/manage/profile",1,"btn"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"card-title","mt-4","text-success"]],template:function(n,o){if(1&n){const r=e.EpF();e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Change Password"),e.qZA(),e.YNc(3,F,2,0,"h3",2),e.TgZ(4,"form",3,4),e.NdJ("ngSubmit",function(){e.CHM(r);const i=e.MAs(5);return e.KtG(i.form.valid&&o.submit(i))}),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7),e._uU(9,"Old Password"),e.qZA(),e.TgZ(10,"input",8,9),e.NdJ("ngModelChange",function(i){return o.service.updatepassworddata.userName=i}),e.qZA()(),e._UZ(12,"div",6),e.qZA(),e._UZ(13,"h3",10)(14,"h3",10),e.TgZ(15,"div",5)(16,"div",6)(17,"label",7),e._uU(18,"New Password"),e.qZA(),e.TgZ(19,"div",11)(20,"input",12,13),e.NdJ("ngModelChange",function(i){return o.service.updatepassworddata.newPassword=i})("keyup",function(){e.CHM(r);const i=e.MAs(5);return e.KtG(o.checkconfirmpassword(i))}),e.qZA(),e.TgZ(22,"span",14)(23,"a",15),e.NdJ("click",function(){return o.showPassword()}),e._UZ(24,"i"),e.qZA()()()(),e.TgZ(25,"div",6)(26,"label",7),e._uU(27,"Confirm Password"),e.qZA(),e.TgZ(28,"div",11)(29,"input",16,17),e.NdJ("keyup",function(){e.CHM(r);const i=e.MAs(5);return e.KtG(o.checkconfirmpassword(i))})("ngModelChange",function(i){return o.service.updatepassworddata.confirmPassword=i}),e.qZA(),e.TgZ(31,"span",14)(32,"a",15),e.NdJ("click",function(){return o.showPassword()}),e._UZ(33,"i"),e.qZA()()()()(),e.TgZ(34,"h3",18),e._uU(35),e.qZA(),e._UZ(36,"h3",10),e.TgZ(37,"div",19)(38,"div",20)(39,"a",21),e._uU(40," Cancel "),e.qZA(),e.TgZ(41,"button",22),e._uU(42," Submit "),e.qZA()()()()()}if(2&n){const r=e.MAs(11);e.xp6(3),e.Q6J("ngIf",o.statussuccess),e.xp6(7),e.Q6J("ngModel",o.service.updatepassworddata.userName)("ngClass",r.invalid?"is-invalid":"is-valid mb-2"),e.xp6(10),e.Q6J("type",o.show_button?"text":"password")("ngModel",o.service.updatepassworddata.newPassword)("ngClass","error"==o.status?"is-invalid":"is-valid mb-2"),e.xp6(4),e.Tol(o.show_eye?"fa fa-eye":"fa fa-eye-slash"),e.xp6(5),e.Q6J("type",o.show_button?"text":"password")("ngModel",o.service.updatepassworddata.confirmPassword)("ngClass","error"==o.status?"is-invalid":"is-valid mb-2"),e.xp6(4),e.Tol(o.show_eye?"fa fa-eye":"fa fa-eye-slash"),e.xp6(1),e.Q6J("ngClass","error"==o.status?"text-danger":"text-success"),e.xp6(1),e.Oqu(o.errormessage),e.xp6(6),e.Q6J("disabled","error"==o.status)}},dependencies:[u.mk,u.O5,c.rH,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.On,a.F]})}return t})()},{path:"feedback",component:(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-feedback"]],decls:23,vars:0,consts:[[1,"card-body"],[1,"mb-4"],[1,"row","g-4"],[1,"col-md"],[1,"form-label"],["type","text","placeholder","Subject",1,"form-control"],[1,"card-title","mt-4"],["type","text","rows","5","placeholder","Type Your Message here....",1,"form-control"],[1,"card-footer","bg-transparent","mt-auto"],[1,"btn-list","justify-content-end"],["href","#",1,"btn"],["href","#",1,"btn","btn-primary"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"h2",1),e._uU(2,"Help us improve"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"div",4),e._uU(6,"Subject"),e.qZA(),e._UZ(7,"input",5),e.qZA()(),e._UZ(8,"h3",6)(9,"h3",6),e.TgZ(10,"div",2)(11,"div",3)(12,"div",4),e._uU(13,"Message"),e.qZA(),e._UZ(14,"textarea",7),e.qZA()(),e._UZ(15,"h3",6)(16,"h3",6),e.TgZ(17,"div",8)(18,"div",9)(19,"a",10),e._uU(20," Cancel "),e.qZA(),e.TgZ(21,"a",11),e._uU(22," Submit "),e.qZA()()()())}})}return t})()}];let S=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#s=this.\u0275inj=e.cJS({imports:[c.Bz.forChild(I),c.Bz]})}return t})(),Y=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=e.oAB({type:t});static#s=this.\u0275inj=e.cJS({imports:[u.ez,c.Bz,S,a.u5,_.O,f.$]})}return t})()}}]);