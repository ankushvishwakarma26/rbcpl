"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[3120],{3120:(ae,f,c)=>{c.r(f),c.d(f,{MachineryconnectionComponent:()=>oe});var d=c(6814),m=c(3620),h=c(3997),r=c(6223),p=c(951),M=c(9246),C=c(7248),x=c(6521),u=c(4807),Z=c(1312),e=c(9212),T=c(8417),b=c(2425),A=c(377),U=c(5633),D=c(7473),q=c(1148),y=c(5219);const O=()=>[d.mk,d.H9,d.uU,r.Fj,r.JJ,r.On,M.Y,y.jx,Promise.resolve().then(c.bind(c,2681)).then(o=>o.FilterPipe)],E=()=>[d.mk,d.sg,d.O5,d.H9,d.uU,r._Y,r.YN,r.Kr,r.Fj,r.wV,r.EJ,r.JJ,r.JL,r.Q7,r.On,r.F,y.jx,C.E,x.p,u.w9,u.jq,c.e(9176).then(c.bind(c,9176)).then(o=>o.TenderchatComponent),Z.V];function w(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"h2",4),e._uU(1,"Connection Overdue List"),e.qZA(),e.TgZ(2,"div",5)(3,"div",6)(4,"input",7),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.searchvalue=n)}),e.qZA(),e.TgZ(5,"span",8),e.O4$(),e.TgZ(6,"svg",9),e._UZ(7,"path",10)(8,"path",11)(9,"path",12),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(4),e.Q6J("ngModel",t.searchvalue)}}function F(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"tr",21)(1,"td",22),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div"),e._uU(5),e.TgZ(6,"span",23),e._uU(7),e.qZA()(),e.TgZ(8,"div"),e._uU(9),e.ALo(10,"date"),e.qZA()(),e.TgZ(11,"td")(12,"div"),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.qZA()(),e.TgZ(17,"td")(18,"div"),e._uU(19),e.qZA(),e.TgZ(20,"div"),e._uU(21),e.ALo(22,"date"),e.qZA()(),e.TgZ(23,"td")(24,"button",24),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.expendaccordion(s))}),e._uU(25,"Action"),e.qZA()(),e.TgZ(26,"td")(27,"button",25),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.Delete(s))}),e._UZ(28,"i",20),e.qZA()()()}if(2&o){const t=a.$implicit,i=a.$index;e.xp6(2),e.Oqu(i+1),e.xp6(3),e.hij(" ",t.machinecode," "),e.xp6(1),e.Q6J("ngClass","F2"==t.location?"text-purple":"F3"==t.location?"text-yellow":"F4"==t.location?"text-orange":""),e.xp6(1),e.hij("(",t.location,")"),e.xp6(2),e.Oqu(e.xi3(10,10,t.receiptdate,"dd-MMM-yyyy")),e.xp6(4),e.AsE("",t.item," (",e.xi3(14,13,t.cost,"INR"),")"),e.xp6(3),e.Oqu(t.accode?t.name:t.vendername),e.xp6(3),e.Oqu(t.createdby),e.xp6(2),e.Oqu(e.xi3(22,16,t.createddate,"dd-MMM-yyyy hh:mm a"))}}function J(o,a){if(1&o&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),e._uU(8,"S.No."),e.qZA(),e.TgZ(9,"th",18),e._uU(10,"Machine Code"),e.qZA(),e.TgZ(11,"th",18),e._uU(12,"Machine/Vender Name"),e.qZA(),e.TgZ(13,"th",18),e._uU(14,"Last Update"),e.qZA(),e.TgZ(15,"th",18),e._uU(16,"Action"),e.qZA(),e.TgZ(17,"th",19),e._UZ(18,"i",20),e.qZA()()(),e.TgZ(19,"tbody"),e.SjG(20,F,29,19,"tr",26,e.x6l),e.ALo(22,"filter"),e.qZA()()()()()()),2&o){const t=e.oxw(2);e.xp6(20),e.wJu(e.xi3(22,0,t.service.machinerylist,t.searchvalue))}}function N(o,a){if(1&o&&(e.TgZ(0,"div",27)(1,"p",28),e._uU(2,"Showing "),e.TgZ(3,"span"),e._uU(4,"1"),e.qZA(),e._uU(5," to "),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._uU(8," of "),e.TgZ(9,"span"),e._uU(10),e.qZA(),e._uU(11," entries"),e.qZA()()),2&o){const t=e.oxw(3);e.xp6(7),e.Oqu(t.service.machinerylist.length),e.xp6(3),e.Oqu(t.service.machinerylist.length)}}function P(o,a){1&o&&e.YNc(0,N,12,2,"ng-template",3)}function S(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"p-sidebar",0),e.NdJ("visibleChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.service.connectionoverduevisible=n)}),e.YNc(1,w,10,1,"ng-template",1)(2,J,23,3,"ng-template",2)(3,P,1,0,null,3),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("visible",t.service.connectionoverduevisible)("fullScreen",!0),e.xp6(3),e.um2(3,t.service.machinerylist?3:-1)}}function K(o,a){if(1&o&&(e.TgZ(0,"label",43),e._uU(1),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.hij("Remarks : ",t.service.machinerydata.remarks,"")}}function L(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",53)(1,"div",54)(2,"div",55)(3,"label",43),e._uU(4),e.qZA()(),e.TgZ(5,"div",55)(6,"label",43),e._uU(7),e.ALo(8,"date"),e.qZA()(),e.TgZ(9,"div",56)(10,"label",43),e._uU(11),e.qZA()(),e.TgZ(12,"div",55)(13,"label",43),e._uU(14),e.qZA()(),e.TgZ(15,"div",55)(16,"label",43),e._uU(17),e.ALo(18,"currency"),e.qZA()(),e.TgZ(19,"div",56)(20,"label",43),e._uU(21),e.qZA()(),e.TgZ(22,"div",57),e.YNc(23,K,2,1,"label",58),e.qZA(),e.TgZ(24,"div",59)(25,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.EditForm())}),e._uU(26),e.qZA()(),e.TgZ(27,"div",59)(28,"button",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.AddAssessories())}),e._uU(29),e.qZA()(),e.TgZ(30,"div",57)(31,"button",61),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.MovetoNextOverdue())}),e._uU(32,"Move to Qualification Overdue"),e.qZA()()()()}if(2&o){const t=e.oxw(2);e.xp6(4),e.hij("Machine Code : ",t.service.machinerydata.machinecode,""),e.xp6(3),e.hij("Receipt Date : ",e.xi3(8,11,t.service.machinerydata.receiptdate,"dd-MMM-yyyy"),""),e.xp6(4),e.hij("Machine Name : ",t.service.machinerydata.item,""),e.xp6(3),e.hij("Location : ",t.service.machinerydata.location,""),e.xp6(3),e.hij("Machine Cost : ",e.xi3(18,14,t.service.machinerydata.cost,"INR"),""),e.xp6(4),e.hij("Vender Name : ",t.service.machinerydata.accode?t.service.machinerydata.name:t.service.machinerydata.vendername,""),e.xp6(2),e.Q6J("ngIf",t.service.machinerydata.remarks),e.xp6(2),e.Q6J("ngClass",t.editform?"btn btn-outline-danger":"btn btn-outline-info"),e.xp6(1),e.Oqu(t.editform?"Hide":"Edit"),e.xp6(2),e.Q6J("ngClass",t.assessories?"btn btn-outline-danger":"btn btn-outline-info"),e.xp6(1),e.Oqu(t.assessories?"Hide Accessories":"Add Accessories")}}function G(o,a){if(1&o&&(e.TgZ(0,"ng-option",91),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.code),e.xp6(1),e.Oqu(t.name)}}function I(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",62)(1,"div",39)(2,"label",43),e._uU(3,"Machine Code"),e.qZA(),e.TgZ(4,"input",63,64),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.machinerydata.machinecode=n)}),e.qZA()()(),e.TgZ(6,"div",62)(7,"div",39)(8,"label",43),e._uU(9,"Location"),e.qZA(),e.TgZ(10,"select",65,66),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.machinerydata.location=n)}),e.TgZ(12,"option",67),e._uU(13,"-----Select Location-----"),e.qZA(),e.TgZ(14,"option",68),e._uU(15,"F1"),e.qZA(),e.TgZ(16,"option",69),e._uU(17,"F2"),e.qZA(),e.TgZ(18,"option",70),e._uU(19,"F3"),e.qZA(),e.TgZ(20,"option",71),e._uU(21,"F4"),e.qZA(),e.TgZ(22,"option",72),e._uU(23,"RO"),e.qZA(),e.TgZ(24,"option",73),e._uU(25,"CO"),e.qZA()()()(),e.TgZ(26,"div",74)(27,"div",39)(28,"label",75),e._uU(29,"Vender Name"),e.qZA(),e.TgZ(30,"ng-select",76,77),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.machinerydata.accode=n)})("keyup",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.SearchDealer(n))}),e.YNc(32,G,2,2,"ng-option",78),e.qZA()()(),e.TgZ(33,"div",62)(34,"div",39)(35,"label",75),e._uU(36,"Receipt Date"),e.qZA(),e.TgZ(37,"input",79,80),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.machinerydata.receiptdate=n)}),e.qZA()()(),e.TgZ(39,"div",62)(40,"div",39)(41,"label",75),e._uU(42,"Machine Cost"),e.qZA(),e.TgZ(43,"input",81,82),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.machinerydata.cost=n)}),e.qZA()()(),e.TgZ(45,"div",74)(46,"div",39)(47,"label",75),e._uU(48,"Machine Name"),e.qZA(),e.TgZ(49,"input",83,84),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.machinerydata.item=n)}),e.qZA()()(),e.TgZ(51,"div",53)(52,"div",39)(53,"label",43),e._uU(54,"Remarks"),e.qZA(),e.TgZ(55,"textarea",85,86),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.machinerydata.remarks=n)}),e._uU(57,"                                "),e.qZA()(),e.TgZ(58,"div",87)(59,"div",88)(60,"a",89),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.service.connectionoverduevisible=!1)}),e._uU(61,"Cancel"),e.qZA(),e.TgZ(62,"button",90),e._uU(63,"Submit"),e.qZA()()()()}if(2&o){const t=e.MAs(5),i=e.MAs(11),n=e.MAs(31),s=e.MAs(38),l=e.MAs(44),g=e.MAs(50),v=e.MAs(56);e.oxw();const se=e.MAs(5),_=e.oxw();e.xp6(4),e.Q6J("ngClass",t.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.machinerydata.machinecode),e.xp6(6),e.Q6J("ngClass",i.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.machinerydata.location),e.xp6(20),e.Q6J("ngClass",n.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.machinerydata.accode),e.xp6(2),e.Q6J("ngForOf",_.filtereddata),e.xp6(5),e.Q6J("ngClass",s.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.machinerydata.receiptdate),e.xp6(6),e.Q6J("ngClass",l.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.machinerydata.cost),e.xp6(6),e.Q6J("ngClass",g.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.machinerydata.item),e.xp6(6),e.Q6J("ngClass",v.invalid?"is-invalid":"is-valid mb-2")("ngModel",_.service.machinerydata.remarks),e.xp6(7),e.Q6J("disabled",se.invalid||_.invoice||_.machinephoto)}}function k(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"div",41)(1,"div",39)(2,"form",32,92),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.MAs(3),s=e.oxw(2);return e.KtG(n.form.valid&&s.SubmitAssessories(n))}),e.TgZ(4,"div",13)(5,"div",74)(6,"label",75),e._uU(7,"Category Name"),e.qZA(),e._UZ(8,"input",34),e.TgZ(9,"select",93,94),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.machineryassessoriesdata.category=n)}),e.TgZ(11,"option",67),e._uU(12,"----Select Category----"),e.qZA(),e.TgZ(13,"option",95),e._uU(14,"Offset Cassettes Wet"),e.qZA(),e.TgZ(15,"option",96),e._uU(16,"Offset Cassettes Dry"),e.qZA(),e.TgZ(17,"option",97),e._uU(18,"Plate cylinders"),e.qZA(),e.TgZ(19,"option",98),e._uU(20,"Perforation Cylinders"),e.qZA(),e.TgZ(21,"option",99),e._uU(22,"Magnetic Cylinder"),e.qZA(),e.TgZ(23,"option",100),e._uU(24,"Anvil to Mag"),e.qZA(),e.TgZ(25,"option",101),e._uU(26,"Anilox Roller"),e.qZA(),e.TgZ(27,"option",102),e._uU(28,"CAM"),e.qZA()()(),e.TgZ(29,"div",62)(30,"label",43),e._uU(31,"Size(Inch)"),e.qZA(),e.TgZ(32,"input",103,104),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.machineryassessoriesdata.size=n)}),e.qZA()(),e.TgZ(34,"div",62)(35,"label",43),e._uU(36,"Pieces"),e.qZA(),e.TgZ(37,"input",105,106),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.machineryassessoriesdata.pieces=n)}),e.qZA()()(),e.TgZ(39,"div",87)(40,"div",88)(41,"a",89),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.ResetAssessories())}),e._uU(42,"Reset"),e.qZA(),e.TgZ(43,"button",90),e._uU(44,"Submit"),e.qZA()()()()()()}if(2&o){const t=e.MAs(3),i=e.MAs(10),n=e.MAs(33),s=e.MAs(38),l=e.oxw(2);e.xp6(8),e.Q6J("value",l.service.machineryassessoriesdata.id),e.xp6(1),e.Q6J("ngClass",i.invalid?"is-invalid":"is-valid mb-2")("ngModel",l.service.machineryassessoriesdata.category),e.xp6(23),e.Q6J("ngModel",l.service.machineryassessoriesdata.size)("ngClass",n.invalid?"is-invalid":"is-valid mb-2"),e.xp6(5),e.Q6J("ngModel",l.service.machineryassessoriesdata.pieces)("ngClass",s.invalid?"is-invalid":"is-valid mb-2"),e.xp6(6),e.Q6J("disabled",t.invalid)}}function R(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"td",22)(1,"button",112),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.DeleteAssessories(n))}),e._UZ(2,"i",20),e.qZA()()}}function Y(o,a){if(1&o&&(e.TgZ(0,"tr",109)(1,"td",108),e._uU(2),e.qZA(),e.TgZ(3,"td",18)(4,"div"),e._uU(5),e.qZA()(),e.TgZ(6,"td",110)(7,"div"),e._uU(8),e.qZA()(),e.TgZ(9,"td",110)(10,"div"),e._uU(11),e.qZA()(),e.TgZ(12,"td",110)(13,"div"),e._uU(14),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.ALo(17,"date"),e.qZA()(),e.YNc(18,R,3,0,"td",111),e.qZA()),2&o){const t=a.$implicit,i=a.$index,n=e.oxw(3);e.xp6(2),e.hij(" ",i+1," "),e.xp6(3),e.Oqu(t.category),e.xp6(3),e.Oqu(t.size),e.xp6(3),e.Oqu(t.pieces),e.xp6(3),e.Oqu(t.createdby),e.xp6(2),e.Oqu(e.xi3(17,7,t.createddate,"dd/MM/YYYY hh:mm a")),e.xp6(2),e.um2(18,n.isadmin?18:-1)}}function H(o,a){if(1&o&&(e.TgZ(0,"table",107)(1,"thead")(2,"tr")(3,"th",108),e._uU(4,"S.No."),e.qZA(),e.TgZ(5,"th",18),e._uU(6,"Cateogory"),e.qZA(),e.TgZ(7,"th",18),e._uU(8,"Size"),e.qZA(),e.TgZ(9,"th",18),e._uU(10,"Pieces"),e.qZA(),e.TgZ(11,"th",18),e._uU(12,"Createdby"),e.qZA(),e.TgZ(13,"th",18),e._uU(14,"Action"),e.qZA()()(),e.TgZ(15,"tbody"),e.SjG(16,Y,19,10,"tr",113,e.x6l),e.qZA()()),2&o){const t=e.oxw(2);e.xp6(16),e.wJu(t.service.machineryassessorieslist)}}function Q(o,a){1&o&&(e.TgZ(0,"h1",114),e._uU(1,"No List Available"),e.qZA())}function W(o,a){1&o&&(e.TgZ(0,"div",115),e._uU(1,"Drag and drop files"),e.qZA())}function j(o,a){if(1&o&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&o){const t=a.$implicit;e.xp6(1),e.AsE("",t.name," - ",t.size," bytes ")}}function B(o,a){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,j,2,2,"li",117),e.qZA()),2&o){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.uploadedFiles)}}function $(o,a){if(1&o&&e.YNc(0,B,2,1,"ul",116),2&o){const t=e.oxw(2);e.Q6J("ngIf",t.uploadedFiles.length)}}function z(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"button",125),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.DeleteImage(n.id))}),e.O4$(),e.TgZ(1,"svg",9),e._UZ(2,"path",10)(3,"path",126)(4,"path",127),e.qZA()()}}function V(o,a){if(1&o&&e._UZ(0,"p-image",124),2&o){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("src",i.imageservice.imageurl+t.path)("preview",!0)}}function X(o,a){if(1&o&&(e.TgZ(0,"a",128),e._UZ(1,"img",129),e.qZA()),2&o){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("href",i.imageservice.imageurl+t.path,e.LSH)}}function ee(o,a){if(1&o&&(e.TgZ(0,"div",118)(1,"div",15)(2,"div",119)(3,"h3",120),e._uU(4),e.qZA(),e.TgZ(5,"div",121),e.YNc(6,z,5,0,"button",122),e.qZA()(),e.TgZ(7,"div",123),e.YNc(8,V,1,2,"p-image",124)(9,X,2,1),e.qZA()()()),2&o){const t=a.$implicit,i=e.oxw(2);e.xp6(4),e.Oqu(t.type),e.xp6(2),e.Q6J("ngIf",i.isadmin),e.xp6(2),e.um2(8,"pdf"!=t.path.split(".").pop()?8:9)}}function te(o,a){1&o&&(e.TgZ(0,"div")(1,"h1",114),e._uU(2,"No File Uploaded"),e.qZA()())}const ie=()=>({width:"100vw"});function ne(o,a){if(1&o){const t=e.EpF();e.TgZ(0,"p-dialog",29),e.NdJ("visibleChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.visible=n)}),e.TgZ(1,"div",30)(2,"div",31)(3,"div",14)(4,"form",32,33),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.MAs(5),s=e.oxw();return e.KtG(n.form.valid&&s.update(n))}),e.TgZ(6,"div",13),e._UZ(7,"input",34),e.YNc(8,L,33,17,"div",35)(9,I,64,16),e.qZA(),e._UZ(10,"br"),e.qZA()(),e.TgZ(11,"div",36),e.YNc(12,k,45,8,"div",37),e.TgZ(13,"div",38)(14,"div",39)(15,"div",16),e.YNc(16,H,18,0,"table",40)(17,Q,2,0),e.qZA()()(),e.TgZ(18,"div",41)(19,"div",39)(20,"div",36)(21,"div",42)(22,"div",39)(23,"label",43),e._uU(24),e.qZA()()(),e.TgZ(25,"div",42)(26,"div",39)(27,"select",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.uploadfilename=n)}),e.TgZ(28,"option",45),e._uU(29,"Machine_Photos"),e.qZA(),e.TgZ(30,"option",46),e._uU(31,"Machine_Item_Photos"),e.qZA(),e.TgZ(32,"option",47),e._uU(33,"Machine_Item_Drawing"),e.qZA(),e.TgZ(34,"option",48),e._uU(35,"Invoice"),e.qZA(),e.TgZ(36,"option",49),e._uU(37,"Other"),e.qZA()()()(),e.TgZ(38,"div",14)(39,"div",39)(40,"p-fileUpload",50),e.NdJ("onUpload",function(n){e.CHM(t);const s=e.oxw();return e.KtG(s.onUpload(n))}),e.YNc(41,W,2,0,"ng-template",51)(42,$,1,1,"ng-template",2),e.qZA()()()()()()(),e.TgZ(43,"div",36),e.SjG(44,ee,10,3,"div",130,e.x6l,!1,te,3,0),e.qZA()(),e.TgZ(47,"div",52),e._UZ(48,"app-tenderchat"),e.qZA()()()}if(2&o){const t=e.oxw();e.Akn(e.DdM(14,ie)),e.Q6J("visible",t.visible)("maximizable",!0),e.xp6(7),e.Q6J("value",t.service.machinerydata.id),e.xp6(1),e.um2(8,null!=t.service.machinerydata.id&&null==t.service.machinerydata.itemcode?8:-1),e.xp6(1),e.um2(9,t.editform?9:-1),e.xp6(3),e.um2(12,t.assessories?12:-1),e.xp6(4),e.um2(16,t.service.machineryassessorieslist.length>0?16:17),e.xp6(8),e.hij("Upload ",t.uploadfilename,""),e.xp6(3),e.Q6J("ngModel",t.uploadfilename),e.xp6(13),e.Q6J("url",t.imageservice.uploadurl+"/"+t.imageservice.id+"/"+t.uploadfilename)("multiple",!0),e.xp6(4),e.wJu(t.imageservice.rcuploadedlist)}}let oe=(()=>{class o{constructor(t,i,n,s,l,g,v){this.service=t,this.toast=i,this.p2pservice=n,this.datePipe=s,this.userservice=l,this.imageservice=g,this.tenderservice=v,this.isadmin=!1,this.searchvalue="",this.currentuser=this.userservice.GetFullName(),this.ismovable=!0,this.panelOpenState=!1,this.visible=!1,this.uploadfilename="Machine_Photos",this.uploadedFiles=[],this.invoice=!1,this.machinephoto=!1,this.assessories=!1,this.editform=!1}ngOnInit(){"Admin"==this.userservice.GetRole()&&(this.isadmin=!0)}CheckMovetoNext(){this.service.machineryassessorieslist.length>0&&this.imageservice.rcuploadedlist.length>0&&(this.ismovable=!0)}LoadOverdueList(){this.service.GetMachineryList(1,1e4,"","","DemandOverdue").subscribe(t=>{this.service.machinerylist=t.data},t=>{this.toast.error(t)})}LoadDashboard(){this.service.GetDashboardReport().subscribe(t=>{this.service.dashboarddata=t})}SearchItem(t){this.p2pservice.SearchItem(t.target.value).pipe((0,m.b)(500),(0,h.x)()).subscribe(n=>{"success"==n.status?(console.log(n),this.filtereddata=n.data):this.toast.error(n.message,"Error")})}update(t){this.service.CreateUpdate().subscribe(i=>{"success"==i.status?(this.toast.success(i.key,"Success"),this.LoadOverdueList(),this.LoadDashboard(),this.filtereddata=null,this.visible=!1):this.toast.error(i.key,"Error")},i=>{this.toast.error(i,"Error")})}gettime(){let t=new Date,n=t.getTime()+Math.abs(6e4*t.getTimezoneOffset());return new Date(n).toISOString()}expendaccordion(t){this.service.machinerydata=t,this.visible=!0,this.tenderservice.tenderchatid=t.id,this.imageservice.id=t.id,this.imageservice.RefreshFile(),this.tenderservice.Chatbyid(t.id),this.tenderservice.ReadChat(t.id,this.userservice.GetUserName(),this.userservice.GetFullName()),this.tenderservice.tenderchatdata=new p.Y_,this.tenderservice.tenderchatdata.header="Connection Overdue",this.tenderservice.tenderchatdata.type="Machinery",t.receiptdate&&(this.service.machinerydata.receiptdate=this.datePipe.transform(t.receiptdate,"yyyy-MM-dd")),this.GetAssessories(),this.p2pservice.SearchDealer(t.accode?t.name:t.vendername).pipe((0,m.b)(500),(0,h.x)()).subscribe(n=>{"success"==n.status?this.filtereddata=n.data:this.toast.error(n.message,"Error")})}Delete(t){1==confirm("Are You Sure want to Delete "+t.machinecode)&&this.service.Delete(t.id).subscribe(i=>{"success"==i.status?(this.toast.success(i.message,"Success"),this.LoadOverdueList(),this.LoadDashboard()):this.toast.warning(i.message,"Warning")},i=>{this.toast.error(i,"Error")})}Displaystock(t){var i=this.service.machinerydata.itemcode;console.log(i,t),this.p2pservice.GetStockbyid(i).subscribe(n=>{"success"==n.status?(this.p2pservice.stockitems=n.data,console.log(n)):this.toast.warning(n.message,"Warning")})}onUpload(t){for(let i of t.files)this.uploadedFiles.push(i);this.imageservice.RefreshFile(),this.toast.success("File Successfully Uploaded","Success"),this.CalculateImageUploaded()}DeleteImage(t){1==confirm("Are You Sure want to Delete?")?this.imageservice.DeleteImage(t).subscribe(i=>{(i.status="success")?this.toast.success(i.result,"Success"):this.toast.error(i.result,"Error"),this.imageservice.RefreshFile()}):this.toast.warning("File Deletion Cancelled","Cancelled")}CalculateImageUploaded(){this.invoice=!1,this.machinephoto=!1;var t=this.imageservice.rcuploadedlist;t&&t.length>0&&t.forEach(i=>{this.invoice="Invoice"==i.type,this.machinephoto="Machine_Photos"==i.type})}SearchDealer(t){this.p2pservice.SearchDealer(t.target.value).pipe((0,m.b)(500),(0,h.x)()).subscribe(n=>{console.log(n),"success"==n.status?this.filtereddata=n.data:this.toast.error(n.message,"Error")})}AddAssessories(){this.assessories=!this.assessories}GetAssessories(){this.service.MachineryAssessoriesbyid(this.service.machinerydata.id).subscribe(t=>{"success"==t.status&&(this.service.machineryassessorieslist=t.data)})}EditForm(){this.editform=!this.editform}ResetAssessories(){this.service.machineryassessoriesdata=new p.Vd}SubmitAssessories(t){t.valid?(this.service.machineryassessoriesdata.uid=this.service.machinerydata.id,this.service.machineryassessoriesdata.createdby=this.userservice.GetFullName(),this.service.machineryassessoriesdata.createddate=new Date,this.service.CreateUpdateMachineryAssessories().subscribe(i=>{"success"==i.status?(this.toast.success(i.message,"Success"),this.service.machineryassessoriesdata=new p.Vd,this.GetAssessories()):this.toast.warning(i.message,"Warning")})):this.toast.error("Invalid Form!!! Please Fill Assessories","Error")}UpdateAssesories(t){this.service.machineryassessoriesdata=t,this.service.machineryassessoriesdata.updatedby=this.userservice.GetFullName(),this.service.machineryassessoriesdata.updateddate=new Date,this.service.CreateUpdateMachineryAssessories().subscribe(i=>{"success"==i.status?(this.toast.success(i.message,"Success"),this.GetAssessories()):this.toast.warning(i.message,"Warning")})}DeleteAssessories(t){1==confirm("Are You Sure want to Delete "+t.category+"?")&&this.service.DeleteAssessories(t.id).subscribe(i=>{"success"==i.status?this.toast.success(i.message,"Success"):this.toast.warning(i.message,"Warning")})}MovetoNextOverdue(){1==confirm("Are You Sure want to Move to Qualification Overdue?")&&(this.service.machinerydata.updatedby=this.userservice.GetFullName(),this.service.machinerydata.updateddate=this.gettime(),this.service.CreateUpdate().subscribe(t=>{"success"==t.status?(this.toast.success(t.key,"Success"),this.LoadOverdueList(),this.LoadDashboard(),this.visible=!1):this.toast.error(t.key,"Error")},t=>{this.toast.error(t,"Error")}))}static#e=this.\u0275fac=function(i){return new(i||o)(e.Y36(T.q),e.Y36(b._W),e.Y36(A.h),e.Y36(d.uU),e.Y36(U.K),e.Y36(D.D),e.Y36(q.$))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-machineryconnection"]],standalone:!0,features:[e.jDz],decls:6,vars:2,consts:[[3,"visible","fullScreen","visibleChange"],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],[1,"page-title"],[1,"ms-auto","text-muted"],[1,"input-icon"],["type","text","placeholder","Search.....",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-icon-addon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"],["d","M21 21l-6 -6"],[1,"row","row-cards"],[1,"col-12"],[1,"card"],[1,"table-responsive"],["id","contentToConvert",1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed"],[1,"text-center"],[1,"text-center","text-danger"],[1,"fa","fa-trash"],[1,"strong","text-center"],[1,"text-nowrap"],[3,"ngClass"],["type","button",1,"btn","btn-outline-info","btn-pill","strong",3,"click"],["type","button",1,"btn-link","text-danger","strong",3,"click"],["class","strong text-center"],[1,"card-footer","d-flex","align-items-center"],[1,"m-0","strong"],["header","Connection Overdue Form",3,"visible","maximizable","visibleChange"],[1,"row","g-0"],[1,"col-12","col-lg-9","col-xl-9","border-end","card-body","scrollable",2,"height","35rem"],["autocomplete","off",3,"ngSubmit"],["myForm1","ngForm"],["type","hidden","name","id",3,"value"],["class","col-sm-12 col-md-12"],[1,"row"],["class","col-md-12"],[1,"col-md-12","card-body-scrollable",2,"height","20rem"],[1,"mb-3"],["class","table card-table table-vcenter datatable table-sm table-fixed cell-border"],[1,"col-md-12"],[1,"col-6"],[1,"form-label"],[1,"form-select",3,"ngModel","ngModelChange"],["value","Machine_Photos"],["value","Machine_Item_Photos"],["value","Machine_Item_Drawing"],["value","Invoice"],["value","Other"],["name","demo[]",3,"url","multiple","onUpload"],["pTemplate","toolbar"],[1,"col-12","col-lg-3","col-xl-3","d-flex","flex-column"],[1,"col-sm-12","col-md-12"],[1,"row","text-center"],[1,"col-md-3"],[1,"col-md-6"],[1,"col-md-4"],["class","form-label",4,"ngIf"],[1,"col-md-2"],["type","button",3,"ngClass","click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-sm-12","col-md-3"],["placeholder","Machine Code","name","machinecode",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["machinecode","ngModel"],["placeholder","Location","name","location",1,"form-select",3,"ngClass","ngModel","ngModelChange"],["location","ngModel"],["value",""],["value","F1"],["value","F2"],["value","F3"],["value","F4"],["value","RO"],["value","CO"],[1,"col-sm-12","col-md-6"],[1,"form-label","required"],["required","","placeholder","Search Vender Name here","name","accode",1,"form-control",3,"ngClass","ngModel","ngModelChange","keyup"],["accode","ngModel"],[3,"value",4,"ngFor","ngForOf"],["type","date","required","","required","","placeholder","Receipt Date","name","receiptdate",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["receiptdate","ngModel"],["type","number","required","","placeholder","Machine Cost","name","cost",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["cost","ngModel"],["placeholder","Machine Name","name","item",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["item","ngModel"],["rows","4","placeholder","Remarks","name","remarks",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["remarks","ngModel"],[1,"card-footer","text-end"],[1,"d-flex"],[1,"btn","btn-link",3,"click"],["type","submit",1,"btn","btn-primary","ms-auto",3,"disabled"],[3,"value"],["quotationform","ngForm"],["required","","placeholder","Category","name","category",1,"form-select",3,"ngClass","ngModel","ngModelChange"],["category","ngModel"],["value","Offset Cassettes Wet"],["value","Offset Cassettes Dry"],["value","Plate cylinders"],["value","Perforation Cylinders"],["value","Magnetic Cylinder"],["value","Anvil to Mag"],["value","Anilox Roller"],["value","CAM"],["required","","type","number","name","size","placeholder","Size",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["size","ngModel"],["required","","type","number","name","pieces","placeholder","Rate",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["pieces","ngModel"],[1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed","cell-border"],[1,"w-1"],[1,"strong"],[1,"text-nowrap","text-center"],["class","text-nowrap"],["type","button",1,"btn-link","text-danger",3,"click"],["class","strong"],[1,"text-danger","text-center"],[1,"py-3"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col-3"],[1,"card-header"],[1,"card-title"],[1,"card-actions","btn-actions"],["type","button","class","btn-action text-danger",3,"click",4,"ngIf"],[1,"card-body","p-0"],["width","250","height","250",3,"src","preview"],["type","button",1,"btn-action","text-danger",3,"click"],["d","M18 6l-12 12"],["d","M6 6l12 12"],["target","_blank",1,"text-center",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/8/87/PDF_file_icon.svg","width","250","height","250"],["class","col-3"]],template:function(i,n){1&i&&(e.YNc(0,S,4,3),e.EqZ(1,0,O),e.YNc(3,ne,49,15),e.EqZ(4,3,E)),2&i&&(e.xp6(1),e.cPc(1==n.service.connectionoverduevisible),e.xp6(3),e.cPc(1==n.visible))},dependencies:[d.ez,r.u5,M.l,C.$,x.O,u.A0,Z.S],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;border-collapse:collapse}"]})}return o})()}}]);