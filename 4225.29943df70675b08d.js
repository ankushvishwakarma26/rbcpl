"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[4225],{7372:(D,b,d)=>{d.d(b,{w:()=>A});var p=d(9212),f=d(9862),Z=d(2425),x=d(5633),m=d(5218);let A=(()=>{class t{constructor(s,_,h,v){this.http=s,this.toast=_,this.service=h,this.sort=v,this.progressinvoice=!1,this.parthurl="http://10.10.9.190:1111/api/",this.erpurl="http://103.59.180.17:1112/api/ERP/"}viewinvoice(s){this.progressinvoice=!0,this.dmsdocument=null,this.documentname="View Invoice",this.GetDMSDocumentbyid(s).subscribe(_=>{"success"==_.status?window.open("http://103.59.180.17:1114/FTP DATA/"+_.invoice.filepath,"_blank"):(this.toast.error(_.message,"Error"),this.dmsdocument=null)})}closepdf(){this.invoice=!1,this.dmsdocument=null}GetTodayscall(s){return this.http.get(this.parthurl+"Parth?user="+s)}GetAllcall(s,_,h){return this.http.get(""!=h?this.parthurl+"Parth/AllRecording?start="+s+"&end="+_+"&user="+h:this.parthurl+"Parth/AllRecording?start="+s+"&end="+_)}GetUser(){return this.http.get(this.parthurl+"Parth/GetUser")}Recordingbycontact(s,_){return this.http.get(this.parthurl+"Parth/Recordingbycontact?contact1="+s+"&contact2="+_)}GetRecordingbyid(s){return this.http.get(this.parthurl+"Parth/GetRecordingbyid?id="+s)}GetRecordingbyactivity(s,_,h){return this.http.get(this.parthurl+"Parth/GetRecordingbyactivity?contact1="+s+"&contact2="+_+"&date="+h)}GetRecordingbytime(s,_){return this.http.get(""!=this.sort.orderby&&""!=this.sort.sortby?this.parthurl+"Parth/GetRecordingbytime?user="+s+"&date="+_+"&orderby="+this.sort.orderby+"&sortby="+this.sort.sortby:this.parthurl+"Parth/GetRecordingbytime?user="+s+"&date="+_)}GetRecordingbyday(s,_){return this.http.get(""!=this.sort.orderby&&""!=this.sort.sortby?this.parthurl+"Parth/GetRecordingbyday?user="+s+"&date="+_+"&orderby="+this.sort.orderby+"&sortby="+this.sort.sortby:this.parthurl+"Parth/GetRecordingbyday?user="+s+"&date="+_)}GetAudio(s){return this.http.get(this.parthurl+"Parth/GetAudio?filePath="+s)}Getdealbyid(s){return this.http.get(this.erpurl+"GetDealbyDealNoforDPL/"+s)}GetDealbyOrderid(s){return this.http.get(this.erpurl+"GetDealbyOrderNoforDPL/"+s)}GetInvoicelistbyaccode(s){return this.http.get(this.erpurl+"GetInvoicebyaccode/"+s)}GetInvoicebyinvoiceid(s){return this.http.get(this.erpurl+"GetInvoicebyId/"+s)}GetInvoicebyOrderno(s){return this.http.get(this.erpurl+"GetInvoicebyorderno/"+s)}GetOrderDetailsbyId(s){return this.http.get(this.erpurl+"GetOrderDetailsbyId/"+s)}GetOrderDetailsbyaccode(s){return this.http.get(this.erpurl+"GetOrderDetailsbyaccode/"+s)}GetDMSDocumentbyid(s){return this.http.get(this.erpurl+"GetDMSDocumentbyid/"+s)}ItemSearch(s){return this.http.get(""!=s?this.erpurl+"ItemSearch?Search="+s:this.erpurl+"ItemSearch")}GetCRMActivityReport(s,_,h,v){return this.http.get(""!=h?this.erpurl+"GetCRMActivityReport?startdate="+s+"&enddate="+_+"&user="+h+"&condition="+v:this.erpurl+"GetCRMActivityReport?startdate="+s+"&enddate="+_+"&condition="+v)}GetCRMActivitydaywise(s,_,h){return this.http.get(this.erpurl+"GetCRMActivitydaywise?startdate="+s+"&enddate="+_+"&user="+h)}GetCRMOrderbyid(s){return this.http.get(this.erpurl+"GetCRMOrderbyid/"+s)}GetInvoiceData(s){return this.http.get(this.erpurl+"GetInvoiceData/"+s)}static#t=this.\u0275fac=function(_){return new(_||t)(p.LFG(f.eN),p.LFG(Z._W),p.LFG(x.K),p.LFG(m.K))};static#e=this.\u0275prov=p.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},4225:(D,b,d)=>{d.r(b),d.d(b,{DashboardComponent:()=>Vt});var p=d(6814),f=d(9246),Z=d(1312),x=d(7248),m=d(6223),A=d(2681),t=d(9212),q=d(4671),s=d(2453),_=d(3716),h=d(7473),v=d(266),w=d(5633),M=d(2425),I=d(7372),O=d(5218),E=d(5219);function N(i,o){1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"div",55)(1,"div",56),t._UZ(2,"div",57),t.TgZ(3,"div",58),t._uU(4,"Loading Data......."),t.qZA(),t.TgZ(5,"div",59),t._UZ(6,"div",60),t.qZA()()())}function L(i,o){1&i&&(t.TgZ(0,"th",56),t._uU(1,"End Date"),t.qZA())}function J(i,o){if(1&i&&(t.TgZ(0,"tr")(1,"th",56),t._uU(2,"User"),t.qZA(),t.TgZ(3,"th",56),t._uU(4,"Start Date"),t.qZA(),t.YNc(5,L,2,0,"th",64),t.TgZ(6,"th",56),t._uU(7,"Total Calls"),t.qZA(),t.TgZ(8,"th",56),t._uU(9,"Call Recordings"),t.qZA(),t.TgZ(10,"th",56),t._uU(11,"Total Orders"),t.qZA(),t.TgZ(12,"th",56),t._uU(13,"Total Orders Amount"),t.qZA(),t.TgZ(14,"th",56),t._uU(15,"Verified Orders"),t.qZA(),t.TgZ(16,"th",56),t._uU(17,"Verified Orders Amount"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",1!=e.loadlist)}}function R(i,o){1&i&&(t.TgZ(0,"tr")(1,"th",56),t._uU(2,"User"),t.qZA(),t.TgZ(3,"th",56),t._uU(4,"Start Date"),t.qZA(),t.TgZ(5,"th",56),t._uU(6,"EDD"),t.qZA(),t.TgZ(7,"th",56),t._uU(8,"ATD"),t.qZA(),t.TgZ(9,"th",56),t._uU(10,"ETA"),t.qZA(),t.TgZ(11,"th",56),t._uU(12,"ATA"),t.qZA(),t.TgZ(13,"th",56),t._uU(14,"DC"),t.qZA(),t.TgZ(15,"th",56),t._uU(16,"Total"),t.qZA()())}function G(i,o){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.start_time,"dd-MMM-yy hh:mm a"))}}function P(i,o){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.start_time,"dd-MMM-yy"))}}function Q(i,o){if(1&i&&(t.TgZ(0,"td",67),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.end_time,"dd-MMM-yy hh:mm a")," ")}}function S(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr",66)(1,"td",67),t._uU(2),t.qZA(),t.TgZ(3,"td",67),t.YNc(4,G,3,4,"div",62)(5,P,3,4,"div",62),t.qZA(),t.YNc(6,Q,3,4,"td",68),t.TgZ(7,"td",67)(8,"button",69),t.NdJ("click",function(){const n=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.getactivitybyuser(n.createdby,n.start_time,"Activity"))}),t._uU(9),t.qZA()(),t.TgZ(10,"td",67)(11,"button",69),t.NdJ("click",function(){const n=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.openparthrecordingbyuser(n.createdby,n.start_time))}),t._uU(12),t.qZA()(),t.TgZ(13,"td",67)(14,"button",69),t.NdJ("click",function(){const n=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.getactivitybyuser(n.createdby,n.start_time,"Orders"))}),t._uU(15),t.qZA()(),t.TgZ(16,"td",67),t._uU(17),t.ALo(18,"currency"),t.qZA(),t.TgZ(19,"td",67),t._uU(20),t.qZA(),t.TgZ(21,"td",67),t._uU(22),t.ALo(23,"currency"),t.qZA()()}if(2&i){const e=o.$implicit,r=t.oxw(3);t.xp6(2),t.hij(" ",e.createdby," "),t.xp6(2),t.Q6J("ngIf",1!=r.loadlist),t.xp6(1),t.Q6J("ngIf",1==r.loadlist),t.xp6(1),t.Q6J("ngIf",1!=r.loadlist),t.xp6(3),t.hij("Total : ",e.calls," "),t.xp6(3),t.Oqu(e.callrecording),t.xp6(3),t.hij("",e.totalorders," Orders"),t.xp6(2),t.hij(" ",t.xi3(18,10,e.totalorderamount,"INR")," "),t.xp6(3),t.hij(" ",e.verifiedorders," "),t.xp6(2),t.hij(" ",t.xi3(23,13,e.verifiedorderamount,"INR")," ")}}function k(i,o){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,S,24,16,"tr",65),t.ALo(2,"filter"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e.service.dashboard,e.searchvalue))}}function Y(i,o){if(1&i&&(t.TgZ(0,"tr",66)(1,"td",67),t._uU(2),t.qZA(),t.TgZ(3,"td",67)(4,"div"),t._uU(5),t.ALo(6,"date"),t.qZA()(),t.TgZ(7,"td",67),t._uU(8),t.ALo(9,"percent"),t.qZA(),t.TgZ(10,"td",67),t._uU(11),t.ALo(12,"percent"),t.qZA(),t.TgZ(13,"td",67),t._uU(14),t.ALo(15,"percent"),t.qZA(),t.TgZ(16,"td",67),t._uU(17),t.ALo(18,"percent"),t.qZA(),t.TgZ(19,"td",67),t._uU(20),t.ALo(21,"percent"),t.qZA(),t.TgZ(22,"td",67),t._uU(23),t.ALo(24,"percent"),t.qZA()()),2&i){const e=o.$implicit;t.xp6(2),t.AsE(" ",e.user,"(",e.location,") "),t.xp6(3),t.Oqu(t.xi3(6,21,e.date,"dd/MM/yy")),t.xp6(3),t.lnq(" ",e.eddfilled,"/",e.edd," (",t.xi3(9,24,e.eddfilled/e.edd,"1.2-2"),") "),t.xp6(3),t.lnq(" ",e.atdfilled,"/",e.atd," (",t.xi3(12,27,e.atdfilled/e.atd,"1.2-2"),") "),t.xp6(3),t.lnq(" ",e.grpostingfilled,"/",e.grposting," (",t.xi3(15,30,e.grpostingfilled/e.grposting,"1.2-2"),") "),t.xp6(3),t.lnq(" ",e.ataoverduefilled,"/",e.ataoverdue," (",t.xi3(18,33,e.ataoverduefilled/e.ataoverdue,"1.2-2"),") "),t.xp6(3),t.lnq(" ",e.dcoverduefilled,"/",e.dcoverdue," (",t.xi3(21,36,e.dcoverduefilled/e.dcoverdue,"1.2-2"),") "),t.xp6(3),t.lnq(" ",e.eddfilled+e.atdfilled+e.grpostingfilled+e.ataoverduefilled+e.dcoverduefilled,"/",e.edd+e.atd+e.grposting+e.ataoverdue+e.dcoverdue," (",t.xi3(24,39,(e.eddfilled+e.atdfilled+e.grpostingfilled+e.ataoverduefilled+e.dcoverduefilled)/(e.edd+e.atd+e.grposting+e.ataoverdue+e.dcoverdue),"1.2-2"),") ")}}function F(i,o){if(1&i&&(t.TgZ(0,"tbody"),t.YNc(1,Y,25,42,"tr",65),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.service.dashboard)}}function K(i,o){if(1&i&&(t.O4$(),t.kcU(),t.TgZ(0,"table",61)(1,"thead"),t.YNc(2,J,18,1,"tr",62)(3,R,17,0,"tr",62),t.qZA(),t.YNc(4,k,3,4,"tbody",62)(5,F,2,1,"tbody",62),t.TgZ(6,"tfoot")(7,"tr",63),t._UZ(8,"td")(9,"td"),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.qZA(),t._UZ(18,"td")(19,"td"),t.qZA()()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",3!=e.loadlist),t.xp6(1),t.Q6J("ngIf",3==e.loadlist),t.xp6(1),t.Q6J("ngIf",3!=e.loadlist),t.xp6(1),t.Q6J("ngIf",3==e.loadlist),t.xp6(6),t.Oqu(e.totalcalls),t.xp6(2),t.Oqu(e.recording),t.xp6(2),t.Oqu(e.totalorders),t.xp6(2),t.Oqu(e.ordervalue)}}function j(i,o){1&i&&(t.TgZ(0,"button",73),t._UZ(1,"span",74),t._uU(2," \xa0\xa0Loading... "),t.qZA())}function $(i,o){if(1&i&&(t.TgZ(0,"audio",75),t._UZ(1,"source",76),t._uU(2," Your browser does not support the audio element. "),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.audiofile,t.LSH)}}function H(i,o){if(1&i&&(t.TgZ(0,"div",77)(1,"div"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.lnq("From ",t.xi3(3,6,e.filepath.ivrS_HIT_TIME,"dd/MM/yy hh:mm a")," To ",t.xi3(4,9,e.filepath.ivrS_DISSCONNET_TIME,"dd/MM/yy hh:mm a"),"(",e.filepath.ivR_CALL_DURATION,")"),t.xp6(4),t.lnq(" at ",e.filepath.callerid," (",e.filepath.calL_STATUS,") (","MAMTA"==e.filepath.agenT_ID?"Kavita":e.filepath.agenT_ID,")")}}function B(i,o){if(1&i&&(t._uU(0,"Parth Recordings "),t.TgZ(1,"div",25)(2,"div",56),t.YNc(3,j,3,0,"button",70)(4,$,3,1,"audio",71),t.qZA()(),t.YNc(5,H,7,12,"div",72)),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.audioloader),t.xp6(1),t.Q6J("ngIf",e.audioenable),t.xp6(1),t.Q6J("ngIf",e.filepath)}}function W(i,o){1&i&&(t.TgZ(0,"div",55)(1,"div",56),t._UZ(2,"div",57),t.TgZ(3,"div",58),t._uU(4,"Loading Data......."),t.qZA(),t.TgZ(5,"div",59),t._UZ(6,"div",60),t.qZA()()())}function V(i,o){1&i&&(t.TgZ(0,"span",99),t.O4$(),t.TgZ(1,"svg",100),t._UZ(2,"path",30)(3,"path",101)(4,"path",102),t.qZA()())}function z(i,o){1&i&&(t.TgZ(0,"span",103),t.O4$(),t.TgZ(1,"svg",104),t._UZ(2,"path",30)(3,"path",105)(4,"path",106),t.qZA()())}function X(i,o){1&i&&t._UZ(0,"span")}function tt(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.nextplanneddate,"hh:mm a"),"")}}function et(i,o){if(1&i&&(t.TgZ(0,"strong")(1,"div",56),t.YNc(2,X,1,0,"span",62)(3,tt,3,4,"span",62),t.qZA()()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.Q6J("ngIf","0001-01-01T00:00:00"==e.nextplanneddate),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!=e.nextplanneddate)}}function it(i,o){1&i&&t._UZ(0,"span")}function at(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.nextplanneddate,"dd/MM/yy"),"")}}function rt(i,o){1&i&&t._UZ(0,"span")}function ot(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.orderdate,"dd/MM/yy"),"")}}function st(i,o){if(1&i&&(t.TgZ(0,"strong")(1,"div",56),t.YNc(2,it,1,0,"span",62)(3,at,3,4,"span",62)(4,rt,1,0,"span",62)(5,ot,3,4,"span",62),t.qZA(),t.TgZ(6,"div",56),t._uU(7),t.ALo(8,"currency"),t.qZA()()),2&i){const e=t.oxw(2).$implicit;t.xp6(2),t.Q6J("ngIf","0001-01-01T00:00:00"==e.nextplanneddate),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!=e.nextplanneddate),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"==e.orderdate),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!=e.orderdate),t.xp6(2),t.Oqu(t.xi3(8,5,e.lastorderamount,"INR"))}}function nt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"strong",96)(1,"div")(2,"button",69),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,n=t.oxw(4);return t.KtG(n.openpartymaster(a.activityclientid))}),t._uU(3),t.qZA()(),t.TgZ(4,"div"),t._uU(5),t.YNc(6,V,5,0,"span",97)(7,z,5,0,"span",98),t.qZA(),t.YNc(8,et,4,2,"strong",62)(9,st,9,8,"strong",62),t.TgZ(10,"div"),t._uU(11),t.qZA(),t.TgZ(12,"div"),t._uU(13),t.ALo(14,"date"),t.qZA()()}if(2&i){const e=t.oxw().$implicit;t.Q6J("ngClass","Order Received"==e.activityname?"text-success":"Yes"==e.countable?"text-muted":"text-danger"),t.xp6(3),t.Oqu(e.clientname),t.xp6(2),t.hij("",e.activityname," "),t.xp6(1),t.Q6J("ngIf","Order Received"==e.activityname||"Payment Received"==e.activityname),t.xp6(1),t.Q6J("ngIf","Order Received"!=e.activityname||"Payment Received"!=e.activityname),t.xp6(1),t.Q6J("ngIf","Call again Today"==e.activityname),t.xp6(1),t.Q6J("ngIf","Call again Today"!=e.activityname),t.xp6(2),t.Oqu(e.remarks),t.xp6(2),t.AsE("",e.createdby,"(",t.xi3(14,10,e.submitdatetime,"dd/MM/yy hh:mm a"),")")}}function lt(i,o){if(1&i&&(t.TgZ(0,"strong",94),t.YNc(1,nt,15,13,"strong",95),t.qZA()),2&i){const e=o.$implicit,r=t.oxw().$implicit;t.Q6J("ngSwitch",e.contact),t.xp6(1),t.Q6J("ngSwitchCase",r.callerid)}}function _t(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr",85)(1,"td",86),t._uU(2),t.qZA(),t.TgZ(3,"td"),t.YNc(4,lt,2,2,"strong",87),t.qZA(),t.TgZ(5,"td",88)(6,"div"),t._uU(7),t.qZA()(),t.TgZ(8,"td",89)(9,"div",90)(10,"div",91)(11,"div",92),t._uU(12),t.qZA()()()(),t.TgZ(13,"td",88)(14,"div"),t._uU(15),t.ALo(16,"date"),t.qZA()(),t.TgZ(17,"td",88)(18,"div"),t._uU(19),t.ALo(20,"date"),t.qZA()(),t.TgZ(21,"td",88)(22,"div"),t._uU(23),t.qZA()(),t.TgZ(24,"td",88)(25,"div"),t._uU(26),t.qZA()(),t.TgZ(27,"td",88)(28,"div"),t._uU(29),t.qZA()(),t.TgZ(30,"td",88)(31,"div")(32,"button",93),t.NdJ("click",function(){const n=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.GetAudiofile(n.folderPath+n.voicefile,n))}),t._uU(33,"Play"),t.qZA()()()()}if(2&i){const e=o.$implicit,r=o.index,a=t.oxw(3);t.Q6J("ngClass",e.ivR_CALL_DURATION<="00:00:30.0"&&("IVRS"==e.calL_STATUS||"CHANUNAVAIL"==e.calL_STATUS)?"text-danger":"text-success")("ngSwitch",e.callerid),t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Q6J("ngForOf",a.services.listreport),t.xp6(3),t.Oqu(e.calL_TYPE),t.xp6(5),t.Oqu(e.callerid),t.xp6(3),t.Oqu(t.xi3(16,11,e.ivrS_HIT_TIME,"dd-MMM-yyyy hh:mm a")),t.xp6(4),t.Oqu(t.xi3(20,14,e.ivrS_DISSCONNET_TIME,"dd-MMM-yyyy hh:mm a")),t.xp6(4),t.Oqu(e.ivR_CALL_DURATION),t.xp6(3),t.Oqu(e.calL_STATUS),t.xp6(3),t.Oqu("MAMTA"==e.agenT_ID?"Kavita":e.agenT_ID)}}function dt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"table",81)(1,"thead")(2,"tr")(3,"th",82),t._uU(4,"S.No."),t.qZA(),t.TgZ(5,"th",67),t._uU(6,"Client Name"),t.qZA(),t.TgZ(7,"th",67),t._uU(8,"Call Type"),t.qZA(),t.TgZ(9,"th",82)(10,"button",83),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sortby("contact"))}),t._uU(11,"Contact"),t.qZA()(),t.TgZ(12,"th",56)(13,"button",83),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sortby("start"))}),t._uU(14,"StartTime"),t.qZA()(),t.TgZ(15,"th",56)(16,"button",83),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sortby("end"))}),t._uU(17,"End Time"),t.qZA()(),t.TgZ(18,"th",56)(19,"button",83),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sortby("duration"))}),t._uU(20,"Duration"),t.qZA()(),t.TgZ(21,"th",56)(22,"button",83),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.sortby("status"))}),t._uU(23,"Status"),t.qZA()(),t.TgZ(24,"th",56),t._uU(25,"User"),t.qZA(),t.TgZ(26,"th",56),t._uU(27,"Audio"),t.qZA()()(),t.TgZ(28,"tbody"),t.YNc(29,_t,34,17,"tr",84),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(29),t.Q6J("ngForOf",e.services.parthrecordingbydayandtime)}}function ct(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",17)(1,"div",15)(2,"div",19)(3,"div",20)(4,"div",21)(5,"h2",78),t._uU(6,"Parth Recordings "),t.qZA()(),t.TgZ(7,"div",25)(8,"div",26)(9,"input",79),t.NdJ("ngModelChange",function(a){t.CHM(e);const n=t.oxw();return t.KtG(n.searchvalue=a)}),t.qZA(),t.TgZ(10,"span",28),t.O4$(),t.TgZ(11,"svg",29),t._UZ(12,"path",30)(13,"path",31)(14,"path",32),t.qZA()()()()()(),t.kcU(),t.TgZ(15,"div",18),t.YNc(16,W,7,0,"div",33)(17,dt,30,1,"table",80),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(9),t.Q6J("ngModel",e.searchvalue),t.xp6(7),t.Q6J("ngIf",e.loader),t.xp6(1),t.Q6J("ngIf",!e.loader)}}function pt(i,o){if(1&i&&(t.TgZ(0,"div",107)(1,"p",108),t._uU(2,"Showing "),t.TgZ(3,"span"),t._uU(4),t.qZA(),t._uU(5," to "),t.TgZ(6,"span"),t._uU(7),t.qZA(),t._uU(8," of "),t.TgZ(9,"span"),t._uU(10),t.qZA(),t._uU(11," entries"),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Oqu(e.services.frompage),t.xp6(3),t.Oqu(e.services.topage),t.xp6(3),t.Oqu(e.services.total)}}function ht(i,o){if(1&i&&(t.TgZ(0,"label",110),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("Verified Order Amount is ",t.xi3(2,1,e.verifiedorder,"INR"),"")}}function ut(i,o){1&i&&(t.TgZ(0,"button",73),t._UZ(1,"span",74),t._uU(2," \xa0\xa0Loading... "),t.qZA())}function gt(i,o){if(1&i&&(t.TgZ(0,"audio",75),t._UZ(1,"source",76),t._uU(2," Your browser does not support the audio element. "),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.audiofile,t.LSH)}}function mt(i,o){if(1&i&&(t.TgZ(0,"div",77)(1,"div"),t._uU(2),t.ALo(3,"date"),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"div"),t._uU(6),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(2),t.lnq("From ",t.xi3(3,6,e.filepath.ivrS_HIT_TIME,"dd/MM/yy hh:mm a")," To ",t.xi3(4,9,e.filepath.ivrS_DISSCONNET_TIME,"dd/MM/yy hh:mm a"),"(",e.filepath.ivR_CALL_DURATION,")"),t.xp6(4),t.lnq(" at ",e.filepath.callerid," (",e.filepath.calL_STATUS,") (","MAMTA"==e.filepath.agenT_ID?"Kavita":e.filepath.agenT_ID,")")}}function vt(i,o){if(1&i&&(t._uU(0,"Activity Reports "),t.TgZ(1,"div",25)(2,"div",56),t.YNc(3,ht,3,4,"label",109)(4,ut,3,0,"button",70)(5,gt,3,1,"audio",71),t.qZA()(),t.YNc(6,mt,7,12,"div",72)),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.verifiedorder),t.xp6(1),t.Q6J("ngIf",e.audioloader),t.xp6(1),t.Q6J("ngIf",e.audioenable),t.xp6(1),t.Q6J("ngIf",e.filepath)}}function bt(i,o){1&i&&(t.TgZ(0,"div",55)(1,"div",56),t._UZ(2,"div",57),t.TgZ(3,"div",58),t._uU(4,"Loading Data......."),t.qZA(),t.TgZ(5,"div",59),t._UZ(6,"div",60),t.qZA()()())}function ft(i,o){1&i&&t._UZ(0,"span")}function Zt(i,o){if(1&i&&(t.TgZ(0,"span",115),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.nextplanneddate,"hh:mm a"),"")}}function xt(i,o){if(1&i&&(t.TgZ(0,"strong")(1,"div",56),t.YNc(2,ft,1,0,"span",62)(3,Zt,3,4,"span",112),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf","0001-01-01T00:00:00"==e.nextplanneddate),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!=e.nextplanneddate)}}function Tt(i,o){1&i&&t._UZ(0,"span")}function At(i,o){if(1&i&&(t.TgZ(0,"span",115),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.nextplanneddate,"dd/MM/yy"),"")}}function yt(i,o){1&i&&t._UZ(0,"span")}function Ut(i,o){if(1&i&&(t.TgZ(0,"span",99),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,e.orderdate,"dd/MM/yy"),"")}}function Ct(i,o){if(1&i&&(t.TgZ(0,"strong")(1,"div",56),t.YNc(2,Tt,1,0,"span",62)(3,At,3,4,"span",112)(4,yt,1,0,"span",62)(5,Ut,3,4,"span",97),t.qZA(),t.TgZ(6,"div",116),t._uU(7),t.ALo(8,"currency"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("ngIf","0001-01-01T00:00:00"==e.nextplanneddate),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!=e.nextplanneddate),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"==e.orderdate),t.xp6(1),t.Q6J("ngIf","0001-01-01T00:00:00"!=e.orderdate),t.xp6(2),t.Oqu(t.xi3(8,5,e.lastorderamount,"INR"))}}function Dt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",117),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,n=t.oxw(3);return t.KtG(n.GetFile(a.activityclientid,a.clientname))}),t.O4$(),t.TgZ(2,"svg",118),t._UZ(3,"path",30)(4,"path",119),t.qZA()()()}}function qt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"button",93),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,n=t.oxw(3);return t.KtG(n.GetRecordingFile(a.contact,a.contact,a.submitdatetime,a))}),t._uU(2,"Play"),t.qZA()()}}function wt(i,o){1&i&&(t.TgZ(0,"div",115),t._uU(1," No Call Made "),t.qZA())}function Mt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.TgZ(3,"button",69),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,n=t.oxw(3);return t.KtG(n.getverifiedorder(a.verifiedorderno))}),t._uU(4),t.qZA()()}if(2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.xi3(2,2,e.verifyorderamount,"INR")),t.xp6(3),t.hij("(",e.verifiedorderno,")")}}function It(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",69),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2).$implicit,n=t.oxw(3);return t.KtG(n.verifyorder(a.id))}),t._uU(1,"Verify"),t.qZA()}}function Ot(i,o){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Mt,5,5,"span",62)(2,It,2,0,"button",120),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.verifyorderamount),t.xp6(1),t.Q6J("ngIf",!e.verifyorderamount)}}function Et(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr",66)(1,"td",82),t._uU(2),t.qZA(),t.TgZ(3,"td",88)(4,"div")(5,"button",69),t.NdJ("click",function(){const n=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.openpartymaster(n.activityclientid))}),t._uU(6),t.qZA()(),t.TgZ(7,"div"),t._uU(8),t.qZA()(),t.TgZ(9,"td",67),t._uU(10),t.qZA(),t.TgZ(11,"td",67),t._uU(12),t.qZA(),t.TgZ(13,"td",88),t.YNc(14,xt,4,2,"strong",62)(15,Ct,9,8,"strong",62),t.qZA(),t.TgZ(16,"td",111),t.YNc(17,Dt,5,0,"div",62),t.qZA(),t.TgZ(18,"td",56),t._uU(19),t.qZA(),t.TgZ(20,"td",111),t.YNc(21,qt,3,0,"div",62)(22,wt,2,0,"div",112),t.qZA(),t.TgZ(23,"td",56),t.YNc(24,Ot,3,2,"div",62),t.qZA(),t.TgZ(25,"td",113)(26,"div",56),t._uU(27),t.ALo(28,"date"),t.qZA(),t.TgZ(29,"div",114),t._uU(30),t.qZA()()()}if(2&i){const e=o.$implicit,r=o.index;t.xp6(2),t.hij(" ",r+1," "),t.xp6(4),t.Oqu(e.clientname),t.xp6(2),t.AsE("",e.contact1," , ",e.contact2,""),t.xp6(2),t.hij(" ",e.contact," "),t.xp6(2),t.hij(" ",e.activityname," "),t.xp6(2),t.Q6J("ngIf","Call again Today"==e.activityname),t.xp6(1),t.Q6J("ngIf","Call again Today"!=e.activityname),t.xp6(2),t.Q6J("ngIf",e.imageuploaded),t.xp6(2),t.hij(" ",e.remarks," "),t.xp6(2),t.Q6J("ngIf",e.contact),t.xp6(1),t.Q6J("ngIf",!e.contact),t.xp6(2),t.Q6J("ngIf","Order Received"==e.activityname),t.xp6(3),t.Oqu(t.xi3(28,15,e.submitdatetime,"dd/MM/yy hh:mm a")),t.xp6(3),t.Oqu(e.createdby)}}function Nt(i,o){if(1&i&&(t.TgZ(0,"table",81)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"S.No."),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Client Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Contact"),t.qZA(),t.TgZ(9,"th",56),t._uU(10,"Status"),t.qZA(),t.TgZ(11,"th",56),t._uU(12,"NCD/LOD"),t.qZA(),t.TgZ(13,"th",56),t._uU(14,"File"),t.qZA(),t.TgZ(15,"th",56),t._uU(16,"Remarks"),t.qZA(),t.TgZ(17,"th",56),t._uU(18,"Play"),t.qZA(),t.TgZ(19,"th",56),t._uU(20,"Verify"),t.qZA(),t.TgZ(21,"th",56),t._uU(22,"Createdby"),t.qZA()()(),t.TgZ(23,"tbody"),t.YNc(24,Et,31,18,"tr",65),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(24),t.Q6J("ngForOf",e.services.listreport)}}function Lt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"div",17)(1,"div",15)(2,"div",19)(3,"div",20)(4,"div",21)(5,"h2",78),t._uU(6,"Activity Reports "),t.qZA()(),t.TgZ(7,"div",25)(8,"div",26)(9,"input",79),t.NdJ("ngModelChange",function(a){t.CHM(e);const n=t.oxw();return t.KtG(n.searchvalue=a)}),t.qZA(),t.TgZ(10,"span",28),t.O4$(),t.TgZ(11,"svg",29),t._UZ(12,"path",30)(13,"path",31)(14,"path",32),t.qZA()()()()()(),t.kcU(),t.TgZ(15,"div",18),t.YNc(16,bt,7,0,"div",33)(17,Nt,25,1,"table",80),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(9),t.Q6J("ngModel",e.searchvalue),t.xp6(7),t.Q6J("ngIf",e.loader),t.xp6(1),t.Q6J("ngIf",!e.loader)}}function Jt(i,o){if(1&i&&(t.TgZ(0,"div",107)(1,"p",108),t._uU(2,"Showing "),t.TgZ(3,"span"),t._uU(4),t.qZA(),t._uU(5," to "),t.TgZ(6,"span"),t._uU(7),t.qZA(),t._uU(8," of "),t.TgZ(9,"span"),t._uU(10),t.qZA(),t._uU(11," entries"),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Oqu(e.services.frompage),t.xp6(3),t.Oqu(e.services.topage),t.xp6(3),t.Oqu(e.services.total)}}function Rt(i,o){if(1&i&&t._uU(0),2&i){const e=t.oxw();t.hij("Uploaded Files -- ",e.partyname,"")}}function Gt(i,o){if(1&i&&t._UZ(0,"p-image",129),2&i){const e=t.oxw().$implicit,r=t.oxw(2);t.Q6J("src",r.imageservice.imageurl+e.path)("preview",!0)}}function Pt(i,o){if(1&i&&(t.TgZ(0,"a",130),t._UZ(1,"img",131),t.qZA()),2&i){const e=t.oxw().$implicit,r=t.oxw(2);t.Q6J("href",r.imageservice.imageurl+e.path,t.LSH)}}function Qt(i,o){if(1&i&&(t.TgZ(0,"div",124)(1,"div",15)(2,"div",125)(3,"h3",78),t._uU(4),t.ALo(5,"date"),t.qZA()(),t.TgZ(6,"div",126),t.YNc(7,Gt,1,2,"p-image",127)(8,Pt,2,1,"a",128),t.qZA()()()),2&i){const e=o.$implicit;t.xp6(4),t.Oqu(t.xi3(5,3,e.createddate,"dd-MMMM-YYYY hh:mm a")),t.xp6(3),t.Q6J("ngIf","pdf"!=e.path.split(".").pop()),t.xp6(1),t.Q6J("ngIf","pdf"==e.path.split(".").pop())}}function St(i,o){1&i&&(t.TgZ(0,"div")(1,"h1",132),t._uU(2,"No File Uploaded"),t.qZA()())}function kt(i,o){if(1&i&&(t.TgZ(0,"div",121)(1,"div",122),t.YNc(2,Qt,9,6,"div",123)(3,St,3,0,"div",62),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.imageservice.rcuploadedlist),t.xp6(1),t.Q6J("ngIf",null==e.imageservice.rcuploadedlist)}}function Yt(i,o){1&i&&t._uU(0,"Order Details")}function Ft(i,o){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t._UZ(2,"br"),t._uU(3),t.ALo(4,"date"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("Approved by : ",e.deal.approved," "),t.xp6(2),t.hij(" Approved on : ",t.xi3(4,2,e.deal.approvedon,"dd/MM/yy hh:mm a"),"")}}function Kt(i,o){if(1&i&&(t.TgZ(0,"tr",136)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"currency"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"currency"),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.ALo(13,"percent"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.TgZ(16,"td"),t._uU(17),t.ALo(18,"currency"),t.qZA()()),2&i){const e=o.$implicit,r=o.index;t.xp6(2),t.Oqu(r+1),t.xp6(2),t.Oqu(e.item_desc),t.xp6(2),t.Oqu(t.xi3(7,7,e.Crate,"INR")),t.xp6(3),t.Oqu(t.xi3(10,10,e.companyrate,"INR")),t.xp6(3),t.Oqu(t.xi3(13,13,(e.Crate-e.companyrate)/e.Crate,"1.2-2")),t.xp6(3),t.Oqu(e.item_qty),t.xp6(2),t.Oqu(t.xi3(18,16,e.item_qty*e.companyrate,"INR"))}}function jt(i,o){if(1&i&&(t.TgZ(0,"div",133)(1,"div",134),t._uU(2),t._UZ(3,"br"),t._uU(4),t.ALo(5,"date"),t._UZ(6,"br"),t._uU(7),t.ALo(8,"date"),t._UZ(9,"br"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"div",134),t._uU(13),t._UZ(14,"br"),t._uU(15),t.ALo(16,"currency"),t._UZ(17,"br"),t._uU(18,"Deal Status : "),t.TgZ(19,"span",96),t._uU(20),t.qZA()(),t.TgZ(21,"div",134),t._uU(22),t._UZ(23,"br"),t._uU(24),t.ALo(25,"date"),t.qZA(),t.TgZ(26,"div",134),t.YNc(27,Ft,5,5,"span",62),t.qZA()(),t._UZ(28,"br"),t.TgZ(29,"table",81)(30,"thead")(31,"tr",56)(32,"th"),t._uU(33,"S.No."),t.qZA(),t.TgZ(34,"th"),t._uU(35,"Item"),t.qZA(),t.TgZ(36,"th"),t._uU(37,"CPL Rate"),t.qZA(),t.TgZ(38,"th"),t._uU(39,"Rate"),t.qZA(),t.TgZ(40,"th"),t._uU(41,"Discount"),t.qZA(),t.TgZ(42,"th"),t._uU(43,"Quantity"),t.qZA(),t.TgZ(44,"th"),t._uU(45,"Total"),t.qZA()()(),t.TgZ(46,"tbody"),t.YNc(47,Kt,19,19,"tr",135),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.hij("Deal No : ",e.deal.dealno," "),t.xp6(2),t.hij("Deal Date : ",t.xi3(5,12,e.deal.createdon,"dd/MM/yyyy")," "),t.xp6(3),t.hij("Deal From : ",t.xi3(8,15,e.deal.datefrom,"dd/MM/yyyy")," "),t.xp6(3),t.hij(" Deal Upto : ",t.xi3(11,18,e.deal.dateto,"dd/MM/yyyy")," "),t.xp6(3),t.hij("Order No : ",e.deal.order_no," "),t.xp6(2),t.hij(" Amount : ",t.xi3(16,21,e.deal.totalamount,"INR")," "),t.xp6(4),t.Q6J("ngClass","Y"==e.deal.dealused?"text-success":"text-danger"),t.xp6(1),t.Oqu("Y"==e.deal.dealused?"Approved":"Not Approved"),t.xp6(2),t.hij("Created by : ",e.deal.created," "),t.xp6(2),t.hij(" Created date : ",t.xi3(25,24,e.deal.createdon,"dd/MM/yy"),""),t.xp6(3),t.Q6J("ngIf","Y"==e.deal.dealused),t.xp6(20),t.Q6J("ngForOf",e.dealdet)}}function $t(i,o){if(1&i&&(t.TgZ(0,"a",54),t._UZ(1,"i",51),t.qZA()),2&i){const e=t.oxw();t.Q6J("href","https://wa.me/91"+e.services.calldata.mobile1,t.LSH)}}function Ht(i,o){if(1&i&&(t.TgZ(0,"a",54),t._UZ(1,"i",51),t.qZA()),2&i){const e=t.oxw();t.Q6J("href","https://wa.me/91"+e.services.calldata.telephone,t.LSH)}}function Bt(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",50),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.parthcall(0+a.services.calldata.whatsAppNo))}),t._uU(1),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.hij("0",e.services.calldata.whatsAppNo,"")}}function Wt(i,o){if(1&i&&(t.TgZ(0,"a",54),t._UZ(1,"i",51),t.qZA()),2&i){const e=t.oxw();t.Q6J("href","https://wa.me/91"+e.services.calldata.whatsAppNo,t.LSH)}}const U=()=>({width:"75vw"}),C=()=>({height:"500px"});let Vt=(()=>{class i{constructor(e,r,a,n,l,u,c,y,T,g){this.service=e,this.services=r,this.datePipe=a,this.fcrservice=n,this.imageservice=l,this.route=u,this.userservice=c,this.toast=y,this.erpservice=T,this.sort=g,this.loader=!1,this.searchvalue="",this.searchdata="",this.loadlist=1,this.loadchartlist=2,this.loadpendingcompleted=1,this.p=1,this.total=0,this.frompage=1,this.topage=100,this.dashboard="",this.maindata=[],this.labeldata=[],this.colordata=[],this.backcolordata=[],this.audioenable=!1,this.audioloader=!1,this.playbutton="Play",this.totalcalls=0,this.recording=0,this.totalorders=0,this.ordervalue=0,this.userdata="TAMANNA "}GetAudiofile(e,r){this.audiofile="",this.audioloader=!0,this.audioenable=!1,this.erpservice.GetAudio(e).subscribe(a=>{"success"==a.status?(this.audioenable=!0,this.audioloader=!1,0==a.data.length?this.toast.error("No Data Found","Error"):(this.audiofile="data:audio/wav;base64,"+a.data,this.filepath=r,this.clientname=this.tmpdata.clientname+" ("+this.tmpdata.activityname+")")):this.toast.error(a.message,"Error"),this.playbutton="Play"},a=>{this.toast.error(a,"Error"),this.playbutton="Play"})}ngOnInit(){this.LoadAllList()}pageChangeEvent(e){this.p=e,this.loadfcroverdue(this.condition,this.location)}verifyorder(e){this.verifiedorder=null,this.services.VerifyOrderActivity(e).subscribe(r=>{"success"==r.status?(this.getactivity(),this.toast.success(r.message,"Success")):this.toast.error(r.message,"Error")})}getverifiedorder(e){this.deal=null,this.dealdet=null,this.services.GetOrderDetailsbyid(e).subscribe(r=>{"success"==r.status?(this.services.displayordervisible=!0,this.deal=r.deal,this.dealdet=r.dealdet):this.toast.error(r.message,"Error")})}displaywhatsapp(){this.services.whatsappdisplayvisible=!0,this.services.LoadRequestContactData(),this.services.isadmin="Admin"==this.userservice.GetRole()||"Director"==this.userservice.GetRole()||"SalesPC"==this.userservice.GetRole(),console.log(this.services.isadmin)}sortby(e){this.sort.orderby=e,this.sort.sortby="asc"==this.sort.sortby?"desc":"asc",this.parthrecordingbyuser()}openparthrecordingbyuser(e,r){this.username=e,this.date=r,this.services.parthrecordingvisible=!0,""==this.sort.orderby&&(this.sort.orderby="duration"),""==this.sort.sortby&&(this.sort.sortby="asc"),this.parthrecordingbyuser()}parthrecordingbyuser(){this.audioenable=!1,this.filepath=!1;var e=window.location.pathname,r=window.location.href,l=window.location.href.substring(0,r.length-e.length),u="";"http://10.10.9.190:1010"==l||"http://localhost:4200"==l?(u="GURPREET KAUR"==this.username?"mamta":"TAMANNA "==this.username?"tamanna":"BEENA BISHT"==this.username?"crm2":"PRATEEK SHRIVASTAVA"==this.username?"crm1":"DEEKSHA "==this.username?"crm5":"RAHUL "==this.username?"crm4":this.username,1==this.loadlist?(this.services.GetActivitydaywise(this.username,this.date).subscribe(c=>{this.services.listreport=c}),this.erpservice.GetRecordingbyday(u,this.date).subscribe(c=>{this.services.parthrecordingbydayandtime=c,this.services.frompage=1,this.services.topage=c.length,this.services.total=this.services.topage},c=>{this.toast.error(c.message)})):(this.services.GetActivitytimewise(u,this.date).subscribe(c=>{this.services.listreport=c}),this.erpservice.GetRecordingbytime(u,this.date).subscribe(c=>{this.services.parthrecordingbydayandtime=c,this.services.frompage=1,this.services.topage=c.length,this.services.total=this.services.topage},c=>{this.toast.error(c.message)}))):this.toast.error("You are on Cloud Network so Parth cannot be access on Cloud Network so Switch to Local Network to Access","Error")}GetFile(e,r){this.partyname=r,this.services.imageuploadedvisible=!0,console.log(e),this.imageservice.GetDocumentsbyid(e).subscribe(a=>{(a.status="success")?this.imageservice.rcuploadedlist=a.data:this.toast.error(a.message,"Error")})}getactivitybyuser(e,r,a){this.username=e,this.currdate=r,this.currcondition=a,this.getactivity()}getactivity(){this.audioenable=!1,this.filepath=!1,this.services.activityvisible=!0,1==this.loadlist?"Activity"==this.currcondition?this.services.GetActivitydaywise(this.username,this.currdate).subscribe(e=>{this.services.listreport=e,this.services.frompage=1,this.services.topage=e.length,this.services.total=this.services.topage},e=>{this.toast.error(e.message,"Error")}):this.services.GetActivityOrdersdaywise(this.username,this.currdate).subscribe(e=>{this.services.listreport=e,this.services.frompage=1,this.services.topage=e.length,this.services.total=this.services.topage},e=>{this.toast.error(e.message,"Error")}):"Activity"==this.currcondition?this.services.GetActivitytimewise(this.username,this.currdate).subscribe(e=>{this.services.listreport=e,this.services.frompage=1,this.services.topage=e.length,this.services.total=this.services.topage},e=>{this.toast.error(e.message,"Error")}):this.services.GetActivityOrderstimewise(this.username,this.currdate).subscribe(e=>{this.services.listreport=e,this.services.frompage=1,this.services.topage=e.length,this.services.total=this.services.topage},e=>{this.toast.error(e.message,"Error")})}GetRecordingFile(e,r,a,n){var l=window.location.pathname,u=window.location.href,T=window.location.href.substring(0,u.length-l.length);"http://10.10.9.190:1010"==T||"http://localhost:4200"==T?(this.audioenable=!1,this.tmpdata=n,null==r?this.erpservice.GetRecordingbyactivity(e,e,a).subscribe(g=>{null!=g?(this.toast.success("Audio Found!!! Playing Audio..."),this.GetAudiofile(g.folderPath+g.voicefile,g)):this.toast.error("Audio Not Found","Error")}):this.erpservice.GetRecordingbyactivity(e,r,a).subscribe(g=>{null!=g?(this.toast.success("Audio Found!!! Playing Audio..."),this.GetAudiofile(g.folderPath+g.voicefile,g)):this.toast.error("Audio Not Found","Error")})):this.toast.error("You are on Cloud Network so Recording cannot be access on Cloud Network so Switch to Local Network to Access Recording","Error")}loadfcroverdue(e,r){1==e?(this.title="Actual Time of Dispatch (ATD) Overdue",this.condition="atdoverdue"):2==e?(this.title="Estimated Time of Arrival (ETA) Overdue",this.condition="etaoverdue"):3==e?(this.title="Actual Time of Arrival (ATA) Overdue",this.condition="ataoverdue"):4==e&&(this.title="Delivery Completion (DC) Overdue",this.condition="dcoverdue"),this.location=r,this.fcrservice.GetFCROverdueList(this.p,1e3,this.searchdata,this.condition,this.location).subscribe(a=>{console.log(a),this.fcrservice.fcrlist=a.data,this.total=a.totalRecords,this.frompage=100*this.p-99,this.topage=this.total>100*this.p?100*this.p:this.total})}populate(e){console.log(e),this.fcrservice.fcrdata=e,this.fcrservice.fcrdata.dispatchvalue=e.invoiceamount,this.fcrservice.GetFCRDetailbyfcrid(e.id).subscribe(r=>{this.fcrservice.fcrdetailist=r})}populateform7(e){null==e.form6atd?this.toast.error("Please Fill ATA in Form-5 then Upload Receipt and E-way Bill","Error"):(this.fcrservice.fcrdata=e,this.route.navigateByUrl("/fcrform6/"+e.id))}calculatemonthlybill(e,r,a){return"Yes"==e&&null!=a}calculateeta(e,r){let a=new Date;return null!=e&&null==r&&(e=new Date(e),Math.floor((Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())-Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))/864e5)>=0)}Loadlist(){this.loader=!0,1==this.loadlist?(this.loader=!1,this.services.Dashboarddaywises().subscribe(e=>{this.loader=!1,this.service.dashboard=e,this.filtereddata=e})):2==this.loadlist?(this.loader=!1,this.services.Dashboard().subscribe(e=>{this.loader=!1,this.service.dashboard=e,this.filtereddata=e})):3==this.loadlist&&(this.loader=!1,this.service.GetDashboardReport().subscribe(e=>{this.loader=!1,this.service.dashboard=e,this.filtereddata=e}))}CalculateReport(){this.totalcalls=0,this.recording=0,this.totalorders=0,this.ordervalue=0,this.service.dashboard=this.filtereddata,this.service.dashboard=this.service.dashboard.filter(r=>r.createdby===this.userdata),this.service.dashboard.forEach(r=>{r.calls>0&&(this.totalcalls=this.totalcalls+r.calls),r.callrecording>0&&(this.recording=this.recording+r.callrecording),r.totalorders>0&&(this.totalorders=this.totalorders+r.totalorders),r.totalorderamount>0&&(this.ordervalue=this.ordervalue+r.totalorderamount)})}LoadAllList(){this.Loadlist(),this.Dashboard(),this.interval=setInterval(()=>{this.Loadlist(),this.Dashboard()},6e4)}ChangeLocation(){this.Dashboard(),this.interval=setInterval(()=>{this.Dashboard()},6e4)}Dashboard(){this.service.GetDashboard().subscribe(e=>{this.dashboard=e})}openpartymaster(e){this.partymastervisible=!0,this.services.getcalldatabyid(e).subscribe(r=>{this.services.calldata=r})}parthcall(e){if(console.log(e),11==e.length){var r=localStorage.getItem("parth");if("null"!=r){var a="http://10.10.9.190:82//Default.aspx?Extension="+r+"&DialNumber="+e+"&userid=ParthUCS&password=ParthUCS&client=999";this.parthloginid=a;var n=window.open(a,"myWindow","width = 200, height = 100");setTimeout(()=>{n?.close()},2e3),this.toast.success("Call Connected to "+e,"Success")}else this.toast.warning("Please Update Parth Extension to Connect Call","Warning")}else this.toast.error("Contact Number("+e+") is Invalid","Error")}customfilter(){var e=this.service.dashboard,r=this.searchvalue;return e?r?(r=r.toLowerCase(),e.filter(function(a){return JSON.stringify(a).toLowerCase().includes(r)})):e:null}static#t=this.\u0275fac=function(r){return new(r||i)(t.Y36(q.s),t.Y36(s.P),t.Y36(p.uU),t.Y36(_.J),t.Y36(h.D),t.Y36(v.F0),t.Y36(w.K),t.Y36(M._W),t.Y36(I.w),t.Y36(O.K))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-dashboard"]],standalone:!0,features:[t.jDz],decls:115,vars:44,consts:[[1,"page-header","d-print-none"],[1,"container-xl"],[1,"row","g-2","align-items-center"],[1,"col"],[1,"page-pretitle"],[1,"page-title"],[1,"col-auto","ms-auto","d-print-none"],[1,"btn-list"],[1,"form-select",3,"ngModel","ngModelChange","change"],["value","TAMANNA "],["value","BEENA BISHT"],["value","DEEKSHA "],["value","GURPREET KAUR"],["value","RAHUL "],[1,"page-body"],[1,"card"],[1,"row","row-deck","row-cards"],[1,"col-12"],[1,"table-responsive"],[1,"card-body","border-bottom","py-3"],[1,"d-flex"],[1,"text-muted"],[1,"form-select","is-valid",3,"ngModel","ngModelChange","change"],["value","1"],["value","2"],[1,"ms-auto","text-muted"],[1,"input-icon"],["type","text","placeholder","Search....",1,"form-control","is-valid",3,"ngModel","ngModelChange"],[1,"input-icon-addon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"],["d","M21 21l-6 -6"],["class","page-center container container-slim py-4",4,"ngIf"],["class","table card-table table-vcenter datatable table-sm table-fixed",4,"ngIf"],[3,"visible","fullScreen","visibleChange"],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],["appendTo","body",3,"visible","resizable","modal","maximizable","contentStyle","visibleChange"],["position","right",3,"visible","visibleChange"],[1,"card-body"],[1,"fa","fa-building","mr-1"],[1,"fa","fa-map-marker","mr-1"],[1,"fa","fa-map-marker"],[1,"fa","fa-user"],[1,"fa","fa-mobile"],["type","submit",1,"btn-link","strong",3,"click"],["target","_blank",3,"href",4,"ngIf"],[1,"fa","fa-phone"],[1,"btn-link","strong",3,"click"],[1,"fa","fa-whatsapp"],["class","btn-link strong",3,"click",4,"ngIf"],[1,"fa","fa-envelope"],["target","_blank",3,"href"],[1,"page-center","container","container-slim","py-4"],[1,"text-center"],[1,"mb-3"],[1,"text-muted","mb-3"],[1,"progress","progress-sm"],[1,"progress-bar","progress-bar-indeterminate"],[1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed"],[4,"ngIf"],[1,"text-center","strong"],["class","text-center",4,"ngIf"],["class","strong",4,"ngFor","ngForOf"],[1,"strong"],[1,"text-nowrap","text-center"],["class","text-nowrap text-center",4,"ngIf"],["type","button",1,"btn-link","strong",3,"click"],["class","btn btn-primary",4,"ngIf"],["controls","","autoplay","",4,"ngIf"],["class","ms-auto strong text-center",4,"ngIf"],[1,"btn","btn-primary"],[1,"spinner-border","spinner-border-sm"],["controls","","autoplay",""],["type","audio/wav",3,"src"],[1,"ms-auto","strong","text-center"],[1,"card-title"],["type","text","placeholder","Search.....",1,"form-control",3,"ngModel","ngModelChange"],["class","table table-head-fixed table-sm table-fixed cell-border",4,"ngIf"],[1,"table","table-head-fixed","table-sm","table-fixed","cell-border"],[1,"w-1"],[1,"table-sort",3,"click"],["class","text-center strong",3,"ngClass","ngSwitch",4,"ngFor","ngForOf"],[1,"text-center","strong",3,"ngClass","ngSwitch"],["scope","row"],[3,"ngSwitch",4,"ngFor","ngForOf"],[1,"text-nowrap"],[1,"sort-name","text-nowrap"],[1,"d-flex","py-1","align-items-center"],[1,"flex-fill"],[1,"font-weight-medium"],["type","button",1,"btn","btn-primary",3,"click"],[3,"ngSwitch"],[3,"ngClass",4,"ngSwitchCase"],[3,"ngClass"],["class","text-success",4,"ngIf"],["class","text-warning",4,"ngIf"],[1,"text-success"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-discount-check"],["d","M5 7.2a2.2 2.2 0 0 1 2.2 -2.2h1a2.2 2.2 0 0 0 1.55 -.64l.7 -.7a2.2 2.2 0 0 1 3.12 0l.7 .7c.412 .41 .97 .64 1.55 .64h1a2.2 2.2 0 0 1 2.2 2.2v1c0 .58 .23 1.138 .64 1.55l.7 .7a2.2 2.2 0 0 1 0 3.12l-.7 .7a2.2 2.2 0 0 0 -.64 1.55v1a2.2 2.2 0 0 1 -2.2 2.2h-1a2.2 2.2 0 0 0 -1.55 .64l-.7 .7a2.2 2.2 0 0 1 -3.12 0l-.7 -.7a2.2 2.2 0 0 0 -1.55 -.64h-1a2.2 2.2 0 0 1 -2.2 -2.2v-1a2.2 2.2 0 0 0 -.64 -1.55l-.7 -.7a2.2 2.2 0 0 1 0 -3.12l.7 -.7a2.2 2.2 0 0 0 .64 -1.55v-1"],["d","M9 12l2 2l4 -4"],[1,"text-warning"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-circle-x"],["d","M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"],["d","M10 10l4 4m0 -4l-4 4"],[1,"card-footer","d-flex","align-items-center"],[1,"m-0","text-muted"],["class","text-success strong",4,"ngIf"],[1,"text-success","strong"],[1,"text-nowrap","text-center","strong"],["class","text-danger",4,"ngIf"],[1,"text-nowrap","strong"],[1,"text-center","text-center"],[1,"text-danger"],[1,"text-success","text-center"],["type","button",1,"btn-link",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-paperclip"],["d","M15 7l-6.5 6.5a1.5 1.5 0 0 0 3 3l6.5 -6.5a3 3 0 0 0 -6 -6l-6.5 6.5a4.5 4.5 0 0 0 9 9l6.5 -6.5"],["type","button","class","btn-link strong",3,"click",4,"ngIf"],[1,"flex","py-2","justify-content-center"],[1,"row"],["class","col-2",4,"ngFor","ngForOf"],[1,"col-2"],[1,"card-header"],[1,"card-body","p-0"],["width","250","height","250",3,"src","preview",4,"ngIf"],["class","text-center","target","_blank",3,"href",4,"ngIf"],["width","250","height","250",3,"src","preview"],["target","_blank",1,"text-center",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/8/87/PDF_file_icon.svg","width","250","height","250"],[1,"text-danger","text-center"],[1,"row","strong"],[1,"col-md-3"],["class","strong text-center",4,"ngFor","ngForOf"],[1,"strong","text-center"]],template:function(r,a){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5," Overview "),t.qZA(),t.TgZ(6,"h2",5),t._uU(7," Dashboard "),t.qZA()(),t.TgZ(8,"div",6)(9,"div",7)(10,"select",8),t.NdJ("ngModelChange",function(l){return a.userdata=l})("change",function(){return a.CalculateReport()}),t.TgZ(11,"option",9),t._uU(12,"TAMANNA"),t.qZA(),t.TgZ(13,"option",10),t._uU(14,"BEENA BISHT"),t.qZA(),t.TgZ(15,"option",11),t._uU(16,"DEEKSHA"),t.qZA(),t.TgZ(17,"option",12),t._uU(18,"GURPREET KAUR"),t.qZA(),t.TgZ(19,"option",13),t._uU(20,"RAHUL"),t.qZA()()()()()()(),t.TgZ(21,"div",14)(22,"div",1)(23,"div",15)(24,"div",16)(25,"div",17)(26,"div",15)(27,"div",18)(28,"div",19)(29,"div",20)(30,"div",21)(31,"select",22),t.NdJ("ngModelChange",function(l){return a.loadlist=l})("change",function(){return a.Loadlist()}),t.TgZ(32,"option",23),t._uU(33,"Day Wise"),t.qZA(),t.TgZ(34,"option",24),t._uU(35,"Hour Wise"),t.qZA()()(),t.TgZ(36,"div",25)(37,"div",26)(38,"input",27),t.NdJ("ngModelChange",function(l){return a.searchvalue=l}),t.qZA(),t.TgZ(39,"span",28),t.O4$(),t.TgZ(40,"svg",29),t._UZ(41,"path",30)(42,"path",31)(43,"path",32),t.qZA()()()()()(),t.YNc(44,N,7,0,"div",33)(45,K,20,8,"table",34),t.qZA()()()()()()(),t.kcU(),t.TgZ(46,"p-sidebar",35),t.NdJ("visibleChange",function(l){return a.services.parthrecordingvisible=l}),t.YNc(47,B,6,3,"ng-template",36)(48,ct,18,3,"ng-template",37)(49,pt,12,3,"ng-template",38),t.qZA(),t.TgZ(50,"p-sidebar",35),t.NdJ("visibleChange",function(l){return a.services.activityvisible=l}),t.YNc(51,vt,7,4,"ng-template",36)(52,Lt,18,3,"ng-template",37)(53,Jt,12,3,"ng-template",38),t.qZA(),t.TgZ(54,"p-dialog",39),t.NdJ("visibleChange",function(l){return a.services.imageuploadedvisible=l}),t.YNc(55,Rt,1,1,"ng-template",36)(56,kt,4,2,"ng-template",37),t.qZA(),t.TgZ(57,"p-dialog",39),t.NdJ("visibleChange",function(l){return a.services.displayordervisible=l}),t.YNc(58,Yt,1,0,"ng-template",36)(59,jt,48,27,"ng-template",37),t.qZA(),t.TgZ(60,"p-sidebar",40),t.NdJ("visibleChange",function(l){return a.partymastervisible=l}),t.TgZ(61,"div",41)(62,"strong"),t._UZ(63,"i",42),t._uU(64),t.qZA(),t._UZ(65,"br"),t.TgZ(66,"strong"),t._UZ(67,"i",43),t._uU(68),t.qZA(),t._UZ(69,"br"),t.TgZ(70,"strong"),t._UZ(71,"i",43),t._uU(72),t.qZA(),t._UZ(73,"br"),t.TgZ(74,"strong"),t._UZ(75,"i",43),t._uU(76),t.qZA(),t._UZ(77,"br"),t.TgZ(78,"strong"),t._UZ(79,"i",43),t._uU(80),t.qZA(),t._UZ(81,"br"),t.TgZ(82,"strong"),t._UZ(83,"i",44),t._uU(84),t.qZA(),t._UZ(85,"br"),t.TgZ(86,"strong"),t._UZ(87,"i",45),t._uU(88),t.qZA(),t._UZ(89,"br"),t.TgZ(90,"strong"),t._UZ(91,"i",46),t.TgZ(92,"button",47),t.NdJ("click",function(){return a.parthcall(a.services.calldata.mobile1)}),t._uU(93),t.qZA()(),t._uU(94,"\xa0\xa0\xa0\xa0\xa0 "),t.YNc(95,$t,2,1,"a",48),t._UZ(96,"br"),t.TgZ(97,"strong"),t._UZ(98,"i",49),t.TgZ(99,"button",50),t.NdJ("click",function(){return a.parthcall(a.services.calldata.telephone)}),t._uU(100),t.qZA()(),t._uU(101,"\xa0\xa0\xa0\xa0\xa0 "),t.YNc(102,Ht,2,1,"a",48),t._UZ(103,"br"),t.TgZ(104,"strong"),t._UZ(105,"i",51),t.YNc(106,Bt,2,1,"button",52),t.qZA(),t._uU(107,"\xa0\xa0\xa0\xa0\xa0 "),t.YNc(108,Wt,2,1,"a",48),t._UZ(109,"br"),t.TgZ(110,"strong"),t._UZ(111,"i",53),t.TgZ(112,"a",54),t._uU(113),t.qZA()(),t._UZ(114,"br"),t.qZA()()),2&r&&(t.xp6(10),t.Q6J("ngModel",a.userdata),t.xp6(21),t.Q6J("ngModel",a.loadlist),t.xp6(7),t.Q6J("ngModel",a.searchvalue),t.xp6(6),t.Q6J("ngIf",a.loader),t.xp6(1),t.Q6J("ngIf",!a.loader),t.xp6(1),t.Q6J("visible",a.services.parthrecordingvisible)("fullScreen",!0),t.xp6(4),t.Q6J("visible",a.services.activityvisible)("fullScreen",!0),t.xp6(4),t.Akn(t.DdM(40,U)),t.Q6J("visible",a.services.imageuploadedvisible)("resizable",!1)("modal",!0)("maximizable",!0)("contentStyle",t.DdM(41,C)),t.xp6(3),t.Akn(t.DdM(42,U)),t.Q6J("visible",a.services.displayordervisible)("resizable",!1)("modal",!0)("maximizable",!0)("contentStyle",t.DdM(43,C)),t.xp6(3),t.Q6J("visible",a.partymastervisible),t.xp6(4),t.hij(" ",a.services.calldata.clientname,""),t.xp6(4),t.hij(" ",a.services.calldata.add1,""),t.xp6(4),t.hij(" ",a.services.calldata.add2,""),t.xp6(4),t.hij(" ",a.services.calldata.add3,""),t.xp6(4),t.hij(" ",a.services.calldata.city,""),t.xp6(4),t.AsE(" ",a.services.calldata.state," ",a.services.calldata.pincode,""),t.xp6(4),t.hij(" ",a.services.calldata.contactperson,""),t.xp6(5),t.Oqu(a.services.calldata.mobile1),t.xp6(2),t.Q6J("ngIf",a.services.calldata.mobile1),t.xp6(5),t.Oqu(a.services.calldata.telephone),t.xp6(2),t.Q6J("ngIf",a.services.calldata.telephone),t.xp6(4),t.Q6J("ngIf",a.services.calldata.whatsAppNo),t.xp6(2),t.Q6J("ngIf",a.services.calldata.whatsAppNo),t.xp6(4),t.MGl("href","mailto:",a.services.calldata.email,"",t.LSH),t.xp6(1),t.hij(" ",a.services.calldata.email,""))},dependencies:[p.ez,p.mk,p.sg,p.O5,p.RF,p.n9,p.Zx,p.H9,p.uU,m.u5,m.YN,m.Kr,m.Fj,m.EJ,m.JJ,m.On,f.l,f.Y,E.jx,Z.S,Z.V,x.$,x.E,A.FilterPipe],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid black;border-collapse:collapse}"]})}return i})()}}]);