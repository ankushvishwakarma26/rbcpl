"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[7606],{7606:(v,c,n)=>{n.r(c),n.d(c,{CreateComponent:()=>g});var u=n(6814),i=n(6223),t=n(9212),_=n(6064),m=n(266),p=n(2425),h=n(5633);function b(d,s){if(1&d){const o=t.EpF();t.TgZ(0,"tr",40)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",41)(5,"input",42),t.qZA(),t.TgZ(6,"td"),t._UZ(7,"input",43),t.qZA(),t.TgZ(8,"td"),t._UZ(9,"input",44),t.qZA(),t.TgZ(10,"td")(11,"a",45),t.NdJ("click",function(){const a=t.CHM(o).index,l=t.oxw();return t.KtG(l.Removeboproduct(a))}),t._UZ(12,"i",46),t.qZA()()()}if(2&d){const o=s.index;t.Q6J("formGroupName",o),t.xp6(2),t.Oqu(o+1)}}function Z(d,s){if(1&d){const o=t.EpF();t.TgZ(0,"tr",40)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"input",47)(5,"input",42),t.qZA(),t.TgZ(6,"td"),t._UZ(7,"input",43),t.qZA(),t.TgZ(8,"td"),t._UZ(9,"input",44),t.qZA(),t.TgZ(10,"td")(11,"a",45),t.NdJ("click",function(){const a=t.CHM(o).index,l=t.oxw();return t.KtG(l.Removedoproduct(a))}),t._UZ(12,"i",46),t.qZA()()()}if(2&d){const o=s.index;t.Q6J("formGroupName",o),t.xp6(2),t.Oqu(o+1)}}let g=(()=>{class d{constructor(o,r,e,a,l,f){this.builder=o,this.service=r,this.router=e,this.alert=a,this.activeroute=l,this.userservice=f,this.pagetitle="Create Invoice",this.isedit=!1,this.p=1,this.rtcform=this.builder.group({id:this.builder.control(""),rtcompany:this.builder.control("",i.kI.required),companytype:this.builder.control(0,i.kI.required),monthlybill:this.builder.control("",i.kI.required),other:this.builder.control(""),createdby:this.builder.control(this.userservice.GetFullName()),createddts:this.builder.control(new Date),bodetails:this.builder.array([]),dodetails:this.builder.array([])})}ngOnInit(){this.editid=this.activeroute.snapshot.paramMap.get("id"),console.log(this.editid),null!=this.editid&&(this.pagetitle="Edit Invoice",this.isedit=!0,this.SetEditInfo(this.editid))}SetEditInfo(o){this.service.GetBODetailbyid(o).subscribe(r=>{if(null!=r){this.editbodetail=r;for(let e=0;e<this.editbodetail.length;e++)this.addnewboproduct()}}),this.service.GetDODetailbyid(o).subscribe(r=>{if(null!=r){this.editdodetail=r;for(let e=0;e<this.editdodetail.length;e++)this.addnewdoproduct()}}),setTimeout(()=>{this.service.GetAllRTCHeaderbyCode(o).subscribe(r=>{let e;e=r,null!=e&&this.rtcform.setValue({id:e.id,rtcompany:e.rtcompany,companytype:e.companytype,monthlybill:e.monthlybill,other:e.other,createdby:e.createdby,createddts:e.createddts,bodetails:this.editbodetail,dodetails:this.editdodetail})})},500)}SaveInvoice(){this.rtcform.valid?this.service.CreateUpdateRTC(this.rtcform.getRawValue()).subscribe(o=>{let r;r=o,console.log(o),"pass"==r.result?(this.alert.success(this.isedit?"Updated Successfully.":"Created Successfully.","RTC :"+r.kyValue),this.router.navigate(["/rtc"])):this.alert.error(r.result,"RTC")}):this.alert.warning("Please enter values in all mandatory field","Validation")}addnewboproduct(){this.bodetails=this.rtcform.get("bodetails"),this.bodetails.push(this.Generateborow())}get boproducts(){return this.rtcform.get("bodetails")}get doproducts(){return this.rtcform.get("dodetails")}addnewdoproduct(){this.dodetails=this.rtcform.get("dodetails"),this.dodetails.push(this.Generatedorow())}Generateborow(){return this.builder.group({bid:this.builder.control(""),location:this.builder.control("",i.kI.required),name:this.builder.control("",i.kI.required),mobile:this.builder.control("",i.kI.required),other:this.builder.control("")})}Generatedorow(){return this.builder.group({did:this.builder.control(""),location:this.builder.control("",i.kI.required),name:this.builder.control(""),mobile:this.builder.control(""),other:this.builder.control("")})}Removeboproduct(o){confirm("Do you want to remove?")&&this.boproducts.removeAt(o)}Removedoproduct(o){confirm("Do you want to remove?")&&this.doproducts.removeAt(o)}static#t=this.\u0275fac=function(r){return new(r||d)(t.Y36(i.qu),t.Y36(_.A),t.Y36(m.F0),t.Y36(p._W),t.Y36(m.gz),t.Y36(h.K))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["app-create"]],standalone:!0,features:[t.jDz],decls:108,vars:4,consts:[[1,"page-header","d-print-none"],[1,"container-xl"],[1,"row","g-2","align-items-center"],[1,"col"],[1,"page-pretitle"],[1,"page-title"],[1,"col-auto","ms-auto","d-print-none"],[1,"btn-list"],["type","button","routerLink","/rtc",1,"btn","btn-danger"],[1,"page-body"],[1,"card","card-lg"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row","row-cards"],[1,"col-md-6"],[1,"mb-3"],[1,"form-label","required"],["formControlName","id","readonly","",1,"form-control"],["formControlName","rtcompany",1,"form-control"],["formControlName","companytype",1,"form-select"],["value","0"],["value","1"],["value","2"],[1,"form-label"],["formControlName","monthlybill",1,"form-select"],["value",""],["value","Yes"],["value","No"],[1,"text-danger","text-center"],["formArrayName","bodetails",1,"table","table-bordered"],[1,"bg-primary","text-white"],[1,"w-1"],[3,"formGroupName",4,"ngFor","ngForOf"],["colspan","6"],[1,"btn","btn-success",3,"click"],["formArrayName","dodetails",1,"table","table-bordered"],[1,"col-md-10"],[1,"col-md-2"],["routerLink","/rtc",1,"btn","btn-danger"],["type","submit",1,"btn","btn-success",3,"disabled"],[3,"formGroupName"],["type","hidden","formControlName","bid"],["formControlName","location",1,"form-control"],["formControlName","name",1,"form-control"],["formControlName","mobile",1,"form-control"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["type","hidden","formControlName","did"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5," Overview "),t.qZA(),t.TgZ(6,"h2",5),t._uU(7," Create "),t.qZA()(),t.TgZ(8,"div",6)(9,"div",7)(10,"button",8),t._uU(11,"Back"),t.qZA()()()()()(),t.TgZ(12,"div",9)(13,"div",1)(14,"div",10)(15,"div",11)(16,"form",12),t.NdJ("ngSubmit",function(){return e.SaveInvoice()}),t.TgZ(17,"div",13)(18,"div",14)(19,"div",15)(20,"label",16),t._uU(21,"Id"),t.qZA(),t._UZ(22,"input",17),t.qZA()(),t.TgZ(23,"div",14)(24,"div",15)(25,"label",16),t._uU(26,"Transport Name"),t.qZA(),t._UZ(27,"input",18),t.qZA()(),t.TgZ(28,"div",14)(29,"div",15)(30,"label",16),t._uU(31,"Company Type"),t.qZA(),t.TgZ(32,"select",19)(33,"option",20),t._uU(34,"----Select----"),t.qZA(),t.TgZ(35,"option",21),t._uU(36,"Local Trasport"),t.qZA(),t.TgZ(37,"option",22),t._uU(38,"Road Transport Company"),t.qZA()()()(),t.TgZ(39,"div",14)(40,"div",15)(41,"label",23),t._uU(42,"Monthly Bill"),t.qZA(),t.TgZ(43,"select",24)(44,"option",25),t._uU(45,"----Select----"),t.qZA(),t.TgZ(46,"option",26),t._uU(47,"Yes"),t.qZA(),t.TgZ(48,"option",27),t._uU(49,"No"),t.qZA()()()()(),t._UZ(50,"br"),t.TgZ(51,"div",13)(52,"div",14)(53,"h2",28),t._uU(54,"Booking Office"),t.qZA(),t.TgZ(55,"table",29)(56,"thead",30)(57,"tr")(58,"td",31),t._uU(59,"S.No"),t.qZA(),t.TgZ(60,"td"),t._uU(61,"Location"),t.qZA(),t.TgZ(62,"td"),t._uU(63,"Name"),t.qZA(),t.TgZ(64,"td"),t._uU(65,"Contact"),t.qZA(),t.TgZ(66,"td",31),t._uU(67,"Action"),t.qZA()()(),t.TgZ(68,"tbody"),t.YNc(69,b,13,2,"tr",32),t.qZA(),t.TgZ(70,"tfoot")(71,"tr")(72,"td",33)(73,"a",34),t.NdJ("click",function(){return e.addnewboproduct()}),t._uU(74,"[+]"),t.qZA()()()()()(),t.TgZ(75,"div",14)(76,"h2",28),t._uU(77,"Delivery Office"),t.qZA(),t.TgZ(78,"table",35)(79,"thead",30)(80,"tr")(81,"td",31),t._uU(82,"S.No"),t.qZA(),t.TgZ(83,"td"),t._uU(84,"Location"),t.qZA(),t.TgZ(85,"td"),t._uU(86,"Name"),t.qZA(),t.TgZ(87,"td"),t._uU(88,"Contact"),t.qZA(),t.TgZ(89,"td",31),t._uU(90,"Action"),t.qZA()()(),t.TgZ(91,"tbody"),t.YNc(92,Z,13,2,"tr",32),t.qZA(),t.TgZ(93,"tfoot")(94,"tr")(95,"td",33)(96,"a",34),t.NdJ("click",function(){return e.addnewdoproduct()}),t._uU(97,"[+]"),t.qZA()()()()()()(),t._UZ(98,"br"),t.TgZ(99,"div",13),t._UZ(100,"div",36),t.TgZ(101,"div",37),t._UZ(102,"br"),t.TgZ(103,"a",38),t._uU(104,"Back"),t.qZA(),t._uU(105," | "),t.TgZ(106,"button",39),t._uU(107,"Save"),t.qZA()()()()()()()()),2&r&&(t.xp6(16),t.Q6J("formGroup",e.rtcform),t.xp6(53),t.Q6J("ngForOf",e.boproducts.controls),t.xp6(23),t.Q6J("ngForOf",e.doproducts.controls),t.xp6(14),t.Q6J("disabled",e.rtcform.invalid))},dependencies:[u.ez,u.sg,i.u5,i._Y,i.YN,i.Kr,i.Fj,i.EJ,i.JJ,i.JL,i.UX,i.sg,i.u,i.x0,i.CE]})}return d})()}}]);