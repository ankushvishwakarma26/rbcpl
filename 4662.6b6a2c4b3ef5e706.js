"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[4662],{4662:(P,c,n)=>{n.r(c),n.d(c,{ResetPasswordComponent:()=>x});var r=n(6223),d=n(6814),e=n(9212),u=n(5633),h=n(8778),g=n(2425),m=n(266);function _(a,l){if(1&a){const s=e.EpF();e.TgZ(0,"div",33)(1,"label",34),e._uU(2,"One Time Password"),e.qZA(),e.TgZ(3,"input",35),e.NdJ("ngModelChange",function(o){e.CHM(s);const i=e.oxw();return e.KtG(i.otp=o)})("keyup",function(o){e.CHM(s);const i=e.oxw();return e.KtG(i.VerifyOTP(o))}),e.qZA(),e._UZ(4,"br"),e.TgZ(5,"div",36),e._uU(6),e.qZA()()}if(2&a){const s=e.oxw();e.xp6(3),e.Q6J("readOnly",s.otpverified)("ngModel",s.otp)("ngClass",s.otpverified?"is-valid mb-2":"is-invalid"),e.xp6(2),e.Q6J("ngClass",s.otpverified?"text-success":"text-danger"),e.xp6(1),e.Oqu(s.otpverifiedmessage)}}function w(a,l){if(1&a){const s=e.EpF();e.TgZ(0,"div",33)(1,"label",34),e._uU(2,"New Password"),e.qZA(),e.TgZ(3,"div",37)(4,"input",38),e.NdJ("ngModelChange",function(o){e.CHM(s);const i=e.oxw();return e.KtG(i.newpassword=o)})("keyup",function(){e.CHM(s);const o=e.oxw();return e.KtG(o.checkconfirmpassword())}),e.qZA(),e.TgZ(5,"span",39)(6,"a",40),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return e.KtG(o.showPassword())}),e._UZ(7,"i",41),e.qZA()()()()}if(2&a){const s=e.oxw();e.xp6(4),e.Q6J("type",s.show_button?"text":"password")("ngModel",s.newpassword)("ngClass","error"==s.status1?"is-invalid":"is-valid mb-2"),e.xp6(3),e.Q6J("ngClass",s.show_eye?"fa fa-eye":"fa fa-eye-slash")}}function f(a,l){if(1&a){const s=e.EpF();e.TgZ(0,"div",33)(1,"label",34),e._uU(2,"Confirm Password"),e.qZA(),e.TgZ(3,"div",37)(4,"input",42),e.NdJ("ngModelChange",function(o){e.CHM(s);const i=e.oxw();return e.KtG(i.confirmpassword=o)})("keyup",function(){e.CHM(s);const o=e.oxw();return e.KtG(o.checkconfirmpassword())}),e.qZA(),e.TgZ(5,"span",39)(6,"a",40),e.NdJ("click",function(){e.CHM(s);const o=e.oxw();return e.KtG(o.showPassword1())}),e._UZ(7,"i",41),e.qZA()()()()}if(2&a){const s=e.oxw();e.xp6(4),e.Q6J("type",s.show_button1?"text":"password")("ngModel",s.confirmpassword)("ngClass","error"==s.status?"is-invalid":"is-valid mb-2"),e.xp6(3),e.Q6J("ngClass",s.show_eye1?"fa fa-eye":"fa fa-eye-slash")}}function v(a,l){1&a&&(e.TgZ(0,"div",43)(1,"button",44),e._uU(2," Reset Password "),e.qZA()())}function b(a,l){if(1&a&&(e.TgZ(0,"label",45),e._uU(1),e.qZA()),2&a){const s=e.oxw();e.Q6J("ngClass",s.messagestatus),e.xp6(1),e.Oqu(s.errormessage)}}let x=(()=>{class a{constructor(s,t,o,i,p){this.service=s,this.waservice=t,this.datePipe=o,this.toast=i,this.activeroute=p,this.logonurl="",this.otpenable=!1,this.show_button=!1,this.show_eye=!1,this.show_button1=!1,this.show_eye1=!1,this.status="error",this.status1="error",this.enablesubmit=!1}ngOnInit(){var s=this.activeroute.snapshot.paramMap.get("id");null!=s&&this.service.GetForgetPasswordbyid(s).subscribe(t=>{"changed"==t.status?(this.messagestatus="text-danger",this.errormessage="Your Password has already Changed by "+this.datePipe.transform(t.message,"dd-MMM-YYYY hh:mm a")):"success"==t.status?(this.otpenable=!0,this.resetpassworddata=t.data):(this.messagestatus="text-danger",this.errormessage=t.message)})}showPassword(){this.show_button=!this.show_button,this.show_eye=!this.show_eye}showPassword1(){this.show_button1=!this.show_button1,this.show_eye1=!this.show_eye1}VerifyOTP(s){this.otpverifiedmessage="",6==s.target.value.length?this.otp==this.resetpassworddata.otp?(this.otpverified=!0,this.otpverifiedmessage="One Time Password Verified Successfully"):(this.otpverified=!1,this.otpverifiedmessage="One Time Password is Invalid"):s.target.value.length>6&&(this.otpverified=!1,this.otpverifiedmessage="One Time Password will be Only 6 Digit")}checkconfirmpassword(){null!=this.newpassword&&null==this.confirmpassword?this.status1="success":this.newpassword!=this.confirmpassword?(this.status="error",this.errorpasswordmessage="Confirm Password do not Match with New Password"):(this.status="success",this.errorpasswordmessage="Great You have Entered Matched Password",this.enablesubmit=!0)}ResetPassword(s){s.valid?(this.service.updatepassworddata.userId=this.resetpassworddata.id,this.service.updatepassworddata.userName=this.resetpassworddata.email,this.service.updatepassworddata.newPassword=this.newpassword,this.service.updatepassworddata.confirmPassword=this.confirmpassword,this.service.ResetUserPassword().subscribe(t=>{"success"==t.status?(this.messagestatus="text-success",this.errormessage=t.message,this.toast.success(t.message,"Success"),setTimeout(()=>{window.open("./login","_self")},1e3)):(this.messagestatus="text-danger",this.errormessage=t.message,this.toast.error(t.message,"Error"))})):this.toast.error("Invalid Attempt!!! Please Try again")}static#e=this.\u0275fac=function(t){return new(t||a)(e.Y36(u.K),e.Y36(h.C),e.Y36(d.uU),e.Y36(g._W),e.Y36(m.gz))};static#s=this.\u0275cmp=e.Xpm({type:a,selectors:[["app-reset-password"]],standalone:!0,features:[e.jDz],decls:42,vars:7,consts:[[1,"d-flex","flex-column","bg-white"],[1,"row","g-0","flex-fill"],[1,"col-12","col-lg-6","col-xl-4","border-top-wide","border-primary","d-flex","flex-column","justify-content-center"],[1,"container","container-tight","my-5","px-lg-5"],[1,"text-center","mb-4"],["routerLink","",1,"navbar-brand","navbar-brand-autodark"],["src","http://6am12pm.com/wp-content/uploads/2019/03/intranet-logo.png","height","36","alt",""],[3,"submit"],["forgetform","ngForm"],[1,"card-body"],[1,"card-title","text-center","mb-4"],["class","mb-3",4,"ngIf"],[1,"card-title","mt-4","text-center",3,"ngClass"],["class","form-footer",4,"ngIf"],["class","form-label text-center",3,"ngClass",4,"ngIf"],[1,"text-center","text-muted","mt-3"],["href","./login"],[1,"col-12","col-lg-6","col-xl-8","d-none","d-lg-block"],["id","carousel-indicators","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carousel-indicators","data-bs-slide-to","0",1,"active"],["type","button","data-bs-target","#carousel-indicators","data-bs-slide-to","1",1,""],["type","button","data-bs-target","#carousel-indicators","data-bs-slide-to","2",1,""],["type","button","data-bs-target","#carousel-indicators","data-bs-slide-to","3",1,""],["type","button","data-bs-target","#carousel-indicators","data-bs-slide-to","4",1,""],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","","src","https://preview.tabler.io/static/photos/home-office-desk-with-macbook-iphone-calendar-watch-and-organizer.jpg",1,"bg-cover","h-100","min-vh-100"],[1,"carousel-item"],["alt","","src","https://preview.tabler.io/static/photos/workplace-with-laptop-on-table-at-home.jpg",1,"bg-cover","h-100","min-vh-100"],["alt","","src","https://preview.tabler.io/static/photos/white-apple-imac-computer-with-elephant-mousepad.jpg",1,"bg-cover","h-100","min-vh-100"],["alt","","src","https://preview.tabler.io/static/photos/workplace-with-laptop-on-table-at-home-2.jpg",1,"bg-cover","h-100","min-vh-100"],["alt","","src","https://preview.tabler.io/static/photos/working-in-a-restaurant-macbook-cheese-cake-and-cup-of-coffee.jpg",1,"bg-cover","h-100","min-vh-100"],[1,"mb-3"],[1,"form-label"],["type","number","min","000001","max","999999","placeholder","Enter One Time Password","name","otp","required","","autocomplete","off",1,"form-control",3,"readOnly","ngModel","ngClass","ngModelChange","keyup"],[1,"text-center","strong",3,"ngClass"],[1,"input-group","input-group-flat"],["type","password","placeholder","New Password","name","newpassword","required","","autocomplete","off",1,"form-control",3,"type","ngModel","ngClass","ngModelChange","keyup"],[1,"input-group-text"],["title","Show password","data-bs-toggle","tooltip",1,"link-secondary",3,"click"],[3,"ngClass"],["type","password","placeholder","Confirm Password","name","confirmpassword","required","","autocomplete","off",1,"form-control",3,"type","ngModel","ngClass","ngModelChange","keyup"],[1,"form-footer"],["type","submit",1,"btn","btn-primary","w-100"],[1,"form-label","text-center",3,"ngClass"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"body",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),e._UZ(6,"img",6),e.qZA()(),e.TgZ(7,"form",7,8),e.NdJ("submit",function(){e.CHM(i);const C=e.MAs(8);return e.KtG(o.ResetPassword(C))}),e.TgZ(9,"div",9)(10,"h2",10),e._uU(11,"Reset password"),e.qZA(),e.YNc(12,_,7,5,"div",11)(13,w,8,4,"div",11)(14,f,8,4,"div",11),e.TgZ(15,"h3",12),e._uU(16),e.qZA(),e.YNc(17,v,3,0,"div",13),e._UZ(18,"br"),e.YNc(19,b,2,2,"label",14),e.qZA()(),e.TgZ(20,"div",15)(21,"a",16),e._uU(22,"Send me back to the Sign in Screen."),e.qZA()()()(),e.TgZ(23,"div",17)(24,"div",18)(25,"div",19),e._UZ(26,"button",20)(27,"button",21)(28,"button",22)(29,"button",23)(30,"button",24),e.qZA(),e.TgZ(31,"div",25)(32,"div",26),e._UZ(33,"img",27),e.qZA(),e.TgZ(34,"div",28),e._UZ(35,"img",29),e.qZA(),e.TgZ(36,"div",28),e._UZ(37,"img",30),e.qZA(),e.TgZ(38,"div",28),e._UZ(39,"img",31),e.qZA(),e.TgZ(40,"div",28),e._UZ(41,"img",32),e.qZA()()()()()()}2&t&&(e.xp6(12),e.Q6J("ngIf",o.otpenable),e.xp6(1),e.Q6J("ngIf",o.otpverified),e.xp6(1),e.Q6J("ngIf",o.otpverified),e.xp6(1),e.Q6J("ngClass","error"==o.status?"text-danger":"text-success"),e.xp6(1),e.Oqu(o.errorpasswordmessage),e.xp6(1),e.Q6J("ngIf",o.enablesubmit),e.xp6(2),e.Q6J("ngIf",null!=o.errormessage))},dependencies:[d.ez,d.mk,d.O5,r.u5,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.Q7,r.qQ,r.Fd,r.On,r.F]})}return a})()}}]);