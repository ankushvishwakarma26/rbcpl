"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[5056],{7372:(Z,v,c)=>{c.d(v,{w:()=>p});var _=c(9212),C=c(9862),y=c(2425),x=c(5633),f=c(5218);let p=(()=>{class t{constructor(r,l,g,u){this.http=r,this.toast=l,this.service=g,this.sort=u,this.progressinvoice=!1,this.parthurl="http://10.10.9.190:1111/api/",this.erpurl="http://103.59.180.17:1112/api/ERP/"}viewinvoice(r){this.progressinvoice=!0,this.dmsdocument=null,this.documentname="View Invoice",this.GetDMSDocumentbyid(r).subscribe(l=>{"success"==l.status?window.open("http://103.59.180.17:1114/FTP DATA/"+l.invoice.filepath,"_blank"):(this.toast.error(l.message,"Error"),this.dmsdocument=null)})}closepdf(){this.invoice=!1,this.dmsdocument=null}GetTodayscall(r){return this.http.get(this.parthurl+"Parth?user="+r)}GetAllcall(r,l,g){return this.http.get(""!=g?this.parthurl+"Parth/AllRecording?start="+r+"&end="+l+"&user="+g:this.parthurl+"Parth/AllRecording?start="+r+"&end="+l)}GetUser(){return this.http.get(this.parthurl+"Parth/GetUser")}Recordingbycontact(r,l){return this.http.get(this.parthurl+"Parth/Recordingbycontact?contact1="+r+"&contact2="+l)}GetRecordingbyid(r){return this.http.get(this.parthurl+"Parth/GetRecordingbyid?id="+r)}GetRecordingbyactivity(r,l,g){return this.http.get(this.parthurl+"Parth/GetRecordingbyactivity?contact1="+r+"&contact2="+l+"&date="+g)}GetRecordingbytime(r,l){return this.http.get(""!=this.sort.orderby&&""!=this.sort.sortby?this.parthurl+"Parth/GetRecordingbytime?user="+r+"&date="+l+"&orderby="+this.sort.orderby+"&sortby="+this.sort.sortby:this.parthurl+"Parth/GetRecordingbytime?user="+r+"&date="+l)}GetRecordingbyday(r,l){return this.http.get(""!=this.sort.orderby&&""!=this.sort.sortby?this.parthurl+"Parth/GetRecordingbyday?user="+r+"&date="+l+"&orderby="+this.sort.orderby+"&sortby="+this.sort.sortby:this.parthurl+"Parth/GetRecordingbyday?user="+r+"&date="+l)}GetAudio(r){return this.http.get(this.parthurl+"Parth/GetAudio?filePath="+r)}Getdealbyid(r){return this.http.get(this.erpurl+"GetDealbyDealNoforDPL/"+r)}GetDealbyOrderid(r){return this.http.get(this.erpurl+"GetDealbyOrderNoforDPL/"+r)}GetInvoicelistbyaccode(r){return this.http.get(this.erpurl+"GetInvoicebyaccode/"+r)}GetInvoicebyinvoiceid(r){return this.http.get(this.erpurl+"GetInvoicebyId/"+r)}GetInvoicebyOrderno(r){return this.http.get(this.erpurl+"GetInvoicebyorderno/"+r)}GetOrderDetailsbyId(r){return this.http.get(this.erpurl+"GetOrderDetailsbyId/"+r)}GetOrderDetailsbyaccode(r){return this.http.get(this.erpurl+"GetOrderDetailsbyaccode/"+r)}GetDMSDocumentbyid(r){return this.http.get(this.erpurl+"GetDMSDocumentbyid/"+r)}ItemSearch(r){return this.http.get(""!=r?this.erpurl+"ItemSearch?Search="+r:this.erpurl+"ItemSearch")}GetCRMActivityReport(r,l,g,u){return this.http.get(""!=g?this.erpurl+"GetCRMActivityReport?startdate="+r+"&enddate="+l+"&user="+g+"&condition="+u:this.erpurl+"GetCRMActivityReport?startdate="+r+"&enddate="+l+"&condition="+u)}GetCRMActivitydaywise(r,l,g){return this.http.get(this.erpurl+"GetCRMActivitydaywise?startdate="+r+"&enddate="+l+"&user="+g)}GetCRMOrderbyid(r){return this.http.get(this.erpurl+"GetCRMOrderbyid/"+r)}GetInvoiceData(r){return this.http.get(this.erpurl+"GetInvoiceData/"+r)}static#t=this.\u0275fac=function(l){return new(l||t)(_.LFG(C.eN),_.LFG(y._W),_.LFG(x.K),_.LFG(f.K))};static#e=this.\u0275prov=_.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})()},5056:(Z,v,c)=>{c.r(v),c.d(v,{OrdertrackingComponent:()=>vt});var _=c(6223),C=c(7398),y=c(6306),x=c(2096),f=c(9862),p=c(6814),t=c(9212),T=c(5219),r=c(4713),l=c(2332);let g=(()=>{class n extends r.s{pathId;ngOnInit(){this.pathId="url(#"+(0,l.Th)()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.n5z(n)))(i||n)}})();static \u0275cmp=t.Xpm({type:n,selectors:[["StarFillIcon"]],standalone:!0,features:[t.qOj,t.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.9718 5.36453C13.9398 5.26298 13.8798 5.17252 13.7986 5.10356C13.7175 5.0346 13.6186 4.98994 13.5132 4.97472L9.37043 4.37088L7.51307 0.617955C7.46021 0.529271 7.38522 0.455834 7.29545 0.404836C7.20568 0.353838 7.1042 0.327026 7.00096 0.327026C6.89771 0.327026 6.79624 0.353838 6.70647 0.404836C6.6167 0.455834 6.54171 0.529271 6.48885 0.617955L4.63149 4.37088L0.488746 4.97472C0.383363 4.98994 0.284416 5.0346 0.203286 5.10356C0.122157 5.17252 0.0621407 5.26298 0.03014 5.36453C-0.00402286 5.46571 -0.00924428 5.57442 0.0150645 5.67841C0.0393733 5.7824 0.0922457 5.87753 0.167722 5.95308L3.17924 8.87287L2.4684 13.0003C2.45038 13.1066 2.46229 13.2158 2.50278 13.3157C2.54328 13.4156 2.61077 13.5022 2.6977 13.5659C2.78477 13.628 2.88746 13.6644 2.99416 13.6712C3.10087 13.678 3.20733 13.6547 3.30153 13.6042L7.00096 11.6551L10.708 13.6042C10.79 13.6491 10.882 13.6728 10.9755 13.673C11.0958 13.6716 11.2129 13.6343 11.3119 13.5659C11.3988 13.5022 11.4663 13.4156 11.5068 13.3157C11.5473 13.2158 11.5592 13.1066 11.5412 13.0003L10.8227 8.87287L13.8266 5.95308C13.9033 5.87835 13.9577 5.7836 13.9833 5.67957C14.009 5.57554 14.005 5.4664 13.9718 5.36453Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(a,i){1&a&&(t.O4$(),t.TgZ(0,"svg",0)(1,"g"),t._UZ(2,"path",1),t.qZA(),t.TgZ(3,"defs")(4,"clipPath",2),t._UZ(5,"rect",3),t.qZA()()()),2&a&&(t.Tol(i.getClassNames()),t.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),t.xp6(1),t.uIk("clip-path",i.pathId),t.xp6(3),t.Q6J("id",i.pathId))},encapsulation:2})}return n})(),u=(()=>{class n extends r.s{pathId;ngOnInit(){this.pathId="url(#"+(0,l.Th)()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.n5z(n)))(i||n)}})();static \u0275cmp=t.Xpm({type:n,selectors:[["StarIcon"]],standalone:!0,features:[t.qOj,t.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M10.9741 13.6721C10.8806 13.6719 10.7886 13.6483 10.7066 13.6033L7.00002 11.6545L3.29345 13.6033C3.19926 13.6539 3.09281 13.6771 2.98612 13.6703C2.87943 13.6636 2.77676 13.6271 2.6897 13.5651C2.60277 13.5014 2.53529 13.4147 2.4948 13.3148C2.45431 13.215 2.44241 13.1058 2.46042 12.9995L3.17881 8.87264L0.167699 5.95324C0.0922333 5.8777 0.039368 5.78258 0.0150625 5.67861C-0.00924303 5.57463 -0.00402231 5.46594 0.030136 5.36477C0.0621323 5.26323 0.122141 5.17278 0.203259 5.10383C0.284377 5.03488 0.383311 4.99023 0.488681 4.97501L4.63087 4.37126L6.48797 0.618832C6.54083 0.530159 6.61581 0.456732 6.70556 0.405741C6.79532 0.35475 6.89678 0.327942 7.00002 0.327942C7.10325 0.327942 7.20471 0.35475 7.29447 0.405741C7.38422 0.456732 7.4592 0.530159 7.51206 0.618832L9.36916 4.37126L13.5114 4.97501C13.6167 4.99023 13.7157 5.03488 13.7968 5.10383C13.8779 5.17278 13.9379 5.26323 13.9699 5.36477C14.0041 5.46594 14.0093 5.57463 13.985 5.67861C13.9607 5.78258 13.9078 5.8777 13.8323 5.95324L10.8212 8.87264L11.532 12.9995C11.55 13.1058 11.5381 13.215 11.4976 13.3148C11.4571 13.4147 11.3896 13.5014 11.3027 13.5651C11.2059 13.632 11.0917 13.6692 10.9741 13.6721ZM7.00002 10.4393C7.09251 10.4404 7.18371 10.4613 7.2675 10.5005L10.2098 12.029L9.65193 8.75036C9.6368 8.6584 9.64343 8.56418 9.6713 8.47526C9.69918 8.38633 9.74751 8.30518 9.81242 8.23832L12.1969 5.94559L8.90298 5.45648C8.81188 5.44198 8.72555 5.406 8.65113 5.35152C8.57671 5.29703 8.51633 5.2256 8.475 5.14314L7.00002 2.1626L5.52503 5.15078C5.4837 5.23324 5.42332 5.30467 5.3489 5.35916C5.27448 5.41365 5.18815 5.44963 5.09705 5.46412L1.80318 5.94559L4.18761 8.23832C4.25252 8.30518 4.30085 8.38633 4.32873 8.47526C4.3566 8.56418 4.36323 8.6584 4.3481 8.75036L3.7902 12.0519L6.73253 10.5234C6.81451 10.4762 6.9058 10.4475 7.00002 10.4393Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(a,i){1&a&&(t.O4$(),t.TgZ(0,"svg",0)(1,"g"),t._UZ(2,"path",1),t.qZA(),t.TgZ(3,"defs")(4,"clipPath",2),t._UZ(5,"rect",3),t.qZA()()()),2&a&&(t.Tol(i.getClassNames()),t.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),t.xp6(1),t.uIk("clip-path",i.pathId),t.xp6(3),t.Q6J("id",i.pathId))},encapsulation:2})}return n})(),k=(()=>{class n extends r.s{pathId;ngOnInit(){this.pathId="url(#"+(0,l.Th)()+")"}static \u0275fac=(()=>{let e;return function(i){return(e||(e=t.n5z(n)))(i||n)}})();static \u0275cmp=t.Xpm({type:n,selectors:[["BanIcon"]],standalone:!0,features:[t.qOj,t.jDz],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7 0C5.61553 0 4.26215 0.410543 3.11101 1.17971C1.95987 1.94888 1.06266 3.04213 0.532846 4.32122C0.00303296 5.6003 -0.13559 7.00776 0.134506 8.36563C0.404603 9.7235 1.07129 10.9708 2.05026 11.9497C3.02922 12.9287 4.2765 13.5954 5.63437 13.8655C6.99224 14.1356 8.3997 13.997 9.67879 13.4672C10.9579 12.9373 12.0511 12.0401 12.8203 10.889C13.5895 9.73785 14 8.38447 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0ZM1.16667 7C1.16549 5.65478 1.63303 4.35118 2.48889 3.31333L10.6867 11.5111C9.83309 12.2112 8.79816 12.6544 7.70243 12.789C6.60669 12.9236 5.49527 12.744 4.49764 12.2713C3.50001 11.7986 2.65724 11.0521 2.06751 10.1188C1.47778 9.18558 1.16537 8.10397 1.16667 7ZM11.5111 10.6867L3.31334 2.48889C4.43144 1.57388 5.84966 1.10701 7.29265 1.1789C8.73565 1.2508 10.1004 1.85633 11.1221 2.87795C12.1437 3.89956 12.7492 5.26435 12.8211 6.70735C12.893 8.15034 12.4261 9.56856 11.5111 10.6867Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(a,i){1&a&&(t.O4$(),t.TgZ(0,"svg",0)(1,"g"),t._UZ(2,"path",1),t.qZA(),t.TgZ(3,"defs")(4,"clipPath",2),t._UZ(5,"rect",3),t.qZA()()()),2&a&&(t.Tol(i.getClassNames()),t.uIk("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),t.xp6(1),t.uIk("clip-path",i.pathId),t.xp6(3),t.Q6J("id",i.pathId))},encapsulation:2})}return n})();function M(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",7),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clear(i))})("keydown.enter",function(i){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clear(i))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngClass",e.iconCancelClass)("ngStyle",e.iconCancelStyle),t.uIk("tabindex",e.disabled||e.readonly?null:"0")}}function R(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"BanIcon",8),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clear(i))})("keydown.enter",function(i){t.CHM(e);const o=t.oxw(3);return t.KtG(o.clear(i))}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("styleClass","p-rating-icon p-rating-cancel")("ngStyle",e.iconCancelStyle),t.uIk("tabindex",e.disabled||e.readonly?null:"0")}}function A(n,s){if(1&n&&(t.ynx(0),t.YNc(1,M,1,3,"span",5)(2,R,1,3,"BanIcon",6),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.iconCancelClass),t.xp6(1),t.Q6J("ngIf",!e.iconCancelClass)}}function S(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",11),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw(2).index,d=t.oxw(2);return t.KtG(d.rate(i,o))})("keydown.enter",function(i){t.CHM(e);const o=t.oxw(2).index,d=t.oxw(2);return t.KtG(d.rate(i,o))}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("ngStyle",e.iconOffStyle)("ngClass",e.iconOffClass)}}function G(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"StarIcon",12),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw(2).index,d=t.oxw(2);return t.KtG(d.rate(i,o))})("keydown.enter",function(i){t.CHM(e);const o=t.oxw(2).index,d=t.oxw(2);return t.KtG(d.rate(i,o))}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("ngStyle",e.iconOffStyle)("styleClass","p-rating-icon"),t.uIk("tabindex",e.disabled||e.readonly?null:"0")}}function F(n,s){if(1&n&&(t.ynx(0),t.YNc(1,S,1,2,"span",9)(2,G,1,3,"StarIcon",10),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.iconOffClass),t.xp6(1),t.Q6J("ngIf",!e.iconOffClass)}}function J(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",14),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw(2).index,d=t.oxw(2);return t.KtG(d.rate(i,o))})("keydown.enter",function(i){t.CHM(e);const o=t.oxw(2).index,d=t.oxw(2);return t.KtG(d.rate(i,o))}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("ngStyle",e.iconOnStyle)("ngClass",e.iconOnClass)}}function U(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"StarFillIcon",12),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw(2).index,d=t.oxw(2);return t.KtG(d.rate(i,o))})("keydown.enter",function(i){t.CHM(e);const o=t.oxw(2).index,d=t.oxw(2);return t.KtG(d.rate(i,o))}),t.qZA()}if(2&n){const e=t.oxw(4);t.Q6J("ngStyle",e.iconOnStyle)("styleClass","p-rating-icon p-rating-icon-active"),t.uIk("tabindex",e.disabled||e.readonly?null:"0")}}function D(n,s){if(1&n&&(t.ynx(0),t.YNc(1,J,1,2,"span",13)(2,U,1,3,"StarFillIcon",10),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.iconOnClass),t.xp6(1),t.Q6J("ngIf",!e.iconOnClass)}}function E(n,s){if(1&n&&(t.TgZ(0,"span"),t.YNc(1,F,3,2,"ng-container",3)(2,D,3,2,"ng-container",3),t.qZA()),2&n){const e=s.index,a=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!a.value||e>=a.value),t.xp6(1),t.Q6J("ngIf",a.value&&e<a.value)}}function L(n,s){if(1&n&&(t.ynx(0),t.YNc(1,A,3,2,"ng-container",3)(2,E,3,2,"span",4),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.cancel),t.xp6(1),t.Q6J("ngForOf",e.starsArray)}}function Q(n,s){1&n&&t.GkF(0)}function N(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",17),t.NdJ("click",function(i){t.CHM(e);const o=t.oxw(2);return t.KtG(o.clear(i))})("keydown.enter",function(i){t.CHM(e);const o=t.oxw(2);return t.KtG(o.clear(i))}),t.YNc(1,Q,1,0,"ng-container",18),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngStyle",e.iconCancelStyle),t.uIk("tabindex",e.disabled||e.readonly?null:"0"),t.xp6(1),t.Q6J("ngTemplateOutlet",e.cancelIconTemplate)}}function P(n,s){1&n&&t.GkF(0)}function q(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"span",19),t.NdJ("click",function(i){const d=t.CHM(e).index,h=t.oxw(2);return t.KtG(h.rate(i,d))})("keydown.enter",function(i){const d=t.CHM(e).index,h=t.oxw(2);return t.KtG(h.rate(i,d))}),t.YNc(1,P,1,0,"ng-container",18),t.qZA()}if(2&n){const e=s.index,a=t.oxw(2);t.uIk("tabindex",a.disabled||a.readonly?null:"0"),t.xp6(1),t.Q6J("ngTemplateOutlet",a.getIconTemplate(e))}}function Y(n,s){if(1&n&&t.YNc(0,N,2,3,"span",15)(1,q,2,2,"span",16),2&n){const e=t.oxw();t.Q6J("ngIf",e.cancel),t.xp6(1),t.Q6J("ngForOf",e.starsArray)}}const K=(n,s)=>({"p-readonly":n,"p-disabled":s}),H={provide:_.JU,useExisting:(0,t.Gpc)(()=>b),multi:!0};let b=(()=>{class n{cd;disabled;readonly;stars=5;cancel=!0;iconOnClass;iconOnStyle;iconOffClass;iconOffStyle;iconCancelClass;iconCancelStyle;onRate=new t.vpe;onCancel=new t.vpe;templates;onIconTemplate;offIconTemplate;cancelIconTemplate;constructor(e){this.cd=e}value;onModelChange=()=>{};onModelTouched=()=>{};starsArray;ngOnInit(){this.starsArray=[];for(let e=0;e<this.stars;e++)this.starsArray[e]=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"onicon":this.onIconTemplate=e.template;break;case"officon":this.offIconTemplate=e.template;break;case"cancelicon":this.cancelIconTemplate=e.template}})}getIconTemplate(e){return!this.value||e>=this.value?this.offIconTemplate:this.onIconTemplate}rate(e,a){!this.readonly&&!this.disabled&&(this.value=a+1,this.onModelChange(this.value),this.onModelTouched(),this.onRate.emit({originalEvent:e,value:a+1})),e.preventDefault()}clear(e){!this.readonly&&!this.disabled&&(this.value=null,this.onModelChange(this.value),this.onModelTouched(),this.onCancel.emit(e)),e.preventDefault()}writeValue(e){this.value=e,this.cd.detectChanges()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get isCustomIcon(){return this.templates&&this.templates.length>0}static \u0275fac=function(a){return new(a||n)(t.Y36(t.sBO))};static \u0275cmp=t.Xpm({type:n,selectors:[["p-rating"]],contentQueries:function(a,i,o){if(1&a&&t.Suo(o,T.jx,4),2&a){let d;t.iGM(d=t.CRH())&&(i.templates=d)}},hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",readonly:"readonly",stars:"stars",cancel:"cancel",iconOnClass:"iconOnClass",iconOnStyle:"iconOnStyle",iconOffClass:"iconOffClass",iconOffStyle:"iconOffStyle",iconCancelClass:"iconCancelClass",iconCancelStyle:"iconCancelStyle"},outputs:{onRate:"onRate",onCancel:"onCancel"},features:[t._Bn([H])],decls:4,vars:6,consts:[[1,"p-rating",3,"ngClass"],[4,"ngIf","ngIfElse"],["customTemplate",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","p-rating-icon p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter",4,"ngIf"],[3,"styleClass","ngStyle","click","keydown.enter",4,"ngIf"],[1,"p-rating-icon","p-rating-cancel",3,"ngClass","ngStyle","click","keydown.enter"],[3,"styleClass","ngStyle","click","keydown.enter"],["class","p-rating-icon",3,"ngStyle","ngClass","click","keydown.enter",4,"ngIf"],[3,"ngStyle","styleClass","click","keydown.enter",4,"ngIf"],[1,"p-rating-icon",3,"ngStyle","ngClass","click","keydown.enter"],[3,"ngStyle","styleClass","click","keydown.enter"],["class","p-rating-icon p-rating-icon-active",3,"ngStyle","ngClass","click","keydown.enter",4,"ngIf"],[1,"p-rating-icon","p-rating-icon-active",3,"ngStyle","ngClass","click","keydown.enter"],["class","p-rating-icon p-rating-cancel",3,"ngStyle","click","keydown.enter",4,"ngIf"],["class","p-rating-icon",3,"click","keydown.enter",4,"ngFor","ngForOf"],[1,"p-rating-icon","p-rating-cancel",3,"ngStyle","click","keydown.enter"],[4,"ngTemplateOutlet"],[1,"p-rating-icon",3,"click","keydown.enter"]],template:function(a,i){if(1&a&&(t.TgZ(0,"div",0),t.YNc(1,L,3,2,"ng-container",1)(2,Y,2,2,"ng-template",null,2,t.W1O),t.qZA()),2&a){const o=t.MAs(3);t.Q6J("ngClass",t.WLB(3,K,i.readonly,i.disabled)),t.xp6(1),t.Q6J("ngIf",!i.isCustomIcon)("ngIfElse",o)}},dependencies:()=>[p.mk,p.sg,p.O5,p.tP,p.PC,g,u,k],styles:[".p-rating{display:inline-flex}.p-rating-icon{cursor:pointer}.p-rating.p-rating-readonly .p-rating-icon{cursor:default}\n"],encapsulation:2,changeDetection:0})}return n})(),B=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=t.oAB({type:n});static \u0275inj=t.cJS({imports:[p.ez,g,u,k,T.m8]})}return n})();var I=c(6521),w=c(7248),O=c(266),z=c(2425),j=c(951);let W=(()=>{class n{constructor(e){this.http=e,this.ratingdata=new j.BG,this.url="http://103.59.180.17:1112/api/"}getIPAddress(){return this.http.get("http://api.ipify.org/?format=json")}OrderTracking(e,a,i,o){return this.http.get(this.url+"OrderTracking?id="+e+"&logon="+a+"&longitude="+i+"&latitude="+o)}SubmitRating(){return this.http.post(this.url+"OrderTracking",this.ratingdata)}UploadImage(e,a){return this.http.post(this.url+"OrderTracking/UploadImage/"+a,e,{reportProgress:!0,observe:"events"})}GetRatingbyid(e){return this.http.get(this.url+"OrderTracking/GetRatingbyid/"+e)}static#t=this.\u0275fac=function(a){return new(a||n)(t.LFG(f.eN))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $=c(7372),X=c(3716),V=c(5633),tt=c(5065),et=c(7473);function nt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.DownloadInvoice(i.id))}),t._uU(1,"Download Invoice"),t.qZA()}}function it(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",22),t.NdJ("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.DownloadInvoice(i.id))}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.orderdata.orderno)}}function at(n,s){if(1&n&&(t.TgZ(0,"a",23),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("href",e.fcrservice.imageurl+e.orderdata.grphoto,t.LSH),t.xp6(1),t.hij("(",e.orderdata.rtcompany,")")}}function rt(n,s){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("Expected by ",t.xi3(2,1,e.orderdata.eta,"EEEE, dd MMM yyyy"),"")}}function ot(n,s){if(1&n&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("Delivered at ",t.xi3(2,1,e.orderdata.form6atd,"EEEE, dd MMM yyyy"),"")}}function st(n,s){1&n&&t._UZ(0,"img",40)}function ct(n,s){1&n&&t._UZ(0,"img",41)}function lt(n,s){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=s.$implicit;t.xp6(1),t.AsE("",e.name," - ",e.size," bytes ")}}function dt(n,s){if(1&n&&(t.TgZ(0,"ul"),t.YNc(1,lt,2,2,"li",49),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.uploadedFiles)}}function gt(n,s){if(1&n&&t.YNc(0,dt,2,1,"ul",39),2&n){const e=t.oxw(3);t.Q6J("ngIf",e.uploadedFiles.length)}}function _t(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",26)(1,"div",6)(2,"div",42)(3,"div",27)(4,"textarea",43),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw(2);return t.KtG(o.feedback=i)}),t.qZA()(),t.TgZ(5,"div",44)(6,"div",45)(7,"button",46),t.NdJ("click",function(){t.CHM(e);const i=t.oxw(2);return t.KtG(i.submitrating())}),t._uU(8,"Submit"),t.qZA()()()(),t.TgZ(9,"div",42)(10,"div",27)(11,"p-fileUpload",47),t.NdJ("onUpload",function(i){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onUpload(i))}),t.YNc(12,gt,1,1,"ng-template",48),t.qZA()()()()()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Q6J("ngModel",e.feedback),t.xp6(7),t.Q6J("url",e.url+"/"+e.id+"/Report")("multiple",!0)}}function pt(n,s){if(1&n&&(t.TgZ(0,"h3",50),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.thankyoumessage)}}function ut(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",51)(1,"div",8)(2,"div",52)(3,"h3",11),t._uU(4),t.qZA(),t.TgZ(5,"div",53)(6,"button",54),t.NdJ("click",function(){const o=t.CHM(e).$implicit,d=t.oxw(2);return t.KtG(d.DeleteImage(o.id))}),t.O4$(),t.TgZ(7,"svg",55),t._UZ(8,"path",56)(9,"path",57)(10,"path",58),t.qZA()()()(),t.kcU(),t.TgZ(11,"div",59),t._UZ(12,"p-image",60),t.qZA()()()}if(2&n){const e=s.$implicit,a=t.oxw(2);t.xp6(4),t.Oqu(e.type),t.xp6(8),t.Q6J("src",a.imageurl+e.path)("preview",!0)}}function ht(n,s){1&n&&(t.TgZ(0,"h3",62),t._uU(1,"No File Uploaded"),t.qZA())}function ft(n,s){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,ht,2,0,"h3",61),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",2==e.selectfeedback)}}function mt(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",24),t._uU(2,"Please Rate Our Services."),t.qZA(),t.TgZ(3,"div",25)(4,"div",26)(5,"div",27)(6,"div",28)(7,"p-rating",29),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.rating=i)})("click",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.submitrating())}),t.YNc(8,st,1,0,"ng-template",30)(9,ct,1,0,"ng-template",31),t.qZA()()()(),t.TgZ(10,"div",26)(11,"div",27)(12,"label",32),t._uU(13,"Select Feedback Type"),t.qZA(),t.TgZ(14,"select",33),t.NdJ("ngModelChange",function(i){t.CHM(e);const o=t.oxw();return t.KtG(o.selectfeedback=i)})("change",function(){t.CHM(e);const i=t.oxw();return t.KtG(i.selecttrating())}),t.TgZ(15,"option",34),t._uU(16,"Nothing to Say"),t.qZA(),t.TgZ(17,"option",35),t._uU(18,"Feedback"),t.qZA()()()(),t.YNc(19,_t,13,3,"div",36),t.qZA(),t.TgZ(20,"div",6)(21,"div"),t.YNc(22,pt,2,1,"h3",37),t.qZA(),t.YNc(23,ut,13,3,"div",38),t.qZA(),t.YNc(24,ft,2,1,"div",39),t.qZA()}if(2&n){const e=t.oxw();t.xp6(7),t.Q6J("ngModel",e.rating)("stars",5),t.xp6(7),t.Q6J("ngModel",e.selectfeedback),t.xp6(5),t.Q6J("ngIf",e.feedbackcondition),t.xp6(3),t.Q6J("ngIf",e.thankyoumessage),t.xp6(1),t.Q6J("ngForOf",e.vmpservice.rcuploadedlist),t.xp6(1),t.Q6J("ngIf",null==e.vmpservice.rcuploadedlist)}}let vt=(()=>{class n{constructor(e,a,i,o,d,h,m,Ct,yt){this.router=e,this.activeroute=a,this.toast=i,this.services=o,this.erpservice=d,this.fcrservice=h,this.userservice=m,this.vmpservice=Ct,this.imageservice=yt,this.load=!1,this.isedit=!1,this.date=new Date,this.url="http://103.59.180.17:1112/api/ImageUpload/UploadImage/Customer",this.imageurl="http://103.59.180.17:1114/FTP DATA/",this.uploadedFiles=[],this.lat=" ",this.lng=" ",this.feedbackcondition=!1,this.selectfeedback=1,this.feedback=null,this.feedbackfile=null,this.uploadid="",this.imagestatus=!1,this.progressvalue=0}ngOnInit(){var e=this.activeroute.snapshot.paramMap.get("id");if(null!=e){this.pagetitle="Edit Invoice";var a=e.length;this.random=this.getRandomNumber(),this.id=e.substring(0,a-12),console.log(this.id),this.isedit=!0,this.SetEditInfo(this.id)}this.ordertracking(this.id),this.RefreshFile(),this.getLocation()}onUpload(e){for(let a of e.files)this.uploadedFiles.push(a);this.RefreshFile()}getLocation(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(e=>{e&&(this.lat=e.coords.latitude,this.lng=e.coords.longitude)})}RefreshFile(){this.services.GetRatingbyid(this.id).subscribe(e=>{(e.status="success")&&(this.rating=e.data.rating,null!=e.data.feedback&&(this.feedbackcondition=!0,this.selectfeedback=2,this.feedback=e.data.feedback),console.log(e))}),this.vmpservice.GetDocumentsbyid(this.id).subscribe(e=>{(e.status="success")?(this.vmpservice.rcuploadedlist=e.data,console.log(e)):this.toast.error(e.message,"Error")})}DeleteImage(e){1==confirm("Are You Sure want to Delete?")?this.imageservice.DeleteImage(e).subscribe(a=>{console.log(a),(a.status="success")?this.toast.success(a.result,"Success"):this.toast.error(a.result,"Error"),this.RefreshFile()}):this.toast.warning("File Deletion Cancelled","Cancelled")}getRandomNumber(){return Math.floor(899999999999*Math.random())+1e11}gettime(){let e=new Date,i=e.getTime()+Math.abs(6e4*e.getTimezoneOffset());return new Date(i).toISOString()}GetIPAddress(){this.services.getIPAddress().subscribe(e=>{console.log(e)})}SetEditInfo(e){console.log(e)}ordertracking(e){var a=window.location.pathname,i=window.location.href,h=window.location.href.substring(0,i.length-a.length);this.services.OrderTracking(e,h,this.lng.toString(),this.lat.toString()).subscribe(m=>{(m.status="success")?this.orderdata=m:this.toast.error(m.message)})}DownloadInvoice(e){this.erpservice.viewinvoice(e)}selecttrating(){2==this.selectfeedback?this.feedbackcondition=!0:(this.feedbackcondition=!1,this.submitrating())}submitrating(){this.services.ratingdata.rating=this.rating,this.services.ratingdata.file=this.feedbackfile,this.services.ratingdata.feedback=this.feedback,this.services.ratingdata.invoiceid=this.id,this.services.ratingdata.createddate=new Date,console.log(this.services.ratingdata),this.services.SubmitRating().subscribe(e=>{this.thankyoumessage="Thank you for Rating us "+this.rating+" Star."},e=>{this.toast.error(e.message)})}onchange(e){let a=new FileReader;this.file=e.target.files[0];var i=this.file.size/1024;this.imagepath="File Name : "+this.file.name,this.imagesize="Size :"+i+" KB",a.readAsDataURL(e.target.files[0]),a.onload=()=>{this.myimage=a.result},this.ProceedUpload()}ProceedUpload(){let e=new FormData;e.append("file",this.file,this.file.name),console.log(e),console.log(this.file.type),console.log(this.file,this.file.type),this.services.UploadImage(e,this.id).pipe((0,C.U)(a=>{switch(a.type){case f.dt.UploadProgress:this.progressvalue=Math.round(a.loaded/a.total*100);break;case f.dt.Response:this.toast.success("Upload completed"),setTimeout(()=>{this.feedbackfile=a.body.actualfilepath,this.progressvalue=0,this.imagestatus=!0,this.Result="success",this.ResultMessage="Image Uploaded Successfully"},500)}}),(0,y.K)(a=>(this.toast.error("Failed to upload"),this.Result="failed",this.ResultMessage="Failed to Upload File",(0,x.of)("failed")))).subscribe(a=>{})}static#t=this.\u0275fac=function(a){return new(a||n)(t.Y36(O.F0),t.Y36(O.gz),t.Y36(z._W),t.Y36(W),t.Y36($.w),t.Y36(X.J),t.Y36(V.K),t.Y36(tt.d),t.Y36(et.D))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-ordertracking"]],standalone:!0,features:[t.jDz],decls:51,vars:24,consts:[[1,"page-header","d-print-none"],[1,"container-xl"],[1,"row","g-2","align-items-center"],[1,"col"],[1,"page-title"],[1,"page-body"],[1,"row","row-cards"],[1,"col-lg-12"],[1,"card"],["type","button","class","ribbon bg-red",3,"click",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"text-danger"],["type","button","class","btn-link strong",3,"click",4,"ngIf"],[1,"steps","steps-vertical"],[1,"step-item",3,"ngClass"],[1,"h4","m-0"],[1,"text-muted"],["class","text-danger","target","_blank",3,"href",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","card-body",4,"ngIf"],["type","button",1,"ribbon","bg-red",3,"click"],["type","button",1,"btn-link","strong",3,"click"],["target","_blank",1,"text-danger",3,"href"],[1,"h3","card-title"],[1,"row"],[1,"col-md-12"],[1,"mb-3"],[1,"space-y"],[3,"ngModel","stars","ngModelChange","click"],["pTemplate","onicon"],["pTemplate","officon"],[1,"form-label"],[1,"form-select",3,"ngModel","ngModelChange","change"],["value","1"],["value","2"],["class","col-md-12",4,"ngIf"],["class","text-success text-center",4,"ngIf"],["class","col-md-2",4,"ngFor","ngForOf"],[4,"ngIf"],["src","https://primefaces.org/cdn/primeng/images/demo/rating/custom-icon-active.png","width","25px","height","25px"],["src","https://primefaces.org/cdn/primeng/images/demo/rating/custom-icon.png","width","25px","height","25px"],[1,"col-md-6"],["rows","5","placeholder","Type Your Feedback here",1,"form-control",3,"ngModel","ngModelChange"],[1,"card-footer","text-end"],[1,"d-flex"],["type","button",1,"btn","btn-primary","ms-auto",3,"click"],["name","demo[]","accept","image/*",3,"url","multiple","onUpload"],["pTemplate","content"],[4,"ngFor","ngForOf"],[1,"text-success","text-center"],[1,"col-md-2"],[1,"card-header"],[1,"card-actions","btn-actions"],["type","button",1,"btn-action","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M18 6l-12 12"],["d","M6 6l12 12"],[1,"card-body","p-0"],["alt","Image","width","250","height","250",3,"src","preview"],["class","text-danger text-center",4,"ngIf"],[1,"text-danger","text-center"]],template:function(a,i){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5," Order Tracking "),t.qZA()()()()(),t.TgZ(6,"div",5)(7,"div",1)(8,"div",6)(9,"div",7)(10,"div",8),t.YNc(11,nt,2,0,"button",9),t.TgZ(12,"div",10),t._UZ(13,"br")(14,"br")(15,"br"),t.TgZ(16,"h3",11)(17,"span",12),t._uU(18),t._UZ(19,"br"),t._uU(20),t.qZA(),t._UZ(21,"br"),t._uU(22,"(ORDER ID : "),t.YNc(23,it,2,1,"button",13),t._uU(24,")"),t.qZA(),t.TgZ(25,"ul",14)(26,"li",15)(27,"div",16),t._uU(28,"Order Created"),t.qZA(),t.TgZ(29,"div",17),t._uU(30),t.ALo(31,"date"),t.qZA()(),t.TgZ(32,"li",15)(33,"div",16),t._uU(34,"Order Confirmed and Ready to Ship"),t.qZA(),t.TgZ(35,"div",17),t._uU(36),t.ALo(37,"date"),t.qZA()(),t.TgZ(38,"li",15)(39,"div",16),t._uU(40,"Handed over to Transport "),t.YNc(41,at,2,2,"a",18),t.qZA(),t.TgZ(42,"div",17),t._uU(43),t.ALo(44,"date"),t.qZA()(),t.TgZ(45,"li",15)(46,"div",16),t._uU(47,"Delivery"),t.qZA(),t.YNc(48,rt,3,4,"div",19)(49,ot,3,4,"div",19),t.qZA()()(),t.YNc(50,mt,25,7,"div",20),t.qZA()()()()()),2&a&&(t.xp6(11),t.Q6J("ngIf",i.orderdata.currentstatus),t.xp6(7),t.Oqu(i.orderdata.name),t.xp6(2),t.Oqu(i.orderdata.station),t.xp6(3),t.Q6J("ngIf",i.orderdata.currentstatus),t.xp6(3),t.Q6J("ngClass",1==i.orderdata.currentstatus?"active":""),t.xp6(4),t.Oqu(t.xi3(31,15,i.orderdata.invoicedate,"EEEE, dd-MMM-yyyy")),t.xp6(2),t.Q6J("ngClass",2==i.orderdata.currentstatus?"active":""),t.xp6(4),t.Oqu(t.xi3(37,18,i.orderdata.form1dts,"EEEE, dd-MMM-yyyy hh:mm a")),t.xp6(2),t.Q6J("ngClass",3==i.orderdata.currentstatus?"active":""),t.xp6(3),t.Q6J("ngIf",i.orderdata.grphoto),t.xp6(2),t.Oqu(t.xi3(44,21,i.orderdata.atd,"EEEE, dd-MMM-yyyy")),t.xp6(2),t.Q6J("ngClass",4==i.orderdata.currentstatus?"active":""),t.xp6(3),t.Q6J("ngIf",i.orderdata.eta),t.xp6(1),t.Q6J("ngIf",i.orderdata.form6atd),t.xp6(1),t.Q6J("ngIf",i.orderdata.form6atd))},dependencies:[p.ez,p.mk,p.sg,p.O5,p.uU,_.u5,_.YN,_.Kr,_.Fj,_.EJ,_.JJ,_.On,B,b,T.jx,I.O,I.p,w.$,w.E]})}return n})()}}]);