"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[4239],{2453:(P,m,p)=>{p.d(m,{P:()=>b});var g=p(9862),o=p(951),n=p(6306),t=p(9212),_=p(2425),C=p(5633),v=p(868);let b=(()=>{class c{constructor(e,i,r,a){this.http=e,this.toast=i,this.service=r,this.api=a,this.url="http://103.59.180.17:1112/api/",this.erpurl="http://103.59.180.17:1111/api/",this.listcalllist=[],this.calldata=new o.q$,this.clientdata=new o.q$,this.createactivity=new o.Qi,this.useremail=this.service.GetUserName(),this.userrole=this.service.GetRole(),this.enablewhatsappbutton=!0,this.whatsappstatus="",this.isadmin=!1,this.imageuploaded=!1,this.requestwhatsappdata=new o.QW,this.requestwhatsapplist=[],this.loader=!1,this.title="",this.p=1,this.pagesize=100,this.total=0,this.frompage=1,this.topage=100,this.searchvalue="",this.copybutton="Copy",this.parthdialcall=!1,this.audioenable=!1,this.audioloader=!1,this.playbutton="Play"}LoadRequestContactData(){this.loader=!0,this.GetRequestContact(this.p,this.pagesize,this.whatsappstatus).subscribe(e=>{this.loader=!1,this.requestwhatsapplist=e.data,this.total=e.totalRecords,this.frompage=this.p*this.pagesize-(this.pagesize-1),this.topage=this.total>this.p*this.pagesize?this.p*this.pagesize:this.total})}GetRequestContact(e,i,r){return this.http.get(""!=r?this.url+"CallData/GetRequestContact?PageNumber="+e+"&PageSize="+i+"&status="+r:this.url+"CallData/GetRequestContact?PageNumber="+e+"&PageSize="+i)}DeleteActivitybyid(e){return this.http.get(this.url+"CallData/DeleteActivitybyid/"+e)}VerifyOrderActivity(e){return this.http.get(this.url+"CallData/VerifyOrderActivity/"+e)}GetOrderDetailsbyid(e){return this.http.get(this.url+"CallData/GetOrderDetailsbyid/"+e)}PostRequestContact(){return this.http.post(this.url+"CallData/PostRequestContact",this.requestwhatsappdata)}ApproveRequestContact(){return this.http.post(this.url+"CallData/ApproveRequestContact",this.requestwhatsappdata)}Calllist(e,i,r,a,l,s){return""!=a&&""!=l&&""!=r&&""!=s?this.http.get(this.url+"CallData?PageNumber="+e+"&PageSize="+i+"&Search="+r+"&startdate="+a+"&enddate="+l+"&username="+s+"&Role="+this.service.GetRole()).pipe((0,n.K)(this.api.handleError)):""!=a&&""!=l&&""!=r?this.http.get(this.url+"CallData?PageNumber="+e+"&PageSize="+i+"&Search="+r+"&startdate="+a+"&enddate="+l+"&Role="+this.service.GetRole()).pipe((0,n.K)(this.api.handleError)):""!=a&&""!=l&&""==r&&""!=s?this.http.get(this.url+"CallData?PageNumber="+e+"&PageSize="+i+"&startdate="+a+"&enddate="+l+"&username="+s+"&Role="+this.service.GetRole()).pipe((0,n.K)(this.api.handleError)):""!=a&&""!=l&&""==r?this.http.get(this.url+"CallData?PageNumber="+e+"&PageSize="+i+"&startdate="+a+"&enddate="+l+"&Role="+this.service.GetRole()).pipe((0,n.K)(this.api.handleError)):""!=r?this.http.get(this.url+"CallData?PageNumber="+e+"&PageSize="+i+"&Search="+r+"&username="+s+"&Role="+this.service.GetRole()).pipe((0,n.K)(this.api.handleError)):this.http.get(this.url+"CallData?PageNumber="+e+"&PageSize="+i+"&username="+s+"&Role="+this.service.GetRole()).pipe((0,n.K)(this.api.handleError))}EmployeeCalllist(e,i,r,a,l){return""!=r&&""!=a&&""!=i?this.http.get(this.url+"CallData/EmployeeSearch?PageNumber="+e+"&PageSize=100&startdate="+r+"&enddate="+a+"&username="+l+"&Search="+i).pipe((0,n.K)(this.api.handleError)):""!=r&&""!=a&&""==i?this.http.get(this.url+"CallData/EmployeeCalllist?PageNumber="+e+"&PageSize=100&startdate="+r+"&enddate="+a+"&username="+l).pipe((0,n.K)(this.api.handleError)):""!=i?this.http.get(this.url+"CallData/EmployeeSearch?PageNumber="+e+"&PageSize=100&username="+l+"&Search="+i).pipe((0,n.K)(this.api.handleError)):this.http.get(this.url+"CallData/EmployeeCalllist?PageNumber="+e+"&PageSize=100&username="+l).pipe((0,n.K)(this.api.handleError))}ParthCall(e,i){const r=(new g.WM).set("Content-Type","text/plain; charset=utf-8");return this.http.get("http://10.10.9.190:82//Default.aspx?Extension="+i+"&DialNumber="+e+"&userid=ParthUCS&password=ParthUCS&client=999",{headers:r,responseType:"text"}).pipe((0,n.K)(this.api.handleError))}EmployeeReport(e,i,r,a,l,s){var h=this.service.GetUserName(),d=this.service.GetRole();return this.http.get("Admin"==d||"SalesPC"==d?""!=s&&""!=i&&""!=r&&""!=a&&""!=l?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&Report="+a+"&username="+l+"&Search="+s:""==s&&""!=i&&""!=r&&""!=a&&""!=l?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&Report="+a+"&username="+l:""!=s&&""!=i&&""!=r&&""==a&&""!=l?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&username="+l+"&Search="+s:""==s&&""!=i&&""!=r&&""==a&&""!=l?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&username="+l:""!=s&&""!=i&&""!=r&&""!=a?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&Report="+a+"&Search="+s:""==s&&""!=i&&""!=r&&""!=a?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&Report="+a:""!=s&&""!=i&&""!=r?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&Search="+s:""==s&&""!=i&&""!=r?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r:""!=s&&""!=i?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&Search="+s:""==s&&""!=i?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i:""!=s?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&Search="+s:this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100":""!=s&&""!=i&&""!=r&&""!=a?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&Report="+a+"&username="+h+"&Search="+s:""==s&&""!=i&&""!=r&&""!=a?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&Report="+a+"&username="+h:""==s&&""==i&&""==r&&""!=a?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&Report="+a+"&username="+h:""!=s&&""!=i&&""!=r&&""==a?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&username="+h+"&Search="+s:""==s&&""!=i&&""!=r&&""==a?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&username="+h:""!=s&&""!=i&&""!=r?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&username="+h+"&Search="+s:""==s&&""!=i&&""!=r?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&enddate="+r+"&username="+h:""!=s&&""!=i?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&username="+h+"&Search="+s:""==s&&""!=i?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&startdate="+i+"&username="+h:""!=s?this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&username="+h+"&Search="+s:this.url+"CallData/ActivityReport?PageNumber="+e+"&PageSize=100&username="+h)}GetActivitydaywise(e,i){return this.http.get(this.url+"CallData/GetActivitydaywise?user="+e+"&date="+i)}GetActivitytimewise(e,i){return this.http.get(this.url+"CallData/GetActivitytimewise?user="+e+"&date="+i)}GetActivityOrdersdaywise(e,i){return this.http.get(this.url+"CallData/GetActivityOrdersdaywise?user="+e+"&date="+i)}GetActivityOrderstimewise(e,i){return this.http.get(this.url+"CallData/GetActivityOrderstimewise?user="+e+"&date="+i)}Dashboard(){return"Admin"==this.service.GetRole()||"Digital"==this.service.GetRole()||"SalesPC"==this.service.GetRole()?this.http.get(this.url+"CallData/dashboard"):this.http.get(this.url+"CallData/Dashboardbyuser?user="+this.service.GetFullName())}Dashboarddaywises(){return"Admin"==this.service.GetRole()||"Digital"==this.service.GetRole()||"SalesPC"==this.service.GetRole()?this.http.get(this.url+"CallData/Dashboarddaywises"):this.http.get(this.url+"CallData/Dashboarddaywisesbyuser?user="+this.service.GetFullName())}savecalldata(){return this.http.post(this.url+"CallData",this.calldata).pipe((0,n.K)(this.api.handleError))}UpdateActivity(){return this.http.post(this.url+"CallData/UpdateActivity",this.createactivity).pipe((0,n.K)(this.api.handleError))}SubmitActivity(){return this.http.post(this.url+"CallData/SubmitActivity",this.createactivity).pipe((0,n.K)(this.api.handleError))}SubmitPaymentActivity(){return this.http.post(this.url+"Payment/SubmitPaymentActivity",this.createactivity).pipe((0,n.K)(this.api.handleError))}PreviousOrder(e){return this.http.get(this.url+"ERP/GetInvoicebyaccode/"+e).pipe((0,n.K)(this.api.handleError))}OrderHistory(e){return this.http.get(this.url+"ERP/GetOrderDetailsbyId/"+e).pipe((0,n.K)(this.api.handleError))}getcalldatabyid(e){return this.http.get(this.url+"ERP/GetbyId/"+e).pipe((0,n.K)(this.api.handleError))}Paymentbyid(e){return this.http.get(this.url+"ERP/PaymentbyId/"+e).pipe((0,n.K)(this.api.handleError))}PaymentduebyId(e){return this.http.get(this.url+"ERP/PaymentduebyId/"+e).pipe((0,n.K)(this.api.handleError))}VerifyOrderbyid(e){return this.http.get(this.url+"ERP/VerifyOrderbyid/"+e).pipe((0,n.K)(this.api.handleError))}Itembyid(e){return this.http.get(this.url+"ERP/GetTopItemsbyId/"+e).pipe((0,n.K)(this.api.handleError))}Activitybyid(e){return this.http.get(this.url+"CallData/Activitybyid/"+e).pipe((0,n.K)(this.api.handleError))}ParthRecordingbyid(e){return this.http.get(this.url+"CallData/ParthRecordingbyid/"+e).pipe((0,n.K)(this.api.handleError))}GetFCRbyaccode(e){return this.http.get(this.url+"CallData/GetFCRbyaccode/"+e).pipe((0,n.K)(this.api.handleError))}scprole(){return this.http.get(this.url+"CallData/SCPRole")}activitystatus(){return this.http.get(this.url+"CallData/ActivityStatus")}GetClients(){return this.http.get(this.url+"CallData/GetClients")}calculatedateaging(e){return Math.floor((+new Date(e)-+new Date)/1e3)}static#t=this.\u0275fac=function(i){return new(i||c)(t.LFG(g.eN),t.LFG(_._W),t.LFG(C.K),t.LFG(v.s))};static#e=this.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})()},4239:(P,m,p)=>{p.d(m,{p:()=>e});var g=p(6814),o=p(6223),n=p(1312),t=p(9212),_=p(2453),C=p(5633),v=p(2425),b=p(5219);function c(i,r){1&i&&t._uU(0,"Request Contact to Update")}function D(i,r){if(1&i){const a=t.EpF();t.TgZ(0,"div",3)(1,"form",null,4)(3,"div",5),t._UZ(4,"input",6),t.TgZ(5,"div",7)(6,"div",8)(7,"label",9),t._uU(8,"Party Name"),t.qZA(),t.TgZ(9,"input",10,11),t.NdJ("ngModelChange",function(s){t.CHM(a);const h=t.oxw();return t.KtG(h.service.requestwhatsappdata.name=s)}),t.qZA(),t.TgZ(11,"input",12,13),t.NdJ("ngModelChange",function(s){t.CHM(a);const h=t.oxw();return t.KtG(h.service.requestwhatsappdata.station=s)}),t.qZA()()(),t.TgZ(13,"div",7)(14,"div",8)(15,"label",9),t._uU(16,"Contact Person Name"),t.qZA(),t.TgZ(17,"input",14,15),t.NdJ("ngModelChange",function(s){t.CHM(a);const h=t.oxw();return t.KtG(h.service.requestwhatsappdata.contactperson=s)}),t.qZA()()(),t.TgZ(19,"div",16)(20,"div",8)(21,"label",9),t._uU(22,"Mobile No. (Number will be 10 digit)"),t.qZA(),t.TgZ(23,"input",17,18),t.NdJ("ngModelChange",function(s){t.CHM(a);const h=t.oxw();return t.KtG(h.service.requestwhatsappdata.mobile=s)}),t.qZA(),t.TgZ(25,"label",9)(26,"a",19),t._uU(27,"Check Mobile on Whatsapp?"),t.qZA()()()(),t.TgZ(28,"div",16)(29,"div",8)(30,"label",9),t._uU(31,"Alternate Mobile No.(Number will be 10 digit)"),t.qZA(),t.TgZ(32,"input",20,21),t.NdJ("ngModelChange",function(s){t.CHM(a);const h=t.oxw();return t.KtG(h.service.requestwhatsappdata.alternatemobile=s)}),t.qZA(),t.TgZ(34,"label",9)(35,"a",19),t._uU(36,"Check Alternate Mobile on Whatsapp?"),t.qZA()()()(),t.TgZ(37,"div",16)(38,"div",8)(39,"label",9),t._uU(40,"Whatsapp No. (Number will be 10 digit)"),t.TgZ(41,"button",22),t.NdJ("click",function(){t.CHM(a);const s=t.oxw();return t.KtG(s.copynumber())}),t._uU(42,"Same as Mobile No.? Click here"),t.qZA()(),t.TgZ(43,"input",23,24),t.NdJ("ngModelChange",function(s){t.CHM(a);const h=t.oxw();return t.KtG(h.service.requestwhatsappdata.whatsapp=s)}),t.qZA(),t.TgZ(45,"label",9)(46,"a",19),t._uU(47,"Check Whatsapp Contact on Whatsapp?"),t.qZA()()()(),t._UZ(48,"hr"),t.TgZ(49,"div",25)(50,"div",26)(51,"button",27),t.NdJ("click",function(){t.CHM(a);const s=t.oxw();return t.KtG(s.service.requestwhatsappvisible=!1)}),t._uU(52,"Cancel"),t.qZA(),t.TgZ(53,"button",28),t.NdJ("click",function(){t.CHM(a);const s=t.oxw();return t.KtG(s.submitwhatsapprequest())}),t._uU(54,"Submit"),t.qZA()()()()()()}if(2&i){const a=t.MAs(2),l=t.MAs(10),s=t.MAs(12),h=t.MAs(18),d=t.MAs(24),y=t.MAs(33),f=t.MAs(44),u=t.oxw();t.xp6(4),t.Q6J("value",u.service.requestwhatsappdata.accode),t.xp6(5),t.Q6J("ngModel",u.service.requestwhatsappdata.name)("ngClass",l.invalid?"is-invalid":"is-valid mb-2"),t.xp6(2),t.Q6J("ngModel",u.service.requestwhatsappdata.station)("ngClass",s.invalid?"is-invalid":"is-valid mb-2"),t.xp6(6),t.Q6J("ngModel",u.service.requestwhatsappdata.contactperson)("ngClass",h.invalid?"is-invalid":"is-valid mb-2"),t.xp6(6),t.Q6J("ngModel",u.service.requestwhatsappdata.mobile)("ngClass",d.invalid?"is-invalid":"is-valid mb-2"),t.xp6(3),t.Q6J("href","https://wa.me/91"+u.service.requestwhatsappdata.mobile,t.LSH),t.xp6(6),t.Q6J("ngModel",u.service.requestwhatsappdata.alternatemobile)("ngClass",y.invalid?"is-invalid":"is-valid mb-2"),t.xp6(3),t.Q6J("href","https://wa.me/91"+u.service.requestwhatsappdata.alternatemobile,t.LSH),t.xp6(8),t.Q6J("ngModel",u.service.requestwhatsappdata.whatsapp)("ngClass",f.invalid?"is-invalid":"is-valid mb-2"),t.xp6(3),t.Q6J("href","https://wa.me/91"+u.service.requestwhatsappdata.whatsapp,t.LSH),t.xp6(7),t.Q6J("disabled",a.invalid)}}let e=(()=>{class i{constructor(a,l,s){this.service=a,this.userservice=l,this.toast=s}ngOnInit(){}copytext(a){this.service.copybutton="Copied",navigator.clipboard.writeText(a)}copynumber(){this.service.requestwhatsappdata.whatsapp=this.service.requestwhatsappdata.mobile}populaterequestwhatsapp(a){this.service.requestwhatsappvisible=!0,this.service.requestwhatsappdata.accode=a.id,this.service.requestwhatsappdata.name=a.clientname,this.service.requestwhatsappdata.station=a.add1+" "+a.add2+" "+a.add3+" "+a.city+" "+a.state+" "+a.pincode,this.service.requestwhatsappdata.mobile=a.mobile1,this.service.requestwhatsappdata.alternatemobile=a.telephone,this.service.requestwhatsappdata.whatsapp=a.whatsAppNo,this.service.requestwhatsappdata.contactperson=a.contactperson,this.service.requestwhatsappdata.oldmobile=a.mobile1,this.service.requestwhatsappdata.oldalternatemobile=a.telephone,this.service.requestwhatsappdata.oldwhatsapp=a.whatsAppNo,this.service.requestwhatsappdata.oldcontactperson=a.contactperson}submitwhatsapprequest(){this.service.requestwhatsappdata.createdby=this.userservice.GetFullName(),this.service.requestwhatsappdata.createddate=new Date,this.service.requestwhatsappdata.status="Pending",this.service.PostRequestContact().subscribe(a=>{this.service.requestwhatsappvisible=!1,this.toast.success("Contact Request Submitted Successfully")},a=>{this.toast.error(a.message)})}static#t=this.\u0275fac=function(l){return new(l||i)(t.Y36(_.P),t.Y36(C.K),t.Y36(v._W))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-updatecontact"]],standalone:!0,features:[t.jDz],decls:3,vars:1,consts:[[3,"visible","visibleChange"],["pTemplate","header"],["pTemplate","content"],[1,"flex","py-2","justify-content-center"],["requestwhatsappform","ngForm"],[1,"row","row-cards"],["type","hidden","name","accode",3,"value"],[1,"col-6"],[1,"mb-3"],[1,"form-label"],["readonly","","required","","name","name","placeholder","Name",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["name","ngModel"],["type","hidden","name","station","placeholder","Address",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["station","ngModel"],["name","contactperson","placeholder","Contact Person Name",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["contactperson","ngModel"],[1,"col-4"],["pattern","[0-9]{10}","required","","name","mobile","placeholder","Mobile No.",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["mobile","ngModel"],["target","_blank",3,"href"],["pattern","[0-9]{10}","name","alternatemobile","placeholder","Alternate Mobile",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["alternatemobile","ngModel"],["type","button",1,"btn-link",3,"click"],["pattern","[0-9]{10}","name","whatsapp","placeholder","Whatsapp No.",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["whatsapp","ngModel"],[1,"card-footer","text-end"],[1,"d-flex"],["type","button",1,"btn","btn-danger",3,"click"],["type","submit",1,"btn","btn-primary","ms-auto",3,"disabled","click"]],template:function(l,s){1&l&&(t.TgZ(0,"p-dialog",0),t.NdJ("visibleChange",function(d){return s.service.requestwhatsappvisible=d}),t.YNc(1,c,1,0,"ng-template",1)(2,D,55,17,"ng-template",2),t.qZA()),2&l&&t.Q6J("visible",s.service.requestwhatsappvisible)},dependencies:[g.ez,g.mk,o.u5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.c5,o.On,o.F,n.S,n.V,b.jx]})}return i})()}}]);