"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[2493],{2493:(f,d,i)=>{i.r(d),i.d(d,{ForgetPasswordComponent:()=>b});var n=i(6223),l=i(6814),e=i(9212),g=i(5633),m=i(8778),u=i(2425);function h(o,c){if(1&o){const a=e.EpF();e.TgZ(0,"form",27,28),e.NdJ("submit",function(){e.CHM(a);const s=e.MAs(1),r=e.oxw();return e.KtG(r.ForgetPassword(s))}),e.TgZ(2,"div",29)(3,"h2",30),e._uU(4,"Forgot password"),e.qZA(),e.TgZ(5,"p",31),e._uU(6,"Enter your email address and your password reset link will be sent to you."),e.qZA(),e.TgZ(7,"div",32)(8,"label",33),e._uU(9,"Email or Mobile No or Employee ID"),e.qZA(),e.TgZ(10,"input",34,35),e.NdJ("ngModelChange",function(s){e.CHM(a);const r=e.oxw();return e.KtG(r.service.logindata.username=s)}),e.qZA()(),e.TgZ(12,"div",36)(13,"button",37),e.O4$(),e.TgZ(14,"svg",38),e._UZ(15,"path",39)(16,"path",40)(17,"path",41),e.qZA(),e._uU(18," Send me new password "),e.qZA()()()()}if(2&o){const a=e.MAs(1),t=e.MAs(11),s=e.oxw();e.xp6(10),e.Q6J("ngClass",t.invalid?"is-invalid":"is-valid mb-2")("ngModel",s.service.logindata.username),e.xp6(3),e.Q6J("disabled",a.invalid)}}function p(o,c){1&o&&(e.TgZ(0,"div",42),e._UZ(1,"div",43),e.qZA())}function v(o,c){if(1&o&&(e.TgZ(0,"label",44),e._uU(1),e.qZA()),2&o){const a=e.oxw();e.Q6J("ngClass",a.messagestatus),e.xp6(1),e.Oqu(a.errormessage)}}let b=(()=>{class o{constructor(a,t,s){this.service=a,this.waservice=t,this.toast=s,this.logonurl="",this.loader=!1,this.forgetuservisible=!0}ngOnInit(){localStorage.clear();var a=window.location.pathname,t=window.location.href,_=window.location.href.substring(0,t.length-a.length);this.logonurl=_}ForgetPassword(a){a.valid?(this.loader=!0,this.service.ForgetPassword().subscribe(t=>{if("success"==t.status){this.loader=!1,this.forgetuservisible=!1;var s="Dear *"+t.data.name+"*. %0APlease use OTP "+t.data.otp+" to reset to your INTRANET account Password. %0A%0AOTP valid for 24 hours. %0AClick here to Reset Password%0A "+this.logonurl+"/reset-password/"+t.data.id;this.service.sendemaildata.ToEmail=t.data.email,this.service.sendemaildata.Subject="Reset Password",this.service.sendemaildata.Body=s,this.waservice.sendotp(t.data.mobile,s).subscribe(r=>{"success"==r.status?(this.messagestatus="text-success",this.errormessage="Reset Password Link sent to you on Your Registered Whatsapp Number."):(this.messagestatus="text-danger",this.errormessage=r.message)},r=>{this.messagestatus="text-danger",this.errormessage=r.message})}else"inactive"==t.status?(this.messagestatus="text-danger",this.errormessage=t.message,this.toast.warning(t.message,"Warning")):(this.messagestatus="text-danger",this.errormessage=t.message,this.toast.error(t.message,"Error"))},t=>{this.loader=!1,this.toast.error(t,"Error")})):this.toast.warning("Invalid Attempt!!! Please Try again","Warning")}static#e=this.\u0275fac=function(t){return new(t||o)(e.Y36(g.K),e.Y36(m.C),e.Y36(u._W))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-forget-password"]],standalone:!0,features:[e.jDz],decls:34,vars:3,consts:[[1,"d-flex","flex-column","bg-white"],[1,"row","g-0","flex-fill"],[1,"col-12","col-lg-6","col-xl-4","border-top-wide","border-primary","d-flex","flex-column","justify-content-center"],[1,"container","container-tight","my-5","px-lg-5"],[1,"text-center","mb-4"],["routerLink","",1,"navbar-brand","navbar-brand-autodark"],["src","http://6am12pm.com/wp-content/uploads/2019/03/intranet-logo.png","height","36","alt",""],["class","progress"],["class","form-label text-center",3,"ngClass",4,"ngIf"],[1,"text-center","text-muted","mt-3"],["href","./login",1,"strong"],[1,"col-12","col-lg-6","col-xl-8","d-none","d-lg-block"],["id","carousel-indicators","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-indicators"],["type","button","data-bs-target","#carousel-indicators","data-bs-slide-to","0",1,"active"],["type","button","data-bs-target","#carousel-indicators","data-bs-slide-to","1",1,""],["type","button","data-bs-target","#carousel-indicators","data-bs-slide-to","2",1,""],["type","button","data-bs-target","#carousel-indicators","data-bs-slide-to","3",1,""],["type","button","data-bs-target","#carousel-indicators","data-bs-slide-to","4",1,""],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","","src","https://preview.tabler.io/static/photos/home-office-desk-with-macbook-iphone-calendar-watch-and-organizer.jpg",1,"bg-cover","h-100","min-vh-100"],[1,"carousel-item"],["alt","","src","https://preview.tabler.io/static/photos/workplace-with-laptop-on-table-at-home.jpg",1,"bg-cover","h-100","min-vh-100"],["alt","","src","https://preview.tabler.io/static/photos/white-apple-imac-computer-with-elephant-mousepad.jpg",1,"bg-cover","h-100","min-vh-100"],["alt","","src","https://preview.tabler.io/static/photos/workplace-with-laptop-on-table-at-home-2.jpg",1,"bg-cover","h-100","min-vh-100"],["alt","","src","https://preview.tabler.io/static/photos/working-in-a-restaurant-macbook-cheese-cake-and-cup-of-coffee.jpg",1,"bg-cover","h-100","min-vh-100"],[3,"submit"],["forgetform","ngForm"],[1,"card-body"],[1,"card-title","text-center","mb-4"],[1,"text-muted","mb-4"],[1,"mb-3"],[1,"form-label"],["required","","type","email","placeholder","Enter email","name","username","autocomplete","off",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["username","ngModel"],[1,"form-footer"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z"],["d","M3 7l9 6l9 -6"],[1,"progress"],[1,"progress-bar","progress-bar-indeterminate","bg-green"],[1,"form-label","text-center",3,"ngClass"]],template:function(t,s){1&t&&(e.TgZ(0,"body",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"a",5),e._UZ(6,"img",6),e.qZA()(),e.YNc(7,h,19,3,"form"),e._UZ(8,"br"),e.YNc(9,p,2,0,"div",7),e._UZ(10,"br"),e.YNc(11,v,2,2,"label",8),e.TgZ(12,"div",9)(13,"a",10),e._uU(14,"Send me back to the Sign in Screen."),e.qZA()()()(),e.TgZ(15,"div",11)(16,"div",12)(17,"div",13),e._UZ(18,"button",14)(19,"button",15)(20,"button",16)(21,"button",17)(22,"button",18),e.qZA(),e.TgZ(23,"div",19)(24,"div",20),e._UZ(25,"img",21),e.qZA(),e.TgZ(26,"div",22),e._UZ(27,"img",23),e.qZA(),e.TgZ(28,"div",22),e._UZ(29,"img",24),e.qZA(),e.TgZ(30,"div",22),e._UZ(31,"img",25),e.qZA(),e.TgZ(32,"div",22),e._UZ(33,"img",26),e.qZA()()()()()()),2&t&&(e.xp6(7),e.um2(7,s.forgetuservisible?7:-1),e.xp6(2),e.um2(9,s.loader?9:-1),e.xp6(2),e.Q6J("ngIf",null!=s.errormessage))},dependencies:[l.ez,l.mk,l.O5,n.u5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.On,n.F]})}return o})()}}]);