"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[3537],{3537:(N,u,r)=>{r.r(u),r.d(u,{FreightquotationComponent:()=>J});var _=r(6814),s=r(6223),d=r(4807),p=r(9246),h=r(3620),v=r(3997),f=r(951),t=r(9212),C=r(6073),M=r(3716),q=r(5633),T=r(2425),Z=r(5219);function A(i,l){if(1&i&&t._uU(0),2&i){const e=t.oxw();t.AsE("Create Freight Quotation ",e.service.fcrdata.name,"(",e.service.fcrdata.invoiceno,")")}}function x(i,l){if(1&i&&(t.TgZ(0,"ng-option",39),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",e.id),t.xp6(1),t.AsE("",e.rtcompany,"---",1==e.companytype?"LV":"RTC","")}}function F(i,l){1&i&&(t.TgZ(0,"div",40),t._uU(1,"Please Fill Transport Name"),t.qZA())}function E(i,l){if(1&i&&(t.TgZ(0,"ng-option",39),t._uU(1),t.qZA()),2&i){const e=l.$implicit;t.Q6J("value",e.city+", "+e.state),t.xp6(1),t.AsE("",e.city,", ",e.state,"")}}function b(i,l){1&i&&(t.TgZ(0,"div",40),t._uU(1,"Please Fill Station"),t.qZA())}function P(i,l){1&i&&(t.TgZ(0,"div",40),t._uU(1,"Please Fill Transport Point"),t.qZA())}function U(i,l){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"currency"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("Total Amount : (",t.xi3(2,1,e.service.fcrdata.estimatedweight*e.freightservice.freightquotationdata.amount,"INR"),")")}}function y(i,l){1&i&&(t.TgZ(0,"div",40),t._uU(1,"Please Fill Freight Amount Per KG"),t.qZA())}function O(i,l){1&i&&(t.TgZ(0,"div",40),t._uU(1,"Please Fill Delivery Days Less than 30 Days"),t.qZA())}function D(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"div",3)(1,"form",4,5),t.NdJ("ngSubmit",function(){t.CHM(e);const n=t.MAs(2),a=t.oxw();return t.KtG(n.form.valid&&a.Submit(n))}),t.TgZ(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),t._uU(7,"Transport Name"),t.qZA(),t.TgZ(8,"ng-select",10,11),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.freightservice.freightquotationdata.transportname=n)}),t.YNc(10,x,2,3,"ng-option",12),t.qZA(),t.YNc(11,F,2,0,"div",13),t.qZA()(),t.TgZ(12,"div",7)(13,"div",8)(14,"label",9),t._uU(15),t.qZA(),t.TgZ(16,"ng-select",14,15),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.freightservice.freightquotationdata.station=n)})("keyup",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.SearchCityList(n))}),t.SjG(18,E,2,3,"ng-option",39,t.x6l),t.qZA(),t.YNc(20,b,2,0,"div",13),t.qZA()(),t.TgZ(21,"div",16)(22,"div",8)(23,"label",9),t._uU(24,"Transport Point"),t.qZA(),t.TgZ(25,"select",17,18),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.freightservice.freightquotationdata.transportpoint=n)}),t.TgZ(27,"option",19),t._uU(28,"----Select Transport Point----"),t.qZA(),t.TgZ(29,"option",20),t._uU(30,"F1"),t.qZA(),t.TgZ(31,"option",21),t._uU(32,"F2"),t.qZA(),t.TgZ(33,"option",22),t._uU(34,"F3"),t.qZA(),t.TgZ(35,"option",23),t._uU(36,"F4"),t.qZA(),t.TgZ(37,"option",24),t._uU(38,"RO"),t.qZA(),t.TgZ(39,"option",25),t._uU(40,"CO"),t.qZA()(),t.YNc(41,P,2,0,"div",13),t.qZA()(),t.TgZ(42,"div",16)(43,"div",8)(44,"label",9),t._uU(45,"Amount(Per KG) "),t.YNc(46,U,3,4,"span",26),t.qZA(),t.TgZ(47,"input",27,28),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.freightservice.freightquotationdata.amount=n)}),t.qZA(),t.YNc(49,y,2,0,"div",13),t.qZA()(),t.TgZ(50,"div",16)(51,"div",8)(52,"label",9),t._uU(53,"Delivery Days"),t.qZA(),t.TgZ(54,"input",29,30),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.freightservice.freightquotationdata.dd=n)}),t.qZA(),t.YNc(56,O,2,0,"div",13),t.qZA()(),t.TgZ(57,"div",31)(58,"div",8)(59,"label",32),t._uU(60,"Remarks"),t.qZA(),t.TgZ(61,"textarea",33,34),t.NdJ("ngModelChange",function(n){t.CHM(e);const a=t.oxw();return t.KtG(a.freightservice.freightquotationdata.other=n)}),t.qZA()()(),t.TgZ(63,"div",35)(64,"div",36)(65,"button",37),t._uU(66,"Cancel"),t.qZA(),t.TgZ(67,"button",38),t._uU(68,"Submit"),t.qZA()()()()()()}if(2&i){const e=t.MAs(2),o=t.MAs(9),n=t.MAs(17),a=t.MAs(26),c=t.MAs(48),m=t.MAs(55),K=t.MAs(62),g=t.oxw();t.xp6(8),t.Q6J("ngModel",g.freightservice.freightquotationdata.transportname)("ngClass",o.invalid?"is-invalid":"is-valid mb-2"),t.xp6(2),t.Q6J("ngForOf",g.service.rtcmasterlist),t.xp6(1),t.Q6J("ngIf",o.invalid),t.xp6(4),t.hij("Station (",g.freightservice.freightquotationdata.station,")"),t.xp6(1),t.Q6J("ngClass",n.invalid?"is-invalid":"is-valid mb-2")("ngModel",g.freightservice.freightquotationdata.station),t.xp6(2),t.wJu(g.freightservice.citystatelist),t.xp6(2),t.Q6J("ngIf",n.invalid),t.xp6(5),t.Q6J("ngModel",g.freightservice.freightquotationdata.transportpoint)("ngClass",a.invalid?"is-invalid":"is-valid mb-2"),t.xp6(16),t.Q6J("ngIf",a.invalid),t.xp6(5),t.Q6J("ngIf",g.service.fcrdata.estimatedweight),t.xp6(1),t.Q6J("ngModel",g.freightservice.freightquotationdata.amount)("ngClass",c.invalid?"is-invalid":"is-valid mb-2"),t.xp6(2),t.Q6J("ngIf",c.invalid),t.xp6(5),t.Q6J("ngModel",g.freightservice.freightquotationdata.dd)("ngClass",m.invalid?"is-invalid":"is-valid mb-2"),t.xp6(2),t.Q6J("ngIf",m.invalid),t.xp6(5),t.Q6J("ngModel",g.freightservice.freightquotationdata.other)("ngClass",K.invalid?"is-invalid":"is-valid mb-2"),t.xp6(6),t.Q6J("disabled",e.invalid)}}let J=(()=>{class i{constructor(e,o,n,a){this.freightservice=e,this.service=o,this.userservice=n,this.toast=a,this.stationname=""}ngOnInit(){}SearchCityList(e){var o=e.target.value;console.log(o),this.freightservice.GetCityStateList(o).pipe((0,h.b)(500),(0,v.x)()).subscribe(n=>{console.log(n),"success"==n.status?this.freightservice.citystatelist=n.data:this.toast.error(n.message,"Error")})}Submit(e){null!=this.freightservice.freightquotationdata.id?(this.freightservice.freightquotationdata.updatedby=this.userservice.GetFullName(),this.freightservice.freightquotationdata.updateddate=this.service.gettime()):(this.freightservice.freightquotationdata.createdby=this.userservice.GetFullName(),this.freightservice.freightquotationdata.createddate=this.service.gettime()),this.freightservice.CreateFreightQuotation().subscribe(o=>{(o.status="success")?(this.toast.success(o.message,"Success"),this.service.freightquotationvisible=!1,this.freightservice.freightquotationdata=new f.Zz,this.LoadFreightQuotation()):this.toast.error(o.message,"Error")})}LoadFreightQuotation(){this.freightservice.GetFreightQuotation("1","10","").subscribe(e=>{this.freightservice.freightquotationlist=e.data},e=>{this.toast.error(e,"Error")})}static#t=this.\u0275fac=function(o){return new(o||i)(t.Y36(C.J),t.Y36(M.J),t.Y36(q.K),t.Y36(T._W))};static#e=this.\u0275cmp=t.Xpm({type:i,selectors:[["app-freightquotation"]],standalone:!0,features:[t.jDz],decls:3,vars:2,consts:[[3,"visible","fullScreen","visibleChange"],["pTemplate","header"],["pTemplate","content"],[1,"flex","py-2","justify-content-center"],["autocomplete","off",3,"ngSubmit"],["myForm","ngForm"],[1,"row"],[1,"col-6"],[1,"mb-3"],[1,"form-label","required"],["required","","name","transportname","placeholder","Transport Name",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["transportname","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback strong",4,"ngIf"],["required","","placeholder","Search Station Name here","name","station",1,"form-control",3,"ngClass","ngModel","ngModelChange","keyup"],["station","ngModel"],[1,"col-4"],["required","","name","transportpoint","placeholder","Transport Point",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["transportpoint","ngModel"],["value","","selected",""],["value","F1"],["value","F2"],["value","F3"],["value","F4"],["value","RO"],["value","CO"],[4,"ngIf"],["required","","type","number","name","amount","min","0","max","99","placeholder","Freight Amount",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["amount","ngModel"],["type","number","required","","name","dd","min","1","max","30","placeholder","Delivery Days",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["dd","ngModel"],[1,"col-12"],[1,"form-label"],["name","other","rows","3","placeholder","Type Your Remarks here.....",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["other","ngModel"],[1,"card-footer","text-end"],[1,"d-flex"],["type","button",1,"btn","btn-danger"],["type","submit",1,"btn","btn-primary","ms-auto",3,"disabled"],[3,"value"],[1,"invalid-feedback","strong"]],template:function(o,n){1&o&&(t.TgZ(0,"p-sidebar",0),t.NdJ("visibleChange",function(c){return n.service.freightquotationvisible=c}),t.YNc(1,A,1,2,"ng-template",1)(2,D,69,21,"ng-template",2),t.qZA()),2&o&&t.Q6J("visible",n.service.freightquotationvisible)("fullScreen",!0)},dependencies:[_.ez,_.mk,_.sg,_.O5,_.H9,s.u5,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.qQ,s.Fd,s.On,s.F,p.l,p.Y,Z.jx,d.A0,d.w9,d.jq]})}return i})()}}]);