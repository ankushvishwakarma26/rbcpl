"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[622],{622:(R,f,d)=>{d.r(f),d.d(f,{VehiclemasterComponent:()=>Z});var r=d(6814),o=d(6223),m=d(6472),T=d(951),u=d(9246),b=d(6521),e=d(9212),_=d(5065),h=d(5633),g=d(2425),C=d(7473),v=d(5219);function x(n,c){if(1&n&&e._uU(0),2&n){const t=e.oxw();e.AsE("Upload Documents -- ",t.service.vehiclemasterdata.description," (",t.service.vehiclemasterdata.vehicletype,")")}}function U(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"div",37)(2,"div",38)(3,"button",39),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.ResetDocumentData())}),e._uU(4,"Cancel"),e.qZA(),e.TgZ(5,"button",40),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.SubmitDocumentData())}),e._uU(6,"Submit"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("disabled",!t.service.validupto&&!t.service.uploadtype)}}function A(n,c){1&n&&(e.TgZ(0,"div",41),e._uU(1,"Drag and drop files"),e.qZA())}function q(n,c){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.xp6(1),e.AsE("",t.name," - ",t.size," bytes ")}}function M(n,c){if(1&n&&(e.TgZ(0,"ul"),e.YNc(1,q,2,2,"li",42),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.service.uploadedFiles)}}function y(n,c){if(1&n&&e.YNc(0,M,2,1,"ul",36),2&n){const t=e.oxw(2);e.Q6J("ngIf",t.service.uploadedFiles.length)}}function k(n,c){if(1&n&&(e.TgZ(0,"a",59),e._UZ(1,"img",60),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("href",i.imageservice.imageurl+t.path,e.LSH)}}function w(n,c){if(1&n&&(e.TgZ(0,"a",59),e._UZ(1,"img",61),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(2);e.Q6J("href",i.imageservice.imageurl+t.path,e.LSH)}}function D(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"div",44)(2,"div",45),e._UZ(3,"span",46),e.qZA(),e.TgZ(4,"div",45),e.YNc(5,k,2,1,"a",47)(6,w,2,1,"a",47),e.qZA(),e.TgZ(7,"div",48)(8,"a",49),e._uU(9),e.qZA(),e.TgZ(10,"div",50),e._uU(11),e.ALo(12,"date"),e.qZA()(),e.TgZ(13,"div",51)(14,"div",52),e._uU(15),e.qZA(),e.TgZ(16,"div",50),e._uU(17),e.ALo(18,"date"),e.qZA()(),e.TgZ(19,"div",45)(20,"button",53),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.EditDocumentData(s))}),e._uU(21," Edit "),e.qZA()(),e.TgZ(22,"div",45)(23,"button",54),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.DeleteImage(s.id))}),e.O4$(),e.TgZ(24,"svg",55),e._UZ(25,"path",56)(26,"path",57)(27,"path",58),e.qZA()()()()()}if(2&n){const t=c.$implicit,i=e.oxw(2);e.xp6(5),e.Q6J("ngIf","pdf"!=t.path.split(".").pop()),e.xp6(1),e.Q6J("ngIf","pdf"==t.path.split(".").pop()),e.xp6(2),e.Q6J("href",i.imageservice.imageurl+t.path,e.LSH),e.xp6(1),e.hij(" ",t.type,""),e.xp6(2),e.hij(" Valid Upto : ",e.xi3(12,7,t.validupto,"EEEE, dd-MMMM-YYYY"),""),e.xp6(4),e.hij(" ",t.createdby,""),e.xp6(2),e.Oqu(e.xi3(18,10,t.createddate,"dd-MMMM-YYYY hh:mm a"))}}function J(n,c){1&n&&(e.TgZ(0,"div")(1,"h1",62),e._uU(2,"No Documents Uploaded"),e.qZA()())}function N(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"h2",7),e._uU(5," Upload Vehicle Documents "),e.qZA()(),e.TgZ(6,"div",8)(7,"div",9),e._UZ(8,"span",10)(9,"div",10)(10,"div",10),e.qZA()()()()(),e._UZ(11,"hr"),e.TgZ(12,"div",11)(13,"div",4)(14,"div",12)(15,"div",13)(16,"div",14)(17,"div",13)(18,"label",15),e._uU(19,"Document Type"),e.qZA(),e.TgZ(20,"select",16),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.service.uploadtype=a)}),e.TgZ(21,"option",17),e._uU(22,"PUC"),e.qZA(),e.TgZ(23,"option",18),e._uU(24,"Insurance"),e.qZA(),e.TgZ(25,"option",19),e._uU(26,"Permit-1Y"),e.qZA(),e.TgZ(27,"option",20),e._uU(28,"Permit-5Y"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Fitness"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Road Tax"),e.qZA(),e.TgZ(33,"option",23),e._uU(34,"RC"),e.qZA(),e.TgZ(35,"option",24),e._uU(36,"Purchase_Invoice"),e.qZA(),e.TgZ(37,"option",25),e._uU(38,"Sale_Invoice"),e.qZA()()(),e.TgZ(39,"div",13)(40,"label",15),e._uU(41,"Valid Upto"),e.qZA(),e.TgZ(42,"input",26),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.service.validupto=a)}),e.qZA()()(),e.YNc(43,U,7,1,"div",27),e.qZA(),e.TgZ(44,"div",13)(45,"p-fileUpload",28),e.NdJ("onUpload",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.onUpload(a))}),e.YNc(46,A,2,0,"ng-template",29)(47,y,1,1,"ng-template",2),e.qZA()()(),e.TgZ(48,"div",12)(49,"div",30)(50,"div",31)(51,"div",32)(52,"h3",33),e._uU(53,"Documents List"),e.qZA()(),e.TgZ(54,"div",34),e.YNc(55,D,28,13,"div",35),e.qZA()()()(),e.YNc(56,J,3,0,"div",36),e.qZA()(),e._UZ(57,"hr")}if(2&n){const t=e.oxw();e.xp6(20),e.Q6J("ngModel",t.service.uploadtype)("ngClass",t.service.uploadtype?"is-valid mb-2":"is-invalid"),e.xp6(22),e.Q6J("ngModel",t.service.validupto)("ngClass",t.service.validupto?"is-valid mb-2":"is-invalid"),e.xp6(1),e.Q6J("ngIf",t.editmode),e.xp6(2),e.Q6J("url",t.url+"/"+t.service.uploadid+"/"+t.service.uploadtype+"/"+t.service.validupto+"/30")("multiple",!0),e.xp6(10),e.Q6J("ngForOf",t.service.rcuploadedlist),e.xp6(1),e.Q6J("ngIf",null==t.service.rcuploadedlist)}}let Y=(()=>{class n{constructor(t,i,a,s,l){this.service=t,this.userservice=i,this.toast=a,this.imageservice=s,this.datePipe=l,this.loader=!1,this.url="http://103.59.180.17:1112/api/VMP/UploadImage/"+this.userservice.GetFullName(),this.imageurl="http://103.59.180.17:1114/FTP DATA/",this.editmode=!1}ngOnInit(){}submit(t){this.service.vehiclemasterdata.createdby=this.userservice.GetFullName(),this.service.vehiclemasterdata.createddate=new Date,this.service.CreateUpdateVehicleMaster().subscribe(i=>{this.service.createvehiclemaster=!1,this.toast.success("Submitted Successfully","Success"),this.vmp.LoadList()})}onUpload(t){for(let i of t.files)this.service.uploadedFiles.push(i);this.RefreshFile()}EditDocumentData(t){this.editmode=!0,this.service.uploadeditid=t.id,this.service.uploadtype=t.type,this.service.validupto=this.datePipe.transform(t.validupto,"YYYY-MM-dd"),this.service.leadtime=30}ResetDocumentData(){this.editmode=!1,this.service.uploadtype="PUC",this.service.validupto=null,this.service.leadtime=30}SubmitDocumentData(){this.service.UpdateUploadedDocuments().subscribe(t=>{console.log(t),(t.status="success")?(this.toast.success(t.message,"Success"),this.RefreshFile(),this.ResetDocumentData()):this.toast.error(t.message,"Error")})}DeleteImage(t){1==confirm("Are You Sure want to Delete?")?this.imageservice.DeleteImage(t).subscribe(i=>{console.log(i),(i.status="success")?this.toast.success(i.result,"Success"):this.toast.error(i.result,"Error"),this.RefreshFile()}):this.toast.warning("File Deletion Cancelled","Cancelled")}RefreshFile(){this.service.GetDocumentsbyid(this.service.uploadid).subscribe(t=>{(t.status="success")?this.service.rcuploadedlist=t.data:this.toast.error(t.message,"Error")})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(_.d),e.Y36(h.K),e.Y36(g._W),e.Y36(C.D),e.Y36(r.uU))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-uploaddocument"]],viewQuery:function(i,a){if(1&i&&e.Gf(Z,5),2&i){let s;e.iGM(s=e.CRH())&&(a.vmp=s.first)}},standalone:!0,features:[e.jDz],decls:3,vars:2,consts:[[3,"visible","fullScreen","visibleChange"],["pTemplate","header"],["pTemplate","content"],[1,"page-header","d-print-none"],[1,"container-xl"],[1,"row","g-2","align-items-center"],[1,"col"],[1,"page-title"],[1,"col-auto","ms-auto","d-print-none"],[1,"btn-list"],[1,"d-sm-inline"],[1,"page-body"],[1,"row","row-cards"],[1,"col-6"],[1,"row"],[1,"form-label","required"],[1,"form-select",3,"ngModel","ngClass","ngModelChange"],["value","PUC"],["value","Insurance"],["value","Permit-1Y"],["value","Permit-5Y"],["value","Fitness"],["value","Road Tax"],["value","RC"],["value","Purchase_Invoice"],["value","Sale_Invoice"],["type","date",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["class","row",4,"ngIf"],["name","demo[]",3,"url","multiple","onUpload"],["pTemplate","toolbar"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"list-group","list-group-flush","list-group-hoverable"],["class","list-group-item",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"card-footer","text-end"],[1,"d-flex"],["type","button",1,"btn","btn-link",3,"click"],["type","submit",1,"btn","btn-primary","ms-auto",3,"disabled","click"],[1,"py-3"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"row","align-items-center"],[1,"col-auto"],[1,"badge","bg-red"],["class","text-center","target","_blank",3,"href",4,"ngIf"],[1,"col","text-truncate","strong"],["target","_blank",1,"text-reset","d-block",3,"href"],[1,"d-block","text-muted","text-truncate","mt-n1"],[1,"col","text-truncate","strong","text-center"],[1,"text-reset","d-block"],["type","button",1,"btn-action","text-primary",3,"click"],["type","button",1,"btn-action","text-danger",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon","icon-tabler","icon-tabler-trash-x-filled"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M20 6a1 1 0 0 1 .117 1.993l-.117 .007h-.081l-.919 11a3 3 0 0 1 -2.824 2.995l-.176 .005h-8c-1.598 0 -2.904 -1.249 -2.992 -2.75l-.005 -.167l-.923 -11.083h-.08a1 1 0 0 1 -.117 -1.993l.117 -.007h16zm-9.489 5.14a1 1 0 0 0 -1.218 1.567l1.292 1.293l-1.292 1.293l-.083 .094a1 1 0 0 0 1.497 1.32l1.293 -1.292l1.293 1.292l.094 .083a1 1 0 0 0 1.32 -1.497l-1.292 -1.293l1.292 -1.293l.083 -.094a1 1 0 0 0 -1.497 -1.32l-1.293 1.292l-1.293 -1.292l-.094 -.083z","stroke-width","0","fill","currentColor"],["d","M14 2a2 2 0 0 1 2 2a1 1 0 0 1 -1.993 .117l-.007 -.117h-4l-.007 .117a1 1 0 0 1 -1.993 -.117a2 2 0 0 1 1.85 -1.995l.15 -.005h4z","stroke-width","0","fill","currentColor"],["target","_blank",1,"text-center",3,"href"],["src","https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSV1XywEFopoNsnMlmqfi7CBhMNduUW9wFCWQuQINH3unyOuU0KDKCHnRY7Gqc5Llk-5m4&usqp=CAU","width","100","height","100"],["src","https://upload.wikimedia.org/wikipedia/commons/8/87/PDF_file_icon.svg","width","100","height","100"],[1,"text-danger","text-center"]],template:function(i,a){1&i&&(e.TgZ(0,"p-sidebar",0),e.NdJ("visibleChange",function(l){return a.service.uploadvehiclemaster=l}),e.YNc(1,x,1,2,"ng-template",1)(2,N,58,9,"ng-template",2),e.qZA()),2&i&&e.Q6J("visible",a.service.uploadvehiclemaster)("fullScreen",!0)},dependencies:[r.ez,r.mk,r.sg,r.O5,r.uU,o.u5,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.On,u.l,u.Y,v.jx,b.O,b.p]})}return n})();function F(n,c){1&n&&e._uU(0,"Create Vehicle Master")}function O(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",3)(3,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.MAs(4),s=e.oxw();return e.KtG(a.form.valid&&s.submit(a))}),e.TgZ(5,"div",4),e._UZ(6,"input",7),e.TgZ(7,"div",8)(8,"div",9)(9,"label",10),e._uU(10,"Vehicle Name & Model"),e.qZA(),e.TgZ(11,"input",11,12),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.service.vehiclemasterdata.description=a)}),e.qZA()()(),e.TgZ(13,"div",13)(14,"div",9)(15,"label",10),e._uU(16,"Vehicle Type"),e.qZA(),e.TgZ(17,"select",14,15),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.service.vehiclemasterdata.vehicletype=a)}),e.TgZ(19,"option",16),e._uU(20,"----Select Vehicle Type----"),e.qZA(),e.TgZ(21,"option",17),e._uU(22,"Car"),e.qZA(),e.TgZ(23,"option",18),e._uU(24,"Truck"),e.qZA(),e.TgZ(25,"option",19),e._uU(26,"Other"),e.qZA()()()(),e.TgZ(27,"div",13)(28,"div",9)(29,"label",10),e._uU(30,"Vehicle Life(in Years)"),e.qZA(),e.TgZ(31,"input",20,21),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.service.vehiclemasterdata.life=a)}),e.qZA()()(),e.TgZ(33,"div",22),e._UZ(34,"div",9),e.qZA(),e.TgZ(35,"div",23)(36,"div",9)(37,"label",24),e._uU(38,"Closure"),e.qZA(),e.TgZ(39,"input",25,26),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.service.vehiclemasterdata.closure=a)}),e.qZA()()()(),e._UZ(41,"br"),e.TgZ(42,"div",27)(43,"div",28)(44,"a",29),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.service.createvehiclemaster=!1)}),e._uU(45,"Cancel"),e.qZA(),e.TgZ(46,"button",30),e._uU(47,"Submit"),e.qZA()()()()()()()}if(2&n){const t=e.MAs(4),i=e.MAs(12),a=e.MAs(18),s=e.MAs(32),l=e.MAs(40),p=e.oxw();e.xp6(6),e.Q6J("value",p.service.vehiclemasterdata.id),e.xp6(5),e.Q6J("ngClass",i.invalid?"is-invalid":"is-valid mb-2")("ngModel",p.service.vehiclemasterdata.description),e.xp6(6),e.Q6J("ngClass",a.invalid?"is-invalid":"is-valid mb-2")("ngModel",p.service.vehiclemasterdata.vehicletype),e.xp6(14),e.Q6J("ngClass",s.invalid?"is-invalid":"is-valid mb-2")("ngModel",p.service.vehiclemasterdata.life),e.xp6(8),e.Q6J("ngClass",l.invalid?"is-invalid":"is-valid mb-2")("ngModel",p.service.vehiclemasterdata.closure),e.xp6(7),e.Q6J("disabled",t.invalid)}}let Q=(()=>{class n{constructor(t,i,a){this.service=t,this.userservice=i,this.toast=a,this.loader=!1}ngOnInit(){}submit(t){null!=this.service.vehiclemasterdata.id?(this.service.vehiclemasterdata.updatedby=this.userservice.GetFullName(),this.service.vehiclemasterdata.updateddate=new Date):(this.service.vehiclemasterdata.createdby=this.userservice.GetFullName(),this.service.vehiclemasterdata.createddate=new Date),this.service.CreateUpdateVehicleMaster().subscribe(i=>{this.service.createvehiclemaster=!1,this.toast.success("Submitted Successfully","Success"),this.vmp.LoadList()})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(_.d),e.Y36(h.K),e.Y36(g._W))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-createvehiclemaster"]],viewQuery:function(i,a){if(1&i&&e.Gf(Z,5),2&i){let s;e.iGM(s=e.CRH())&&(a.vmp=s.first)}},standalone:!0,features:[e.jDz],decls:3,vars:2,consts:[[3,"visible","fullScreen","visibleChange"],["pTemplate","header"],["pTemplate","content"],[1,"col-12"],[1,"row","row-cards"],["autocomplete","off",3,"ngSubmit"],["myForm1","ngForm"],["type","hidden","name","id",3,"value"],[1,"col-sm-6","col-md-6"],[1,"mb-3"],[1,"form-label","required"],["required","","placeholder","Vehicle Name & Model","name","description",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["description","ngModel"],[1,"col-sm-6","col-md-3"],["required","","placeholder","Vehicle Type","name","vehicletype",1,"form-select",3,"ngClass","ngModel","ngModelChange"],["vehicletype","ngModel"],["value",""],["value","Car"],["value","Truck"],["value","Other"],["type","number","required","","placeholder","Vehicle Life","name","life",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["life","ngModel"],[1,"col-sm-12","col-md-9"],[1,"col-sm-12","col-md-3"],[1,"form-label"],["placeholder","Closure","name","closure",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["closure","ngModel"],[1,"card-footer","text-end"],[1,"d-flex"],[1,"btn","btn-link",3,"click"],["type","submit",1,"btn","btn-primary","ms-auto",3,"disabled"]],template:function(i,a){1&i&&(e.TgZ(0,"p-sidebar",0),e.NdJ("visibleChange",function(l){return a.service.createvehiclemaster=l}),e.YNc(1,F,1,0,"ng-template",1)(2,O,48,10,"ng-template",2),e.qZA()),2&i&&e.Q6J("visible",a.service.createvehiclemaster)("fullScreen",!0)},dependencies:[r.ez,r.mk,o.u5,o._Y,o.YN,o.Kr,o.Fj,o.wV,o.EJ,o.JJ,o.JL,o.Q7,o.On,o.F,u.l,u.Y,v.jx]})}return n})();function G(n,c){1&n&&e._uU(0,"Documents Renewal & Due Checklist")}function S(n,c){1&n&&(e.TgZ(0,"div",34)(1,"div",35),e._UZ(2,"div",10),e.TgZ(3,"h1",36),e._uU(4,"No Data "),e.qZA()()())}function I(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"tr",40)(1,"td",41),e._uU(2),e.qZA(),e.TgZ(3,"td",41),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div"),e._uU(7),e.qZA()(),e.TgZ(8,"td")(9,"div"),e._uU(10),e.ALo(11,"date"),e.qZA()(),e.TgZ(12,"td")(13,"div"),e._uU(14),e.ALo(15,"date"),e.qZA()(),e.TgZ(16,"td")(17,"div"),e._uU(18),e.qZA(),e.TgZ(19,"div"),e._uU(20),e.ALo(21,"date"),e.qZA()(),e.TgZ(22,"td")(23,"div"),e._uU(24),e.qZA(),e.TgZ(25,"div"),e._uU(26),e.ALo(27,"date"),e.qZA()(),e.TgZ(28,"td")(29,"div")(30,"button",42),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(3);return e.KtG(l.populatechecklistdata(s))}),e._uU(31,"Update"),e.qZA()()()()}if(2&n){const t=c.$implicit,i=c.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.uid),e.xp6(3),e.Oqu(t.type),e.xp6(3),e.Oqu(e.xi3(11,9,t.renewaldate,"dd-MMM-yyyy")),e.xp6(4),e.Oqu(e.xi3(15,12,t.duedate,"dd-MMM-yyyy")),e.xp6(4),e.Oqu(t.createdby),e.xp6(2),e.Oqu(e.xi3(21,15,t.createddate,"dd-MMM-yyyy hh:mm a")),e.xp6(4),e.Oqu(t.updatedby),e.xp6(2),e.Oqu(e.xi3(27,18,t.updateddate,"dd-MMM-yyyy hh:mm a"))}}function L(n,c){if(1&n&&(e.TgZ(0,"table",37)(1,"thead")(2,"tr")(3,"th",38),e._uU(4,"S.No."),e.qZA(),e.TgZ(5,"th",35),e._uU(6,"ID"),e.qZA(),e.TgZ(7,"th",35),e._uU(8,"Type"),e.qZA(),e.TgZ(9,"th",35),e._uU(10,"Renewal Date"),e.qZA(),e.TgZ(11,"th",35),e._uU(12,"Due Date"),e.qZA(),e.TgZ(13,"th",35),e._uU(14,"Created by"),e.qZA(),e.TgZ(15,"th",35),e._uU(16,"Updated by"),e.qZA(),e.TgZ(17,"th",35),e._uU(18,"Action"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,I,32,21,"tr",39),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(20),e.Q6J("ngForOf",t.service.documentchecklist)}}function E(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",3)(1,"div",4)(2,"div",3)(3,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(t);const a=e.MAs(4),s=e.oxw();return e.KtG(a.form.valid&&s.submit(a))}),e.TgZ(5,"div",4),e._UZ(6,"input",7)(7,"input",8),e.TgZ(8,"div",9)(9,"div",10)(10,"label",11),e._uU(11,"Document Type"),e.qZA(),e.TgZ(12,"select",12,13),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.service.documentchecklistdata.type=a)}),e.TgZ(14,"option",14),e._uU(15,"----Select Document Type"),e.qZA(),e.TgZ(16,"option",15),e._uU(17,"RC"),e.qZA(),e.TgZ(18,"option",16),e._uU(19,"PUC"),e.qZA(),e.TgZ(20,"option",17),e._uU(21,"Insurance"),e.qZA(),e.TgZ(22,"option",18),e._uU(23,"Permit-1Y"),e.qZA(),e.TgZ(24,"option",19),e._uU(25,"Permit-5Y"),e.qZA(),e.TgZ(26,"option",20),e._uU(27,"Road Tax"),e.qZA(),e.TgZ(28,"option",21),e._uU(29,"Fitness"),e.qZA()()()(),e.TgZ(30,"div",9)(31,"div",10)(32,"label",11),e._uU(33,"Renewal Date"),e.qZA(),e.TgZ(34,"input",22,23),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.service.documentchecklistdata.renewaldate=a)}),e.qZA()()(),e.TgZ(36,"div",9)(37,"div",10)(38,"label",11),e._uU(39,"Due Date"),e.qZA(),e.TgZ(40,"input",24,25),e.NdJ("ngModelChange",function(a){e.CHM(t);const s=e.oxw();return e.KtG(s.service.documentchecklistdata.duedate=a)}),e.qZA()()()(),e._UZ(42,"br"),e.TgZ(43,"div",26)(44,"div",27)(45,"a",28),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.service.documentchecklistmaster=!1)}),e._uU(46,"Cancel"),e.qZA(),e.TgZ(47,"button",29),e._uU(48,"Submit"),e.qZA()()()()()()(),e._UZ(49,"hr"),e.TgZ(50,"div",3)(51,"div",30)(52,"div",31),e.YNc(53,S,5,0,"div",32)(54,L,21,1,"table",33),e.qZA()()()}if(2&n){const t=e.MAs(4),i=e.MAs(13),a=e.MAs(35),s=e.MAs(41),l=e.oxw();e.xp6(6),e.Q6J("value",l.service.documentchecklistdata.id),e.xp6(1),e.Q6J("value",l.service.documentchecklistdata.uid),e.xp6(5),e.Q6J("ngClass",i.invalid?"is-invalid":"is-valid mb-2")("ngModel",l.service.documentchecklistdata.type),e.xp6(22),e.Q6J("ngClass",a.invalid?"is-invalid":"is-valid mb-2")("ngModel",l.service.documentchecklistdata.renewaldate),e.xp6(6),e.Q6J("ngClass",s.invalid?"is-invalid":"is-valid mb-2")("ngModel",l.service.documentchecklistdata.duedate),e.xp6(7),e.Q6J("disabled",t.invalid),e.xp6(6),e.Q6J("ngIf",null==l.service.documentchecklist),e.xp6(1),e.Q6J("ngIf",null!=l.service.documentchecklist)}}let V=(()=>{class n{constructor(t,i,a,s,l){this.service=t,this.toast=i,this.datePipe=a,this.imageuploadservice=s,this.userservice=l,this.p=1,this.psize=10,this.total=0,this.frompage=1,this.topage=100,this.searchvalue="",this.status="Pending",this.loader=!1,this.searchloader=!1,this.url="http://103.59.180.17:1112/api/ImageUpload/UploadImage/"+this.userservice.GetFullName()+"/110021/DocUpdate"}ngOnInit(){}submit(t){null!=this.service.documentchecklistdata.id?(this.service.documentchecklistdata.updatedby=this.userservice.GetFullName(),this.service.documentchecklistdata.updateddate=new Date):(this.service.documentchecklistdata.createdby=this.userservice.GetFullName(),this.service.documentchecklistdata.createddate=new Date),this.service.CreateDocumentChecklist().subscribe(i=>{(i.status="success")?(this.toast.success(i.result,"Success"),this.service.GetDocumentchecklistsbyid(this.service.documentchecklistdata.uid).subscribe(a=>{(a.status="success")?this.service.documentchecklist=a.data:this.toast.error(a.message,"Error")}),this.service.documentchecklistdata=new T.zc):this.toast.error(i.key,"Error")})}populatechecklistdata(t){this.service.documentchecklistdata=t,this.service.documentchecklistdata.renewaldate=this.datePipe.transform(t.renewaldate,"yyyy-MM-dd"),this.service.documentchecklistdata.duedate=this.datePipe.transform(t.duedate,"yyyy-MM-dd")}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(_.d),e.Y36(g._W),e.Y36(r.uU),e.Y36(C.D),e.Y36(h.K))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-documentchecklist"]],standalone:!0,features:[e.jDz],decls:3,vars:2,consts:[[3,"visible","fullScreen","visibleChange"],["pTemplate","header"],["pTemplate","content"],[1,"col-12"],[1,"row","row-cards"],["autocomplete","off",3,"ngSubmit"],["myForm1","ngForm"],["type","hidden","name","id",3,"value"],["type","hidden","name","uid",3,"value"],[1,"col-sm-12","col-md-4"],[1,"mb-3"],[1,"form-label","required"],["required","","placeholder","Document Type","name","type",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["type","ngModel"],["value",""],["value","RC"],["value","PUC"],["value","Insurance"],["value","Permit-1Y"],["value","Permit-5Y"],["value","Road Tax"],["value","Fitness"],["type","date","required","","placeholder","Renewal Date","name","renewaldate",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["renewaldate","ngModel"],["type","date","required","","placeholder","Due Date","name","duedate",1,"form-control",3,"ngClass","ngModel","ngModelChange"],["duedate","ngModel"],[1,"card-footer","text-end"],[1,"d-flex"],[1,"btn","btn-link",3,"click"],["type","submit",1,"btn","btn-primary","ms-auto",3,"disabled"],[1,"card"],[1,"table-responsive"],["class","page-center container container-slim py-4",4,"ngIf"],["class","table card-table table-vcenter datatable table-sm table-fixed",4,"ngIf"],[1,"page-center","container","container-slim","py-4"],[1,"text-center"],[1,"text-danger","mb-3"],[1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed"],[1,"w-1","text-center"],["class","strong text-center",4,"ngFor","ngForOf"],[1,"strong","text-center"],[1,"text-nowrap"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(i,a){1&i&&(e.TgZ(0,"p-sidebar",0),e.NdJ("visibleChange",function(l){return a.service.documentchecklistmaster=l}),e.YNc(1,G,1,0,"ng-template",1)(2,E,55,11,"ng-template",2),e.qZA()),2&i&&e.Q6J("visible",a.service.documentchecklistmaster)("fullScreen",!0)},dependencies:[r.ez,r.mk,r.sg,r.O5,r.uU,o.u5,o._Y,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.JL,o.Q7,o.On,o.F,u.l,u.Y,v.jx,m.JX]})}return n})();function H(n,c){1&n&&(e.TgZ(0,"div",37)(1,"div",38),e._UZ(2,"div",39),e.TgZ(3,"div",40),e._uU(4,"Loading Data......."),e.qZA(),e.TgZ(5,"div",41),e._UZ(6,"div",42),e.qZA()()())}function K(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"tr",46)(1,"td",47),e._uU(2),e.qZA(),e.TgZ(3,"td",47),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div"),e._uU(7),e.qZA()(),e.TgZ(8,"td")(9,"div"),e._uU(10),e.qZA()(),e.TgZ(11,"td")(12,"div"),e._uU(13),e.qZA()(),e.TgZ(14,"td")(15,"div"),e._uU(16),e.qZA()(),e.TgZ(17,"td")(18,"div")(19,"button",48),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.populate(s))}),e._uU(20,"Documents"),e.qZA()()(),e.TgZ(21,"td")(22,"div"),e._uU(23),e.qZA(),e.TgZ(24,"div"),e._uU(25),e.ALo(26,"date"),e.qZA()(),e.TgZ(27,"td")(28,"div"),e._uU(29),e.qZA(),e.TgZ(30,"div"),e._uU(31),e.ALo(32,"date"),e.qZA()(),e.TgZ(33,"td")(34,"div")(35,"button",49),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(l.populatedata(s))}),e._uU(36,"Edit"),e.qZA()()()()}if(2&n){const t=c.$implicit,i=c.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.id),e.xp6(3),e.Oqu(t.vehicletype),e.xp6(3),e.Oqu(t.description),e.xp6(3),e.Oqu(t.life),e.xp6(3),e.Oqu(t.closure),e.xp6(7),e.Oqu(t.createdby),e.xp6(2),e.Oqu(e.Dn7(26,10,t.createddate,"dd-MMM-yyyy hh:mm a","GMT+0530")),e.xp6(4),e.Oqu(t.updatedby),e.xp6(2),e.Oqu(e.Dn7(32,14,t.updateddate,"dd-MMM-yyyy hh:mm a","GMT+0530"))}}const P=(n,c,t)=>({itemsPerPage:n,currentPage:c,totalItems:t});function z(n,c){if(1&n&&(e.TgZ(0,"table",43)(1,"thead")(2,"tr")(3,"th",44),e._uU(4,"S.No."),e.qZA(),e.TgZ(5,"th",38),e._uU(6,"ID"),e.qZA(),e.TgZ(7,"th",38),e._uU(8,"Type(Car/Truck/Other)"),e.qZA(),e.TgZ(9,"th",38),e._uU(10,"Description(Make & Model)"),e.qZA(),e.TgZ(11,"th",38),e._uU(12,"Life"),e.qZA(),e.TgZ(13,"th",38),e._uU(14,"Closure"),e.qZA(),e.TgZ(15,"th",38),e._uU(16,"Documents"),e.qZA(),e.TgZ(17,"th",38),e._uU(18,"Created by"),e.qZA(),e.TgZ(19,"th",38),e._uU(20,"Updated by"),e.qZA(),e.TgZ(21,"th",38),e._uU(22,"Action"),e.qZA()()(),e.TgZ(23,"tbody"),e.YNc(24,K,37,18,"tr",45),e.ALo(25,"paginate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(24),e.Q6J("ngForOf",e.xi3(25,1,t.service.vehiclemasterlist,e.kEZ(4,P,t.psize,t.p,t.total)))}}let Z=(()=>{class n{constructor(t,i){this.service=t,this.toast=i,this.p=1,this.psize=100,this.total=0,this.frompage=1,this.topage=100,this.searchvalue="",this.status="Pending",this.loader=!1,this.searchloader=!1}ngOnInit(){this.LoadList()}LoadList(){this.service.GetVehicleMaster(this.p,this.psize,this.searchvalue).subscribe(t=>{console.log(t.data,t.length),this.service.vehiclemasterlist=t.data,this.total=t.totalRecords,this.frompage=this.p*this.psize-(this.psize-1),this.topage=this.total>this.p*this.psize?this.p*this.psize:this.total},t=>{this.toast.error(t)})}createvehicle(){this.service.createvehiclemaster=!0,this.service.vehiclemasterdata=new T.hR}populatedata(t){this.service.vehiclemasterdata=t,this.service.createvehiclemaster=!0}checklist(t){this.service.documentchecklistmaster=!0,this.service.documentchecklistdata.uid=t,this.service.GetDocumentchecklistsbyid(t).subscribe(i=>{(i.status="success")?this.service.documentchecklist=i.data:this.toast.error(i.message,"Error")})}populate(t){this.service.uploadid=t.id,this.service.vehiclemasterdata=t,this.service.uploadvehiclemaster=!0,this.service.uploadedFiles=[],this.service.GetDocumentsbyid(t.id).subscribe(i=>{(i.status="success")?this.service.rcuploadedlist=i.data:this.toast.error(i.message,"Error")})}pageChangeEvent(t){this.p=t,this.LoadList()}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(_.d),e.Y36(g._W))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-vehiclemaster"]],standalone:!0,features:[e.jDz],decls:60,vars:7,consts:[[1,"page-header","d-print-none"],[1,"container-xl"],[1,"row","g-2","align-items-center"],[1,"col"],[1,"page-pretitle"],[1,"page-title"],[1,"col-auto","ms-auto","d-print-none"],[1,"btn-list"],["type","button",1,"btn","btn-primary","d-sm-inline-block",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M12 5l0 14"],["d","M5 12l14 0"],[1,"page-body"],[1,"col-12"],[1,"card"],[1,"card-body","border-bottom","py-3"],[1,"d-flex"],[1,"text-muted"],[1,"form-select",3,"ngModel","ngModelChange","change"],["value","100"],["value","200"],["value","500"],["value","1000"],[1,"ms-auto","text-muted"],[1,"input-icon"],["type","text","placeholder","Search.....",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-icon-addon"],["d","M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"],["d","M21 21l-6 -6"],[1,"table-responsive",2,"height","27rem"],["class","page-center container container-slim py-4",4,"ngIf"],["class","table card-table table-vcenter datatable table-sm table-fixed",4,"ngIf"],[1,"card-footer","d-flex","align-items-center"],[1,"m-0","text-muted"],[1,"pagination","m-0","ms-auto"],[3,"pageChange"],[1,"page-center","container","container-slim","py-4"],[1,"text-center"],[1,"mb-3"],[1,"text-muted","mb-3"],[1,"progress","progress-sm"],[1,"progress-bar","progress-bar-indeterminate"],[1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed"],[1,"w-1","text-center"],["class","strong text-center",4,"ngFor","ngForOf"],[1,"strong","text-center"],[1,"text-nowrap"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(i,a){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5," Overview "),e.qZA(),e.TgZ(6,"h2",5),e._uU(7," Vehicle Master "),e.qZA()(),e.TgZ(8,"div",6)(9,"div",7)(10,"button",8),e.NdJ("click",function(){return a.createvehicle()}),e.O4$(),e.TgZ(11,"svg",9),e._UZ(12,"path",10)(13,"path",11)(14,"path",12),e.qZA(),e._uU(15," Create "),e.qZA()()()()()(),e.kcU(),e.TgZ(16,"div",13)(17,"div",1),e._UZ(18,"app-uploaddocument")(19,"app-createvehiclemaster")(20,"app-documentchecklist"),e.TgZ(21,"div",14)(22,"div",15)(23,"div",16)(24,"div",17)(25,"div",18)(26,"select",19),e.NdJ("ngModelChange",function(l){return a.psize=l})("change",function(){return a.LoadList()}),e.TgZ(27,"option",20),e._uU(28,"100"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"200"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"500"),e.qZA(),e.TgZ(33,"option",23),e._uU(34,"1000"),e.qZA()()(),e.TgZ(35,"div",24)(36,"div",25)(37,"input",26),e.NdJ("ngModelChange",function(l){return a.searchvalue=l}),e.qZA(),e.TgZ(38,"span",27),e.O4$(),e.TgZ(39,"svg",9),e._UZ(40,"path",10)(41,"path",28)(42,"path",29),e.qZA()()()()()(),e.kcU(),e.TgZ(43,"div",30),e.YNc(44,H,7,0,"div",31)(45,z,26,8,"table",32),e.qZA(),e.TgZ(46,"div",33)(47,"p",34),e._uU(48,"Showing "),e.TgZ(49,"span"),e._uU(50),e.qZA(),e._uU(51," to "),e.TgZ(52,"span"),e._uU(53),e.qZA(),e._uU(54," of "),e.TgZ(55,"span"),e._uU(56),e.qZA(),e._uU(57," entries "),e.qZA(),e.TgZ(58,"ul",35)(59,"pagination-controls",36),e.NdJ("pageChange",function(l){return a.pageChangeEvent(l)}),e.qZA()()()()()()()),2&i&&(e.xp6(26),e.Q6J("ngModel",a.psize),e.xp6(11),e.Q6J("ngModel",a.searchvalue),e.xp6(7),e.Q6J("ngIf",a.loader),e.xp6(1),e.Q6J("ngIf",!a.loader),e.xp6(5),e.Oqu(a.frompage),e.xp6(3),e.Oqu(a.topage),e.xp6(3),e.Oqu(a.total))},dependencies:[r.ez,r.sg,r.O5,r.uU,o.u5,o.YN,o.Kr,o.Fj,o.EJ,o.JJ,o.On,m.JX,m._s,m.LS,V,Q,Y]})}return n})()}}]);