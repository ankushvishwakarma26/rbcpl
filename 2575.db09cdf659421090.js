"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[2575],{2575:(he,g,d)=>{d.r(g),d.d(g,{OpeningoverdueComponent:()=>me});var l=d(6814),s=d(6223),u=d(9246),p=d(951),T=d(2681),Z=d(7912),m=d(1312),v=d(6521),x=d(7248),h=d(9818),e=d(9212),A=d(1148),O=d(7473),C=d(2425),b=d(5633),f=d(5219);const U=()=>[l.mk,l.sg,l.O5,l.H9,l.uU,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.On,s.F,f.jx,d.e(9176).then(d.bind(d,9176)).then(n=>n.TenderchatComponent),x.E,v.p,m.V,d.e(8592).then(d.bind(d,1836)).then(n=>n.TendercategorywiseComponent),h.Iq];function q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"h2",4),e._uU(1,"Opening Overdue List"),e.qZA(),e.TgZ(2,"div",5)(3,"div",6)(4,"input",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.service.searchvalue=o)}),e.qZA(),e.TgZ(5,"span",8),e.O4$(),e.TgZ(6,"svg",9),e._UZ(7,"path",10)(8,"path",11)(9,"path",12),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.service.searchvalue)}}function M(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.opendetails(o.id))}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.clientname)}}function D(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.opendetails(o.id))}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name)}}function N(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",20)(1,"td",21),e._uU(2),e.qZA(),e.TgZ(3,"td",21),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div"),e._uU(7),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA(),e.YNc(12,M,3,1,"div",22)(13,D,3,1,"div",22),e.qZA(),e.TgZ(14,"td",21)(15,"div",23),e._uU(16),e.ALo(17,"date"),e.ALo(18,"datefuturepipe"),e.qZA(),e.TgZ(19,"div",23),e._uU(20),e.ALo(21,"date"),e.ALo(22,"datefuturepipe"),e.qZA()(),e.TgZ(23,"td")(24,"div",23),e._uU(25),e.qZA(),e.TgZ(26,"div",23),e._uU(27),e.qZA()(),e.TgZ(28,"td")(29,"div"),e._uU(30),e.qZA(),e.TgZ(31,"div"),e._uU(32),e.ALo(33,"date"),e.qZA()(),e.TgZ(34,"td")(35,"button",24),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.ViewImage(r))}),e._uU(36,"Action"),e.qZA()()()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw(2);e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.incharge),e.xp6(3),e.Oqu(t.type),e.xp6(2),e.Oqu(t.tenderno),e.xp6(2),e.Oqu(t.categoryname),e.xp6(1),e.Q6J("ngIf",t.accode),e.xp6(1),e.Q6J("ngIf",!t.accode),e.xp6(2),e.Q6J("ngClass",o.service.calculatedateaging(t.tendersubmissiondate)<0?"text-danger":"text-success"),e.xp6(1),e.AsE("",e.xi3(17,19,t.tendersubmissiondate,"dd/MM/yy hh:mm a")," (",e.lcZ(18,22,t.tendersubmissiondate),")"),e.xp6(3),e.Q6J("ngClass",o.service.calculatedateaging(t.tenderopeningdate)<0?"text-danger":"text-success"),e.xp6(1),e.AsE("",e.xi3(21,24,t.tenderopeningdate,"dd/MM/yy hh:mm a")," (",e.lcZ(22,27,t.tenderopeningdate),")"),e.xp6(4),e.Q6J("ngClass","Yes"==t.emdexemption?"text-muted":"No"==t.emdexemption&&t.emdcreateddate?"text-success":"text-danger"),e.xp6(1),e.Oqu("Yes"==t.emdexemption?"EMD Not Required":"No"==t.emdexemption&&t.emdcreateddate?"EMD Paid":"EMD Not Paid"),e.xp6(1),e.Q6J("ngClass","No"==t.samplerequired?"text-muted":"Yes"==t.samplerequired&&t.samplescreateddate?"text-success":"text-danger"),e.xp6(1),e.Oqu("No"==t.samplerequired?"Sample Not Required":"Yes"==t.samplerequired&&t.samplescreateddate?"Sample Sent":"Sample Not Sent"),e.xp6(3),e.Oqu(t.submissioncreatedby),e.xp6(2),e.Oqu(e.xi3(33,29,t.submissioncreateddate,"dd-MMM-yyyy hh:mm a"))}}function I(n,a){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),e._uU(8,"S.No."),e.qZA(),e.TgZ(9,"th",18),e._uU(10,"PIC"),e.qZA(),e.TgZ(11,"th",18),e._uU(12,"Type/Category/Name"),e.qZA(),e.TgZ(13,"th",18)(14,"div"),e._uU(15,"Tender Submission Date"),e.qZA(),e.TgZ(16,"div"),e._uU(17,"Tender Opening Date"),e.qZA()(),e.TgZ(18,"th",18),e._uU(19,"EMD/Sample Status"),e.qZA(),e.TgZ(20,"th",18),e._uU(21,"Last Update"),e.qZA(),e.TgZ(22,"th",18),e._uU(23,"Action"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,N,37,32,"tr",19),e.ALo(26,"filter"),e.qZA()()()()()()),2&n){const t=e.oxw();e.xp6(25),e.Q6J("ngForOf",e.xi3(26,1,t.service.tenderlist,t.service.searchvalue))}}function y(n,a){if(1&n&&(e.TgZ(0,"div",27)(1,"p",28),e._uU(2,"Showing "),e.TgZ(3,"span"),e._uU(4,"1"),e.qZA(),e._uU(5," to "),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._uU(8," of "),e.TgZ(9,"span"),e._uU(10),e.qZA(),e._uU(11," entries"),e.qZA()()),2&n){const t=e.oxw();e.xp6(7),e.Oqu(t.service.tenderlist.length),e.xp6(3),e.Oqu(t.service.tenderlist.length)}}function E(n,a){if(1&n&&(e.TgZ(0,"span",31),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("Tender In-Charge : ",t.service.tenderdata.incharge,"")}}function L(n,a){if(1&n&&(e._uU(0),e.YNc(1,E,2,1,"span",30)),2&n){const t=e.oxw(2);e.AsE("Opening Overdue (",t.service.tenderdata.id,") (",t.service.tenderdata.accode?t.service.tenderdata.clientname:t.service.tenderdata.name,") "),e.xp6(1),e.Q6J("ngIf",t.service.tenderdata.incharge)}}function w(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.MovetoScrap())}),e._uU(1,"Scrap Tender"),e.qZA()}}function S(n,a){1&n&&(e.TgZ(0,"h3",54),e._uU(1,"Please Add Tender Opening List to Show Action Button"),e.qZA())}function J(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.MovetoNext("Order"))}),e._uU(1,"Move to Order Overdue"),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.service.emduploaded)}}function P(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.MovetoNext("Action"))}),e._uU(1,"Move to Action Overdue"),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("disabled",t.service.emduploaded)}}function Q(n,a){1&n&&(e.TgZ(0,"div",64),e._uU(1,"Drag and drop files"),e.qZA())}function F(n,a){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.AsE("",t.name," - ",t.size," bytes ")}}function R(n,a){if(1&n&&(e.TgZ(0,"ul"),e.YNc(1,F,2,2,"li",65),e.qZA()),2&n){const t=e.oxw(5);e.xp6(1),e.Q6J("ngForOf",t.uploadedFiles)}}function k(n,a){if(1&n&&e.YNc(0,R,2,1,"ul",22),2&n){const t=e.oxw(4);e.Q6J("ngIf",t.uploadedFiles.length)}}function K(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"div",34)(2,"div",57)(3,"div",36)(4,"label",58),e._uU(5),e.qZA()()(),e.TgZ(6,"div",57)(7,"div",36)(8,"select",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.uploadfilename=o)}),e.TgZ(9,"option",60),e._uU(10,"Opening Financial"),e.qZA(),e.TgZ(11,"option",61),e._uU(12,"Opening Technical"),e.qZA()()()()(),e.TgZ(13,"div",36)(14,"p-fileUpload",62),e.NdJ("onUpload",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onUpload(o))}),e.YNc(15,Q,2,0,"ng-template",63)(16,k,1,1,"ng-template",2),e.qZA()()()}if(2&n){const t=e.oxw(3);e.xp6(5),e.hij("Upload ",t.uploadfilename,""),e.xp6(3),e.Q6J("ngModel",t.uploadfilename),e.xp6(6),e.Q6J("url",t.imageservice.uploadurl+"/"+t.imageservice.id+"/"+t.uploadfilename)("multiple",!0)}}function G(n,a){if(1&n&&(e.TgZ(0,"h3",66),e._uU(1),e.ALo(2,"currency"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("EMD Not Paid : ",e.xi3(2,2,t.service.tenderdata.emdamount,"INR")," Last Date of EMD: (",e.xi3(3,5,t.service.tenderdata.emddate,"dd-MMM-yyyy"),")")}}function Y(n,a){if(1&n&&(e.TgZ(0,"h3",67),e._uU(1),e.ALo(2,"currency"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("EMD Paid : ",e.xi3(2,2,t.service.tenderdata.emdamount,"INR")," (",e.xi3(3,5,t.service.tenderdata.emdcreateddate,"dd/MM/yy hh:mm a"),")")}}function B(n,a){1&n&&(e.TgZ(0,"h3",68),e._uU(1,"EMD Not Required"),e.qZA())}function H(n,a){if(1&n&&(e.TgZ(0,"h3",66),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("EMD Not Sent : (Last Date of Sample: (",e.xi3(2,1,t.service.tenderdata.lastdateofsubmission,"dd-MMM-yyyy"),"))")}}function W(n,a){if(1&n&&(e.TgZ(0,"h3",67),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("EMD Sent : ",e.xi3(2,1,t.service.tenderdata.samplescreateddate,"dd/MM/yy hh:mm a"),"")}}function $(n,a){1&n&&(e.TgZ(0,"h3",68),e._uU(1,"Sample Not Required"),e.qZA())}function j(n,a){1&n&&(e.TgZ(0,"h3",100),e._uU(1,"You are in Edit Mode"),e.qZA())}function V(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",56)(1,"form",null,69)(3,"div",34),e.YNc(4,j,2,0,"h3",70),e.TgZ(5,"div",35)(6,"div",36)(7,"label",58),e._uU(8,"Level"),e.qZA(),e.TgZ(9,"select",71,72),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.service.tenderopeningdata.level=o)}),e.TgZ(11,"option",73),e._uU(12,"----Select-----"),e.qZA(),e.TgZ(13,"option",74),e._uU(14,"L1"),e.qZA(),e.TgZ(15,"option",75),e._uU(16,"L2"),e.qZA(),e.TgZ(17,"option",76),e._uU(18,"L3"),e.qZA(),e.TgZ(19,"option",77),e._uU(20,"L4"),e.qZA(),e.TgZ(21,"option",78),e._uU(22,"L5"),e.qZA(),e.TgZ(23,"option",79),e._uU(24,"L6"),e.qZA(),e.TgZ(25,"option",80),e._uU(26,"L7"),e.qZA(),e.TgZ(27,"option",81),e._uU(28,"L8"),e.qZA(),e.TgZ(29,"option",82),e._uU(30,"L9"),e.qZA(),e.TgZ(31,"option",83),e._uU(32,"L10"),e.qZA()()()(),e.TgZ(33,"div",84)(34,"div",36)(35,"label",58),e._uU(36,"Party Name (is RATIONAL BUSINESS CORPORATION PVT LTD-SONIPAT?"),e.TgZ(37,"p-triStateCheckbox",85,86),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.service.tenderopeningdata.isrational=o)})("onChange",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.ChangeRational())}),e.qZA(),e._uU(39,")"),e.qZA(),e.TgZ(40,"input",87,88),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.service.tenderopeningdata.name=o)}),e.qZA()()(),e.TgZ(42,"div",35)(43,"div",36)(44,"label",58),e._uU(45,"Quantity"),e.qZA(),e.TgZ(46,"input",89,90),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.service.tenderopeningdata.qty=o)}),e.qZA()()(),e.TgZ(48,"div",35)(49,"div",36)(50,"label",58),e._uU(51,"Basic Rate"),e.qZA(),e.TgZ(52,"input",91,92),e.NdJ("keyup",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.CalculateTotal())})("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.service.tenderopeningdata.basicrate=o)}),e.qZA()()(),e.TgZ(54,"div",35)(55,"div",36)(56,"label",58),e._uU(57,"GST Rate"),e.qZA(),e.TgZ(58,"input",93,94),e.NdJ("keyup",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.CalculateTotal())})("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.service.tenderopeningdata.gst=o)}),e.qZA()()(),e.TgZ(60,"div",35)(61,"div",36)(62,"label",58),e._uU(63,"Total Value"),e.qZA(),e.TgZ(64,"input",95,96),e.NdJ("ngModelChange",function(o){e.CHM(t);const r=e.oxw(3);return e.KtG(r.service.tenderopeningdata.total=o)}),e.qZA()()(),e.TgZ(66,"div",97)(67,"div",98)(68,"button",99),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(2),r=e.oxw(3);return e.KtG(r.SubmitTenderOpening(o))}),e._uU(69,"Submit"),e.qZA()()()()()()}if(2&n){const t=e.MAs(2),i=e.MAs(10),o=e.MAs(41),r=e.MAs(47),_=e.MAs(53),ve=e.MAs(59),xe=e.MAs(65),c=e.oxw(3);e.xp6(4),e.Q6J("ngIf",0!=c.service.tenderopeningdata.id),e.xp6(5),e.Q6J("ngModel",c.service.tenderopeningdata.level)("ngClass",i.invalid?"is-invalid":"is-valid mb-2"),e.xp6(28),e.Q6J("ngModel",c.service.tenderopeningdata.isrational),e.xp6(3),e.Q6J("ngModel",c.service.tenderopeningdata.name)("ngClass",o.invalid?"is-invalid":"is-valid mb-2")("readOnly",1==c.service.tenderopeningdata.isrational),e.xp6(6),e.Q6J("ngModel",c.service.tenderopeningdata.qty)("ngClass",r.invalid?"is-invalid":"is-valid mb-2"),e.xp6(6),e.Q6J("ngModel",c.service.tenderopeningdata.basicrate)("ngClass",_.invalid?"is-invalid":"is-valid mb-2"),e.xp6(6),e.Q6J("ngModel",c.service.tenderopeningdata.gst)("ngClass",ve.invalid?"is-invalid":"is-valid mb-2"),e.xp6(6),e.Q6J("ngModel",c.service.tenderopeningdata.total)("ngClass",xe.invalid?"is-invalid":"is-valid mb-2"),e.xp6(4),e.Q6J("disabled",t.invalid)}}function z(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",104)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"div"),e._uU(5),e.qZA()(),e.TgZ(6,"td",105)(7,"div"),e._uU(8),e.qZA()(),e.TgZ(9,"td",105)(10,"div"),e._uU(11),e.qZA()(),e.TgZ(12,"td",105)(13,"div"),e._uU(14),e.ALo(15,"currency"),e.qZA()(),e.TgZ(16,"td",105)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",105)(20,"div"),e._uU(21),e.ALo(22,"currency"),e.qZA()(),e.TgZ(23,"td",105)(24,"div"),e._UZ(25,"i",106),e._uU(26),e.qZA()(),e.TgZ(27,"td",21)(28,"button",107),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.EditTenderOpening(r))}),e._UZ(29,"i",108),e.qZA(),e.TgZ(30,"button",109),e.NdJ("click",function(){const r=e.CHM(t).$implicit,_=e.oxw(4);return e.KtG(_.DeleteTenderOpening(r.id))}),e._UZ(31,"i",110),e.qZA()()()}if(2&n){const t=a.$implicit,i=a.index;e.Q6J("ngClass","RATIONAL BUSINESS CORPORATION PVT LTD-SONIPAT"==t.name?"text-purple":""),e.xp6(2),e.Oqu(i+1),e.xp6(3),e.Oqu(t.level),e.xp6(3),e.Oqu(t.name),e.xp6(3),e.Oqu(t.qty.toLocaleString("en-IN")),e.xp6(3),e.Oqu(e.xi3(15,9,t.basicrate,"INR")),e.xp6(4),e.Oqu(t.gst),e.xp6(3),e.Oqu(e.xi3(22,12,t.basicrate+t.basicrate*t.gst/100,"INR")),e.xp6(5),e.hij(" ",t.total.toLocaleString("en-IN"),"")}}function X(n,a){if(1&n&&(e.TgZ(0,"div",56)(1,"table",101)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"S.No."),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Rank"),e.qZA(),e.TgZ(8,"th",18),e._uU(9,"Name"),e.qZA(),e.TgZ(10,"th",18),e._uU(11,"Qty Quoted"),e.qZA(),e.TgZ(12,"th",18),e._uU(13,"Basic Rate"),e.qZA(),e.TgZ(14,"th",18),e._uU(15,"\xa0\xa0\xa0\xa0GST\xa0\xa0\xa0\xa0"),e.qZA(),e.TgZ(16,"th",18),e._uU(17,"Total Rate"),e.qZA(),e.TgZ(18,"th",18),e._uU(19,"Total"),e.qZA(),e.TgZ(20,"th",102),e._uU(21,"Action"),e.qZA()()(),e.TgZ(22,"tbody"),e.YNc(23,z,32,15,"tr",103),e.qZA()()()),2&n){const t=e.oxw(3);e.xp6(23),e.Q6J("ngForOf",t.service.tenderopeninglist)}}function ee(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.itemname)}}function te(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.item)}}function ne(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE("",t.placeofdelivery," (",e.xi3(2,2,t.deliveryperiod,"dd/MM/yy"),")")}}function ie(n,a){if(1&n&&(e.TgZ(0,"tr",113)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,ee,2,1,"div",22)(5,te,2,1,"div",22)(6,ne,3,5,"div",22),e.qZA(),e.TgZ(7,"td",105)(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA()(),e.TgZ(12,"td",105)(13,"div"),e._uU(14),e.ALo(15,"currency"),e.qZA()(),e.TgZ(16,"td",105)(17,"div"),e._uU(18),e.qZA()(),e.TgZ(19,"td",105)(20,"div"),e._UZ(21,"i",106),e._uU(22),e.qZA()(),e.TgZ(23,"td",105)(24,"div"),e._UZ(25,"i",106),e._uU(26),e.qZA()()()),2&n){const t=a.$implicit,i=a.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Q6J("ngIf",t.itemcode),e.xp6(1),e.Q6J("ngIf",!t.itemcode),e.xp6(1),e.Q6J("ngIf",t.placeofdelivery&&t.deliveryperiod),e.xp6(3),e.Oqu(t.qty.toLocaleString("en-IN")),e.xp6(2),e.Oqu(t.unit),e.xp6(3),e.Oqu(e.xi3(15,10,t.lastamount,"INR")),e.xp6(4),e.Oqu(t.gst),e.xp6(4),e.hij(" ",(t.qty*t.lastamount).toLocaleString("en-IN"),""),e.xp6(4),e.hij(" ",(t.qty*(t.lastamount+t.lastamount*t.gst/100)).toLocaleString("en-IN"),"")}}function oe(n,a){if(1&n&&(e.TgZ(0,"h3",114),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij("Total : ",t.service.convertNumberToWords(t.service.totalcalculation),"")}}function ae(n,a){if(1&n&&(e.TgZ(0,"h3",114),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij("Total(GST) : ",t.service.convertNumberToWords(t.service.subtotalcalculation),"")}}function re(n,a){if(1&n&&(e.TgZ(0,"div",14)(1,"table",101)(2,"thead")(3,"tr")(4,"th"),e._uU(5,"S.No."),e.qZA(),e.TgZ(6,"th"),e._uU(7,"Item"),e.qZA(),e.TgZ(8,"th",18),e._uU(9,"Quantity"),e.qZA(),e.TgZ(10,"th",18),e._uU(11,"Approved Rate"),e.qZA(),e.TgZ(12,"th",18),e._uU(13,"\xa0\xa0\xa0\xa0GST\xa0\xa0\xa0\xa0"),e.qZA(),e.TgZ(14,"th",18),e._uU(15,"Total"),e.qZA(),e.TgZ(16,"th",18),e._uU(17,"Total(GST)"),e.qZA()()(),e.TgZ(18,"tbody"),e.YNc(19,ie,27,13,"tr",111),e.qZA(),e.TgZ(20,"tfoot",20),e._UZ(21,"td"),e.TgZ(22,"td"),e._uU(23,"Total"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA(),e._UZ(26,"td")(27,"td"),e.TgZ(28,"td",21),e._UZ(29,"i",106),e._uU(30),e.qZA(),e.TgZ(31,"td",21),e._UZ(32,"i",106),e._uU(33),e.qZA()()(),e.YNc(34,oe,2,1,"h3",112)(35,ae,2,1,"h3",112),e.qZA()),2&n){const t=e.oxw(3);e.xp6(19),e.Q6J("ngForOf",t.service.tenderitemlist),e.xp6(6),e.Oqu(t.service.totalqty.toLocaleString("en-IN")),e.xp6(5),e.hij(" ",t.service.totalcalculation.toLocaleString("en-IN"),""),e.xp6(3),e.hij(" ",t.service.subtotalcalculation.toLocaleString("en-IN"),""),e.xp6(1),e.Q6J("ngIf",t.service.totalcalculation),e.xp6(1),e.Q6J("ngIf",t.service.subtotalcalculation)}}function de(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",123),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,r=e.oxw(3);return e.KtG(r.DeleteImage(o.id))}),e._UZ(1,"i",110),e.qZA()}}function se(n,a){if(1&n&&e._UZ(0,"p-image",124),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("src",i.imageservice.imageurl+t.path)("preview",!0)}}function _e(n,a){if(1&n&&(e.TgZ(0,"a",125),e._UZ(1,"img",126),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("href",i.imageservice.imageurl+t.path,e.LSH)}}function le(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",15)(2,"div",115)(3,"div",116)(4,"div",117),e._uU(5),e.qZA()(),e.TgZ(6,"div",118),e.YNc(7,de,2,0,"button",119),e.qZA()(),e.TgZ(8,"div",120),e.YNc(9,se,1,2,"p-image",121)(10,_e,2,1,"a",122),e.qZA()()()),2&n){const t=a.$implicit,i=e.oxw(3);e.xp6(5),e.Oqu(t.type),e.xp6(2),e.Q6J("ngIf",i.isadmin),e.xp6(2),e.Q6J("ngIf","pdf"!=t.path.split(".").pop()),e.xp6(1),e.Q6J("ngIf","pdf"==t.path.split(".").pop())}}function ce(n,a){1&n&&(e.TgZ(0,"div")(1,"h1",54),e._uU(2,"No File Uploaded"),e.qZA()())}function pe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33),e._UZ(2,"app-tendercategorywise"),e.TgZ(3,"div",34)(4,"div",35)(5,"div",36)(6,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.AddTenderOpening())}),e._uU(7,"Add Tender Opening"),e.qZA()()(),e.TgZ(8,"div",38)(9,"div",36)(10,"button",37),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.AddImage())}),e._uU(11,"Add File"),e.qZA()()(),e.TgZ(12,"div",35)(13,"div",36),e.YNc(14,w,2,0,"button",39),e.qZA()(),e.TgZ(15,"div",40)(16,"div",36),e.YNc(17,S,2,0,"h3",41)(18,J,2,1,"button",42)(19,P,2,1,"button",42),e.qZA()(),e.TgZ(20,"div",43)(21,"div",36)(22,"h3",23),e._uU(23),e.qZA()()(),e.YNc(24,K,17,4,"div",44),e.TgZ(25,"div",45)(26,"label",46),e._uU(27,"EMD Information"),e.qZA(),e.YNc(28,G,4,8,"h3",47)(29,Y,4,8,"h3",48)(30,B,2,0,"h3",49),e.qZA(),e.TgZ(31,"div",45)(32,"label",46),e._uU(33,"Sample Information"),e.qZA(),e.YNc(34,H,3,4,"h3",47)(35,W,3,4,"h3",48)(36,$,2,0,"h3",49),e.qZA(),e.YNc(37,V,70,16,"div",44)(38,X,24,1,"div",44)(39,re,36,6,"div",50)(40,le,11,4,"div",51)(41,ce,3,0,"div",22),e.qZA()(),e.TgZ(42,"div",52),e._UZ(43,"app-tenderchat"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(14),e.Q6J("ngIf",t.isadmin),e.xp6(3),e.Q6J("ngIf",""==t.service.buttonvisible),e.xp6(1),e.Q6J("ngIf","Order"==t.service.buttonvisible),e.xp6(1),e.Q6J("ngIf","Action"==t.service.buttonvisible),e.xp6(3),e.Q6J("ngClass",t.service.emduploaded?"text-danger":"text-success"),e.xp6(1),e.Oqu(t.service.emduploaded?"Tender Opening_Financial Not Uploaded so Please Upload File to Proceed":"Congratulation Tender Opening_Financial has Successfully Uploaded"),e.xp6(1),e.Q6J("ngIf",t.uploadimage),e.xp6(4),e.Q6J("ngIf","No"==t.service.tenderdata.emdexemption&&!t.service.tenderdata.emdcreateddate),e.xp6(1),e.Q6J("ngIf","No"==t.service.tenderdata.emdexemption&&t.service.tenderdata.emdcreateddate),e.xp6(1),e.Q6J("ngIf","Yes"==t.service.tenderdata.emdexemption),e.xp6(4),e.Q6J("ngIf","Yes"==t.service.tenderdata.samplerequired&&!t.service.tenderdata.samplescreateddate),e.xp6(1),e.Q6J("ngIf","Yes"==t.service.tenderdata.samplerequired&&t.service.tenderdata.samplescreateddate),e.xp6(1),e.Q6J("ngIf","No"==t.service.tenderdata.samplerequired),e.xp6(1),e.Q6J("ngIf",t.addtenderopeningvisible),e.xp6(1),e.Q6J("ngIf",t.service.tenderopeninglist),e.xp6(1),e.Q6J("ngIf",t.service.tenderitemlist),e.xp6(1),e.Q6J("ngForOf",t.imageservice.rcuploadedlist),e.xp6(1),e.Q6J("ngIf",null==t.imageservice.rcuploadedlist)}}const ge=()=>({width:"100vw"});function ue(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-dialog",29),e.NdJ("visibleChange",function(o){e.CHM(t);const r=e.oxw();return e.KtG(r.service.openingvisible=o)}),e.YNc(1,L,2,3,"ng-template",1)(2,pe,44,18,"ng-template",2),e.qZA()}if(2&n){const t=e.oxw();e.Akn(e.DdM(4,ge)),e.Q6J("visible",t.service.openingvisible)("maximizable",!0)}}let me=(()=>{class n{constructor(t,i,o,r,_){this.service=t,this.imageservice=i,this.toast=o,this.userservice=r,this.datePipe=_,this.searchvalue="",this.mydate=new Date,this.visible=!1,this.isadmin=!1,this.panelOpenState=!1,this.uploadfilename="Opening_Financial",this.uploadimage=!1,this.uploadedFiles=[],this.addtenderopeningvisible=!1}ngOnInit(){"Admin"==this.userservice.GetRole()&&(this.isadmin=!0)}expendaccordion(t){this.visible=!0,this.service.tenderdata=t,this.service.CalculateTotal()}MovetoNext(t){"Action"==t?(this.service.tenderdata.actioncreateddate=this.gettime(),this.service.tenderdata.actioncreatedby="Auto Moved",this.service.tenderdata.openingcreateddate=this.gettime(),this.service.tenderdata.openingcreatedby=this.userservice.GetFullName()):"Order"==t&&(this.service.tenderdata.statuscreateddate=this.gettime(),this.service.tenderdata.statuscreatedby="Auto Moved",this.service.tenderdata.actioncreateddate=this.gettime(),this.service.tenderdata.actioncreatedby="Auto Moved",this.service.tenderdata.openingcreateddate=this.gettime(),this.service.tenderdata.openingcreatedby=this.userservice.GetFullName()),this.service.CreateUpdate().subscribe(i=>{"success"==i.status?(this.toast.success(i.message,"Success"),this.service.openingvisible=!1,this.service.LoadList(1,1e4,this.searchvalue,"Opening"),this.LoadDashboard()):this.toast.warning(i.message,"Warning")},i=>{this.toast.error(i,"Error")})}MovetoScrap(){1==confirm("Are You Sure want to Scrap Tender?")&&(this.service.tenderdata.status="Closure",this.service.CreateUpdate().subscribe(t=>{"success"==t.status?(this.toast.success("Tender Scrapped Successfully","Success"),this.service.openingvisible=!1,this.service.LoadList(1,1e4,this.searchvalue,"Opening"),this.LoadDashboard()):this.toast.warning(t.message,"Warning")},t=>{this.toast.error(t,"Error")}))}LoadDashboard(){this.service.GetDashboardReport().subscribe(t=>{this.service.dashboarddata=t})}gettime(){let t=new Date,o=t.getTime()+Math.abs(6e4*t.getTimezoneOffset());return new Date(o).toISOString()}opendetails(t){}ViewImage(t){this.service.openingvisible=!0,this.service.tenderdata=t,this.uploadimage=!1,this.imageservice.id=t.id,this.imageservice.RefreshFile(),this.service.GetTenderItems(),this.service.tenderchatid=t.id,this.service.Chatbyid(t.id),this.service.ReadChat(t.id,this.userservice.GetUserName(),this.userservice.GetFullName()),this.service.tenderchatdata=new p.Y_,this.service.tenderchatdata.header="Opening Overdue",this.LoadTenderOpening(t.id),this.CalculationNextButton(),this.CalculateImageUploaded(),setTimeout(()=>{this.CalculateImageUploaded()},1e3)}AddImage(){this.uploadimage=!this.uploadimage}DeleteImage(t){1==confirm("Are You Sure want to Delete?")?this.imageservice.DeleteImage(t).subscribe(i=>{console.log(i),(i.status="success")?(this.toast.success(i.result,"Success"),this.CalculationNextButton(),this.CalculateImageUploaded()):this.toast.error(i.result,"Error"),this.imageservice.RefreshFile()}):this.toast.warning("File Deletion Cancelled","Cancelled")}onUpload(t){for(let i of t.files)this.uploadedFiles.push(i);this.imageservice.RefreshFile(),this.toast.success("File Successfully Uploaded","Success"),this.uploadimage=!1,this.CalculationNextButton(),this.CalculateImageUploaded(),setTimeout(()=>{this.CalculateImageUploaded()},1e3)}AddTenderOpening(){this.addtenderopeningvisible=!this.addtenderopeningvisible,this.addtenderopeningvisible||(this.service.tenderopeningdata=new p.wF)}EditTenderOpening(t){this.addtenderopeningvisible=!0,this.service.tenderopeningdata=t}ChangeRational(){this.service.tenderopeningdata.name=1==this.service.tenderopeningdata.isrational?"RATIONAL BUSINESS CORPORATION PVT LTD-SONIPAT":""}CalculationNextButton(){var t=this.service.tenderopeninglist,i=t.length;t.forEach(o=>{if("RATIONAL BUSINESS CORPORATION PVT LTD-SONIPAT"==o.name&&"L1"==o.level)throw this.service.buttonvisible="Order";this.service.buttonvisible="Action"}),0==i&&(this.service.buttonvisible="")}CalculateTotal(){var r=this.service.tenderopeningdata.qty*this.service.tenderopeningdata.basicrate;this.service.tenderopeningdata.total=r+r*this.service.tenderopeningdata.gst/100}SubmitTenderOpening(t){t.valid&&(this.service.tenderopeningdata.uid=this.service.tenderdata.id,0==this.service.tenderopeningdata.id?(this.service.tenderopeningdata.createdby=this.userservice.GetFullName(),this.service.tenderopeningdata.createddate=this.gettime()):(this.service.tenderopeningdata.updatedby=this.userservice.GetFullName(),this.service.tenderopeningdata.updateddate=this.gettime()),this.service.CreateTenderOpening().subscribe(i=>{"success"==i.status?(this.toast.success(i.message,"Success"),this.LoadTenderOpening(this.imageservice.id),this.service.tenderopeningdata=new p.wF):this.toast.warning(i.message,"Warning")},i=>{this.toast.error(i,"Error")}))}LoadTenderOpening(t){this.service.GetTenderOpeningbyid(t).subscribe(i=>{"success"==i.status?(this.service.tenderopeninglist=i.data,this.CalculationNextButton(),this.CalculateImageUploaded()):this.toast.warning(i.message,"Warning")})}DeleteTenderOpening(t){1==confirm("Are You Sure want to Delete?")&&this.service.DeleteOpeningbyid(t).subscribe(i=>{"success"==i.status?(this.toast.success(i.message,"Success"),this.LoadTenderOpening(this.imageservice.id)):this.toast.warning(i.message,"Warning")})}CalculateImageUploaded(){var t=this.imageservice.rcuploadedlist;t&&t.length>0&&t.forEach(i=>{if("Opening_Financial"==i.type)throw this.service.emduploaded=!1;this.service.emduploaded=!0})}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(A.$),e.Y36(O.D),e.Y36(C._W),e.Y36(b.K),e.Y36(l.uU))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-openingoverdue"]],standalone:!0,features:[e.jDz],decls:7,vars:3,consts:[[3,"visible","fullScreen","visibleChange"],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],[1,"page-title"],[1,"ms-auto","text-muted"],[1,"input-icon"],["type","text","placeholder","Search.....",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-icon-addon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"],["d","M21 21l-6 -6"],[1,"row","row-cards"],[1,"col-12"],[1,"card"],[1,"table-responsive"],["id","contentToConvert",1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed"],[1,"text-center"],["class","strong text-center",4,"ngFor","ngForOf"],[1,"strong","text-center"],[1,"text-nowrap"],[4,"ngIf"],[3,"ngClass"],["type","button",1,"btn","btn-outline-info","btn-pill","strong",3,"click"],["type","button",1,"btn-link","strong",3,"click"],["type","button",1,"btn-link","text-danger","strong",3,"click"],[1,"card-footer","d-flex","align-items-center"],[1,"m-0","strong"],[3,"visible","maximizable","visibleChange"],["class","text-danger strong",4,"ngIf"],[1,"text-danger","strong"],[1,"row","g-0"],[1,"col-12","col-lg-8","col-xl-8","border-end","card-body","scrollable",2,"height","35rem"],[1,"row"],[1,"col-md-3"],[1,"mb-3"],["type","button",1,"btn","btn-info","btn-pill",3,"click"],[1,"col-md-2","text-center"],["type","button","class","btn btn-danger btn-pill",3,"click",4,"ngIf"],[1,"col-md-4"],["class","text-danger text-center",4,"ngIf"],["type","button","class","btn btn-success btn-pill",3,"disabled","click",4,"ngIf"],[1,"col-md-12","text-center"],["class","col-md-12",4,"ngIf"],[1,"col-md-6"],[1,"form-label"],["class","text-danger",4,"ngIf"],["class","text-success",4,"ngIf"],["class","text-muted",4,"ngIf"],["class","col-12",4,"ngIf"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-12","col-lg-4","col-xl-4","d-flex","flex-column"],["type","button",1,"btn","btn-danger","btn-pill",3,"click"],[1,"text-danger","text-center"],["type","button",1,"btn","btn-success","btn-pill",3,"disabled","click"],[1,"col-md-12"],[1,"col-6"],[1,"form-label","required"],[1,"form-select",3,"ngModel","ngModelChange"],["value","Opening_Financial"],["value","Opening_Technical"],["name","demo[]",3,"url","multiple","onUpload"],["pTemplate","toolbar"],[1,"py-3"],[4,"ngFor","ngForOf"],[1,"text-danger"],[1,"text-success"],[1,"text-muted"],["tenderopeningform","ngForm"],["class","text-center text-purple",4,"ngIf"],["required","","name","level","placeholder","Level",1,"form-select",3,"ngModel","ngClass","ngModelChange"],["level","ngModel"],["value",""],["value","L1"],["value","L2"],["value","L3"],["value","L4"],["value","L5"],["value","L6"],["value","L7"],["value","L8"],["value","L9"],["value","L10"],[1,"col-md-9"],["name","isrational","inputId","tricheckbox",3,"ngModel","ngModelChange","onChange"],["isrational","ngModel"],["required","","name","name","placeholder","Party Name","autocomplete","off",1,"form-control",3,"ngModel","ngClass","readOnly","ngModelChange"],["name","ngModel"],["type","number","required","","name","qty","placeholder","Quantity",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["qty","ngModel"],["type","number","required","","name","basicrate","placeholder","Basic Rate",1,"form-control",3,"ngModel","ngClass","keyup","ngModelChange"],["basicrate","ngModel"],["type","number","required","","name","gst","placeholder","GST",1,"form-control",3,"ngModel","ngClass","keyup","ngModelChange"],["gst","ngModel"],["type","number","required","","name","total","placeholder","Total",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["total","ngModel"],[1,"card-footer","text-end"],[1,"d-flex"],["type","submit",1,"btn","btn-primary","ms-auto",3,"disabled","click"],[1,"text-center","text-purple"],[1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed"],[1,"text-center","text-nowrap"],["class","strong",3,"ngClass",4,"ngFor","ngForOf"],[1,"strong",3,"ngClass"],[1,"text-nowrap","text-center"],[1,"fa","fa-rupee"],["type","button",1,"btn-link",3,"click"],[1,"fa","fa-edit"],["type","button",1,"btn-link","text-danger",3,"click"],[1,"fa","fa-trash"],["class","strong",4,"ngFor","ngForOf"],["class","text-center text-muted",4,"ngIf"],[1,"strong"],[1,"text-center","text-muted"],[1,"card-header"],[1,"row","text-center","strong"],[1,"mb-1"],[1,"card-actions","btn-actions"],["type","button","class","btn-link strong text-danger",3,"click",4,"ngIf"],[1,"card-body","p-0","text-center"],["width","100","height","100",3,"src","preview",4,"ngIf"],["class","text-center","target","_blank",3,"href",4,"ngIf"],["type","button",1,"btn-link","strong","text-danger",3,"click"],["width","100","height","100",3,"src","preview"],["target","_blank",1,"text-center",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/8/87/PDF_file_icon.svg","width","100","height","100"]],template:function(i,o){1&i&&(e.TgZ(0,"p-sidebar",0),e.NdJ("visibleChange",function(_){return o.service.openingoverduevisible=_}),e.YNc(1,q,10,1,"ng-template",1)(2,I,27,4,"ng-template",2)(3,y,12,2,"ng-template",3),e.qZA(),e.YNc(4,ue,3,5),e.EqZ(5,4,U)),2&i&&(e.Q6J("visible",o.service.openingoverduevisible)("fullScreen",!0),e.xp6(5),e.cPc(1==o.service.openingvisible))},dependencies:[l.ez,l.mk,l.sg,l.O5,l.uU,s.u5,s.Fj,s.JJ,s.On,u.l,u.Y,f.jx,T.FilterPipe,Z.DatefuturepipePipe,x.$,v.O,m.S,h.GY]})}return n})()}}]);