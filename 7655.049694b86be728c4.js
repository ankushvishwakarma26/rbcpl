"use strict";(self.webpackChunkintranet=self.webpackChunkintranet||[]).push([[7655],{7655:(pe,p,_)=>{_.r(p),_.d(p,{RatesoverdueComponent:()=>le});var c=_(6814),d=_(6223),u=_(9246),f=_(951),h=_(2681),g=_(1312),Z=_(6521),m=_(7248),v=_(8454),T=_(7912),e=_(9212),A=_(1148),C=_(7473),b=_(2425),q=_(5633),x=_(5219);const U=()=>[c.mk,c.sg,c.O5,c.H9,c.uU,d.YN,d.Kr,d.Fj,d.wV,d.EJ,d.JJ,d.On,x.jx,_.e(9176).then(_.bind(_,9176)).then(n=>n.TenderchatComponent),v.T,m.E,g.V,_.e(8592).then(_.bind(_,1836)).then(n=>n.TendercategorywiseComponent)];function M(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"h2",4),e._uU(1,"Rates Overdue List"),e.qZA(),e.TgZ(2,"div",5)(3,"div",6)(4,"input",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.service.searchvalue=o)}),e.qZA(),e.TgZ(5,"span",8),e.O4$(),e.TgZ(6,"svg",9),e._UZ(7,"path",10)(8,"path",11)(9,"path",12),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.service.searchvalue)}}function D(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.opendetails(o.id))}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.clientname)}}function R(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",28),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(2);return e.KtG(s.opendetails(o.id))}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.name)}}function I(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"currency"),e.ALo(3,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" (",e.xi3(2,2,t.emdamount,"INR"),") (",e.xi3(3,5,t.emddate,"dd/MM/yy"),")")}}function O(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",e.xi3(2,1,t.lastdateofsubmission,"dd/MM/yy"),")")}}function y(n,a){if(1&n&&(e.TgZ(0,"div",24),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass","YES"==t.invitation?"text-success":"NO"==t.invitation?"text-danger":""),e.xp6(1),e.hij("Invitation : ",t.invitation,"")}}function w(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",20)(1,"td",21),e._uU(2),e.qZA(),e.TgZ(3,"td",22),e._uU(4),e.qZA(),e.TgZ(5,"td")(6,"div"),e._uU(7),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA(),e.YNc(12,D,3,1,"div",23)(13,R,3,1,"div",23),e.qZA(),e.TgZ(14,"td",21)(15,"div",24),e._uU(16),e.ALo(17,"date"),e.ALo(18,"datefuturepipe"),e.qZA(),e.TgZ(19,"div",24),e._uU(20),e.ALo(21,"date"),e.ALo(22,"datefuturepipe"),e.qZA()(),e.TgZ(23,"td")(24,"div",24),e._uU(25),e.YNc(26,I,4,8,"span",23),e.qZA(),e.TgZ(27,"div",24),e._uU(28),e.YNc(29,O,3,4,"span",23),e.qZA(),e.YNc(30,y,2,2,"div",25),e.qZA(),e.TgZ(31,"td")(32,"div"),e._uU(33),e.qZA(),e.TgZ(34,"div"),e._uU(35),e.ALo(36,"date"),e.qZA()(),e.TgZ(37,"td")(38,"button",26),e.NdJ("click",function(){const s=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.ViewImage(s))}),e._uU(39,"Action"),e.qZA()()()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw(2);e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.incharge),e.xp6(3),e.Oqu(t.type),e.xp6(2),e.Oqu(t.tenderno),e.xp6(2),e.Oqu(t.categoryname),e.xp6(1),e.Q6J("ngIf",t.accode),e.xp6(1),e.Q6J("ngIf",!t.accode),e.xp6(2),e.Q6J("ngClass",o.service.calculatedateaging(t.tendersubmissiondate)<0?"text-danger":o.service.calculatedateaging(t.tendersubmissiondate)<604800?"text-purple":""),e.xp6(1),e.AsE("",e.xi3(17,22,t.tendersubmissiondate,"dd/MM/yy hh:mm a")," (",e.lcZ(18,25,t.tendersubmissiondate),")"),e.xp6(3),e.Q6J("ngClass",o.service.calculatedateaging(t.tenderopeningdate)<0?"text-danger":o.service.calculatedateaging(t.tenderopeningdate)<604800?"text-purple":""),e.xp6(1),e.AsE("",e.xi3(21,27,t.tenderopeningdate,"dd/MM/yy hh:mm a")," (",e.lcZ(22,30,t.tenderopeningdate),")"),e.xp6(4),e.Q6J("ngClass","Yes"==t.emdexemption?"text-muted":"No"==t.emdexemption&&t.emdcreateddate?"text-success":"text-danger"),e.xp6(1),e.hij("","Yes"==t.emdexemption?"EMD Not Required":"EMD"," "),e.xp6(1),e.Q6J("ngIf","No"==t.emdexemption),e.xp6(1),e.Q6J("ngClass","No"==t.samplerequired?"text-muted":"Yes"==t.samplerequired&&t.samplecreateddate?"text-success":"text-danger"),e.xp6(1),e.hij("","No"==t.samplerequired?"Sample Not Required":"Sample Required"," "),e.xp6(1),e.Q6J("ngIf","Yes"==t.samplerequired),e.xp6(1),e.Q6J("ngIf",t.invitation),e.xp6(3),e.Oqu(t.informationcreatedby),e.xp6(2),e.Oqu(e.xi3(36,32,t.informationcreateddate,"dd-MMM-yyyy hh:mm a"))}}function E(n,a){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div",15)(3,"div",16)(4,"table",17)(5,"thead")(6,"tr")(7,"th",18),e._uU(8,"S.No."),e.qZA(),e.TgZ(9,"th",18),e._uU(10,"PIC"),e.qZA(),e.TgZ(11,"th",18),e._uU(12,"Type/Category/Name"),e.qZA(),e.TgZ(13,"th",18)(14,"div"),e._uU(15,"Tender Submission Date"),e.qZA(),e.TgZ(16,"div"),e._uU(17,"Tender Opening Date"),e.qZA()(),e.TgZ(18,"th",18),e._uU(19,"EMD/Sample Status"),e.qZA(),e.TgZ(20,"th",18),e._uU(21,"Last Update"),e.qZA(),e.TgZ(22,"th",18),e._uU(23,"Action"),e.qZA()()(),e.TgZ(24,"tbody"),e.YNc(25,w,40,35,"tr",19),e.ALo(26,"filter"),e.qZA()()()()()()),2&n){const t=e.oxw();e.xp6(25),e.Q6J("ngForOf",e.xi3(26,1,t.service.tenderlist,t.service.searchvalue))}}function N(n,a){if(1&n&&(e.TgZ(0,"div",29)(1,"p",30),e._uU(2,"Showing "),e.TgZ(3,"span"),e._uU(4,"1"),e.qZA(),e._uU(5," to "),e.TgZ(6,"span"),e._uU(7),e.qZA(),e._uU(8," of "),e.TgZ(9,"span"),e._uU(10),e.qZA(),e._uU(11," entries"),e.qZA()()),2&n){const t=e.oxw();e.xp6(7),e.Oqu(t.service.tenderlist.length),e.xp6(3),e.Oqu(t.service.tenderlist.length)}}function J(n,a){if(1&n&&(e.TgZ(0,"span",33),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("Tender In-Charge : ",t.service.tenderdata.incharge,"")}}function L(n,a){if(1&n&&(e._uU(0),e.YNc(1,J,2,1,"span",32)),2&n){const t=e.oxw(2);e.AsE("Rates Overdue (",t.service.tenderdata.id,") (",t.service.tenderdata.accode?t.service.tenderdata.clientname:t.service.tenderdata.name,") "),e.xp6(1),e.Q6J("ngIf",t.service.tenderdata.incharge)}}function S(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.ApproveOrReject("Rejected"))}),e._uU(1,"Reject Tender"),e.qZA()}}function Q(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.Backto())}),e._uU(1,"Back to Information Overdue"),e.qZA()}}function F(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.MovetoNext())}),e._uU(1,"Move to Submission Overdue"),e.qZA()}}function K(n,a){1&n&&(e.TgZ(0,"th",18),e._uU(1,"Action"),e.qZA())}function k(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",69),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit;e.oxw(2);const r=e.MAs(25),l=e.oxw(2);return r.toggle(o),e.KtG(l.LoadItemSearchList(s.itemname))}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.itemname)}}function P(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"button",69),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit;e.oxw(2);const r=e.MAs(25),l=e.oxw(2);return r.toggle(o),e.KtG(l.LoadItemSearchList(s.item))}),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.item)}}function Y(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.AsE("",t.placeofdelivery," (",e.xi3(2,2,t.deliveryperiod,"dd/MM/yy"),")")}}function G(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"td",65)(1,"button",70),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(4);return e.KtG(s.service.DeleteItem(o))}),e._UZ(2,"i",71),e.qZA()()}}function $(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",49)(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e.YNc(4,k,3,1,"div",23)(5,P,3,1,"div",23)(6,Y,3,5,"div",23),e.qZA(),e.TgZ(7,"td",65)(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA()(),e.TgZ(12,"td",18),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.TgZ(15,"td",21)(16,"div")(17,"input",66),e.NdJ("ngModelChange",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.lastamount=o)})("keyup",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.service.CalculateTotal())}),e.qZA()()(),e.TgZ(18,"td",21)(19,"div")(20,"select",67),e.NdJ("ngModelChange",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.gst=o)})("change",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.service.CalculateTotal())}),e.TgZ(21,"option",58),e._uU(22,"0"),e.qZA(),e.TgZ(23,"option",59),e._uU(24,"12"),e.qZA(),e.TgZ(25,"option",60),e._uU(26,"18"),e.qZA()()()(),e.TgZ(27,"td",21)(28,"div"),e._UZ(29,"i",63),e._uU(30),e.qZA()(),e.TgZ(31,"td",21)(32,"div"),e._UZ(33,"i",63),e._uU(34),e.qZA()(),e.YNc(35,G,3,0,"td",68),e.qZA()}if(2&n){const t=a.$implicit,i=a.index,o=e.oxw(4);e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Q6J("ngIf",t.itemcode),e.xp6(1),e.Q6J("ngIf",!t.itemcode),e.xp6(1),e.Q6J("ngIf",t.placeofdelivery&&t.deliveryperiod),e.xp6(3),e.Oqu(t.qty.toLocaleString("en-IN")),e.xp6(2),e.Oqu(t.unit),e.xp6(2),e.hij(" ",e.xi3(14,12,t.firstamount,"INR")," "),e.xp6(4),e.Q6J("ngModel",t.lastamount),e.xp6(3),e.Q6J("ngModel",t.gst),e.xp6(10),e.hij(" ",(t.qty*t.lastamount).toLocaleString("en-IN"),""),e.xp6(4),e.hij(" ",(t.qty*(t.lastamount+t.lastamount*t.gst/100)).toLocaleString("en-IN"),""),e.xp6(1),e.Q6J("ngIf",o.isadmin)}}function H(n,a){if(1&n&&(e.TgZ(0,"h3",72),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij("Total : ",t.service.convertNumberToWords(t.service.totalcalculation),"")}}function W(n,a){if(1&n&&(e.TgZ(0,"h3",72),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij("Total(GST) : ",t.service.convertNumberToWords(t.service.subtotalcalculation),"")}}function j(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",14)(1,"table",48)(2,"thead")(3,"tr"),e._UZ(4,"th")(5,"th"),e.TgZ(6,"th",18),e._uU(7,"Fill All"),e.qZA(),e._UZ(8,"th"),e.TgZ(9,"th",18)(10,"input",56),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw(3);return e.KtG(s.allapprovedrate=o)})("input",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.AllApproved())}),e.qZA()(),e.TgZ(11,"th",18)(12,"select",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw(3);return e.KtG(s.allgst=o)})("change",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.AllGST())}),e.TgZ(13,"option",58),e._uU(14,"0"),e.qZA(),e.TgZ(15,"option",59),e._uU(16,"12"),e.qZA(),e.TgZ(17,"option",60),e._uU(18,"18"),e.qZA()()(),e._UZ(19,"th")(20,"th")(21,"th"),e.qZA()(),e.TgZ(22,"thead")(23,"tr")(24,"th"),e._uU(25,"S.No."),e.qZA(),e.TgZ(26,"th"),e._uU(27,"Item"),e.qZA(),e.TgZ(28,"th",18),e._uU(29,"Quantity"),e.qZA(),e.TgZ(30,"th",18),e._uU(31,"Approx Value"),e.qZA(),e.TgZ(32,"th",18),e._uU(33,"Approved Rate"),e.qZA(),e.TgZ(34,"th",18),e._uU(35,"\xa0\xa0\xa0\xa0GST\xa0\xa0\xa0\xa0"),e.qZA(),e.TgZ(36,"th",18),e._uU(37,"Total"),e.qZA(),e.TgZ(38,"th",18),e._uU(39,"Total(GST)"),e.qZA(),e.YNc(40,K,2,0,"th",61),e.qZA()(),e.TgZ(41,"tbody"),e.YNc(42,$,36,15,"tr",62),e.qZA(),e.TgZ(43,"tfoot",20),e._UZ(44,"td"),e.TgZ(45,"td"),e._uU(46,"Total"),e.qZA(),e.TgZ(47,"td"),e._uU(48),e.qZA(),e._UZ(49,"td")(50,"td")(51,"td"),e.TgZ(52,"td",21),e._UZ(53,"i",63),e._uU(54),e.qZA(),e.TgZ(55,"td",21),e._UZ(56,"i",63),e._uU(57),e.qZA()()(),e.YNc(58,H,2,1,"h3",64)(59,W,2,1,"h3",64),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(10),e.Q6J("ngModel",t.allapprovedrate),e.xp6(2),e.Q6J("ngModel",t.allgst),e.xp6(28),e.Q6J("ngIf",t.isadmin),e.xp6(2),e.Q6J("ngForOf",t.service.tenderitemlist),e.xp6(6),e.Oqu(t.service.totalqty.toLocaleString("en-IN")),e.xp6(6),e.hij(" ",t.service.totalcalculation.toLocaleString("en-IN"),""),e.xp6(3),e.hij(" ",t.service.subtotalcalculation.toLocaleString("en-IN"),""),e.xp6(1),e.Q6J("ngIf",t.service.totalcalculation),e.xp6(1),e.Q6J("ngIf",t.service.subtotalcalculation)}}function B(n,a){if(1&n&&(e.TgZ(0,"div",77),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.categoryname)}}function z(n,a){if(1&n&&(e.TgZ(0,"div",78),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.clientname)}}function V(n,a){if(1&n&&(e.TgZ(0,"div",79),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.itemname)}}function X(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.qty.toLocaleString("en-IN"))}}function ee(n,a){if(1&n&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.lastamount,"INR"))}}function te(n,a){if(1&n&&(e.TgZ(0,"tr")(1,"td",21),e._uU(2),e.qZA(),e.TgZ(3,"td",21),e._uU(4),e.qZA(),e.TgZ(5,"td",21)(6,"span",73),e._uU(7),e.qZA()(),e.TgZ(8,"td",18)(9,"div"),e._uU(10),e.qZA(),e.YNc(11,B,2,1,"div",74)(12,z,2,1,"div",75)(13,V,2,1,"div",76),e.qZA(),e.TgZ(14,"td"),e.YNc(15,X,2,1,"div",23),e.qZA(),e.TgZ(16,"td"),e.YNc(17,ee,3,4,"div",23),e.qZA(),e.TgZ(18,"td",21)(19,"div"),e._uU(20),e.ALo(21,"date"),e.qZA(),e.TgZ(22,"div"),e._uU(23),e.ALo(24,"date"),e.qZA()()()),2&n){const t=a.$implicit,i=a.index;e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Q6J("ngClass","Rejected"==t.status?"bg-danger":"Approved"==t.status?"bg-success":"bg-primary"),e.xp6(1),e.Oqu(t.status),e.xp6(3),e.Oqu(t.type),e.xp6(1),e.Q6J("ngIf",t.categoryname),e.xp6(1),e.Q6J("ngIf",t.clientname),e.xp6(1),e.Q6J("ngIf",t.itemname),e.xp6(2),e.Q6J("ngIf",t.qty),e.xp6(2),e.Q6J("ngIf",t.lastamount),e.xp6(3),e.Oqu(e.xi3(21,12,t.tendersubmissiondate,"dd/MM/yy hh:mm a")),e.xp6(3),e.Oqu(e.xi3(24,15,t.tenderopeningdate,"dd/MM/yy hh:mm a"))}}function ne(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(3);return e.KtG(s.DeleteImage(o.id))}),e._UZ(1,"i",90),e.qZA()}}function ie(n,a){if(1&n&&e._UZ(0,"p-image",91),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("src",i.imageservice.imageurl+t.path)("preview",!0)}}function oe(n,a){if(1&n&&(e.TgZ(0,"a",92),e._UZ(1,"img",93),e.qZA()),2&n){const t=e.oxw().$implicit,i=e.oxw(3);e.Q6J("href",i.imageservice.imageurl+t.path,e.LSH)}}function ae(n,a){if(1&n&&(e.TgZ(0,"div",80)(1,"div",15)(2,"div",81)(3,"div",82)(4,"div",83),e._uU(5),e.qZA()(),e.TgZ(6,"div",84),e.YNc(7,ne,2,0,"button",85),e.qZA()(),e.TgZ(8,"div",86),e.YNc(9,ie,1,2,"p-image",87)(10,oe,2,1,"a",88),e.qZA()()()),2&n){const t=a.$implicit,i=e.oxw(3);e.xp6(5),e.Oqu(t.type),e.xp6(2),e.Q6J("ngIf",i.isadmin),e.xp6(2),e.Q6J("ngIf","pdf"!=t.path.split(".").pop()),e.xp6(1),e.Q6J("ngIf","pdf"==t.path.split(".").pop())}}function se(n,a){1&n&&(e.TgZ(0,"div")(1,"h1",94),e._uU(2,"No File Uploaded"),e.qZA()())}const _e=()=>({width:"99%"});function re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",34)(1,"div",35),e._UZ(2,"app-tendercategorywise"),e.TgZ(3,"div",36)(4,"div",37)(5,"div",38),e.YNc(6,S,2,0,"button",39),e.qZA()(),e.TgZ(7,"div",37)(8,"div",38),e.YNc(9,Q,2,0,"button",40),e.qZA()(),e.TgZ(10,"div",37)(11,"div",38),e.YNc(12,F,2,0,"button",41),e.qZA()(),e.TgZ(13,"div",42)(14,"div",38)(15,"label",43),e._uU(16,"Tender Submission Date"),e.qZA(),e.TgZ(17,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.tenderdata.tendersubmissiondate=o)}),e.qZA()()(),e.TgZ(18,"div",42)(19,"div",38)(20,"label",43),e._uU(21,"Tender Opening Date"),e.qZA(),e.TgZ(22,"input",44),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.service.tenderdata.tenderopeningdate=o)}),e.qZA()()(),e.YNc(23,j,60,9,"div",45),e.TgZ(24,"p-overlayPanel",46,47)(26,"div",14)(27,"table",48)(28,"thead")(29,"tr")(30,"th"),e._uU(31,"S.No."),e.qZA(),e.TgZ(32,"th",18),e._uU(33,"ID"),e.qZA(),e.TgZ(34,"th",18),e._uU(35,"Status"),e.qZA(),e.TgZ(36,"th",18),e._uU(37,"Type/Category/Name"),e.qZA(),e.TgZ(38,"th",18),e._uU(39,"Qty"),e.qZA(),e.TgZ(40,"th",18),e._uU(41,"Rate"),e.qZA(),e.TgZ(42,"th",18)(43,"div"),e._uU(44,"Tender Submission Date"),e.qZA(),e.TgZ(45,"div"),e._uU(46,"Tender Opening Date"),e.qZA()()()(),e.TgZ(47,"tbody",49),e.YNc(48,te,25,18,"tr",50),e.qZA()()()(),e.YNc(49,ae,11,4,"div",51)(50,se,3,0,"div",23),e.qZA()(),e.TgZ(51,"div",52),e._UZ(52,"app-tenderchat"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngIf",t.isadmin),e.xp6(3),e.Q6J("ngIf",t.isadmin),e.xp6(3),e.Q6J("ngIf",t.isadmin),e.xp6(5),e.Q6J("ngModel",t.service.tenderdata.tendersubmissiondate),e.xp6(5),e.Q6J("ngModel",t.service.tenderdata.tenderopeningdate),e.xp6(1),e.Q6J("ngIf",t.service.tenderitemlist),e.xp6(1),e.Akn(e.DdM(12,_e)),e.Q6J("showCloseIcon",!0),e.xp6(24),e.Q6J("ngForOf",t.service.tenderitemsearchlist),e.xp6(1),e.Q6J("ngForOf",t.imageservice.rcuploadedlist),e.xp6(1),e.Q6J("ngIf",null==t.imageservice.rcuploadedlist)}}const ce=()=>({width:"100vw"});function de(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"p-dialog",31),e.NdJ("visibleChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.service.ratesvisible=o)}),e.YNc(1,L,2,3,"ng-template",1)(2,re,53,13,"ng-template",2),e.qZA()}if(2&n){const t=e.oxw();e.Akn(e.DdM(4,ce)),e.Q6J("visible",t.service.ratesvisible)("maximizable",!0)}}let le=(()=>{class n{constructor(t,i,o,s){this.service=t,this.imageservice=i,this.toast=o,this.userservice=s,this.searchvalue="",this.visible=!1,this.isadmin=!1,this.panelOpenState=!1,this.allapprovedrate=0,this.allgst=0,this.uploadimage=!1,this.uploadedFiles=[]}ngOnInit(){"Admin"==this.userservice.GetRole()&&(this.isadmin=!0)}expendaccordion(t){this.visible=!0,this.service.tenderdata=t}LoadItemSearchList(t){this.service.TenderItemListbySearch(t).subscribe(i=>{"success"==i.status?(console.log(i),this.service.tenderitemsearchlist=i.data):this.toast.warning(i.message,"Warning")})}MovetoNext(){var t=0,i=this.service.tenderitemlist,o=i.length;i.forEach(s=>{s.lastamount>0?(this.service.tenderitemdata=s,this.service.CreateTenderItems().subscribe(r=>{"success"==r.status&&(this.toast.success((null==s.itemcode?s.item:s.itemname)+" Amount ("+s.lastamount+") Updated Successfully","Success"),t++,o==t&&(this.service.tenderdata.ratescreateddate=this.gettime(),this.service.tenderdata.ratescreatedby=this.userservice.GetFullName(),this.service.CreateUpdate().subscribe(l=>{"success"==l.status?(this.toast.success(l.message,"Success"),this.service.ratesvisible=!1,this.service.LoadList(1,1e4,this.searchvalue,"Rates"),this.LoadDashboard()):this.toast.warning(l.message,"Warning")},l=>{this.toast.error(l,"Error")})))})):this.toast.warning("Please Fill Amount For Item "+(null==s.itemcode?s.item:s.itemname),"Warning")})}Backto(){this.service.tenderdata.informationcreateddate=null,this.service.tenderdata.informationcreatedby="",this.service.CreateUpdate().subscribe(t=>{"success"==t.status?(this.toast.success(t.message,"Success"),this.service.ratesvisible=!1,this.service.LoadList(1,1e4,this.searchvalue,"Rates"),this.LoadDashboard()):this.toast.warning(t.message,"Warning")},t=>{this.toast.error(t,"Error")})}LoadDashboard(){this.service.GetDashboardReport().subscribe(t=>{this.service.dashboarddata=t})}gettime(){let t=new Date,o=t.getTime()+Math.abs(6e4*t.getTimezoneOffset());return new Date(o).toISOString()}opendetails(t){}AllApproved(){this.service.tenderitemlist.forEach(i=>{i.lastamount=this.allapprovedrate}),this.service.CalculateTotal()}AllGST(){this.service.tenderitemlist.forEach(i=>{i.gst=this.allgst}),this.service.CalculateTotal()}ApproveOrReject(t){this.service.tenderdata.qualificationcreateddate=this.gettime(),this.service.tenderdata.qualificationcreatedby=this.userservice.GetFullName(),this.service.tenderdata.status=t,this.service.CreateUpdate().subscribe(i=>{"success"==i.status?(this.toast.success(t+" Successfully","Success"),this.service.ratesvisible=!1,this.service.LoadList(1,1e4,this.searchvalue,"Qualification"),this.LoadDashboard()):this.toast.warning(i.message,"Warning")},i=>{this.toast.error(i,"Error")})}ViewImage(t){this.service.ratesvisible=!0,this.service.tenderdata=t,this.uploadimage=!1,this.imageservice.id=t.id,this.imageservice.RefreshFile(),this.service.GetTenderItems(),this.service.tenderchatid=t.id,this.service.Chatbyid(t.id),this.service.ReadChat(t.id,this.userservice.GetUserName(),this.userservice.GetFullName()),this.service.tenderchatdata=new f.Y_,this.service.tenderchatdata.header="Rates Overdue"}AddImage(){this.uploadimage=!this.uploadimage}DeleteImage(t){1==confirm("Are You Sure want to Delete?")?this.imageservice.DeleteImage(t).subscribe(i=>{console.log(i),(i.status="success")?this.toast.success(i.result,"Success"):this.toast.error(i.result,"Error"),this.imageservice.RefreshFile()}):this.toast.warning("File Deletion Cancelled","Cancelled")}onUpload(t){for(let i of t.files)this.uploadedFiles.push(i);this.imageservice.RefreshFile(),this.toast.success("File Successfully Uploaded","Success")}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(A.$),e.Y36(C.D),e.Y36(b._W),e.Y36(q.K))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-ratesoverdue"]],standalone:!0,features:[e.jDz],decls:7,vars:3,consts:[[3,"visible","fullScreen","visibleChange"],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],[1,"page-title"],[1,"ms-auto","text-muted"],[1,"input-icon"],["type","text","placeholder","Search.....",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-icon-addon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","stroke-width","2","stroke","currentColor","fill","none","stroke-linecap","round","stroke-linejoin","round",1,"icon"],["stroke","none","d","M0 0h24v24H0z","fill","none"],["d","M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"],["d","M21 21l-6 -6"],[1,"row","row-cards"],[1,"col-12"],[1,"card"],[1,"table-responsive"],["id","contentToConvert",1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed"],[1,"text-center"],["class","strong text-center",4,"ngFor","ngForOf"],[1,"strong","text-center"],[1,"text-nowrap"],[1,"W-1"],[4,"ngIf"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],["type","button",1,"btn","btn-outline-info","btn-pill","strong",3,"click"],["type","button",1,"btn-link","strong",3,"click"],["type","button",1,"btn-link","text-danger","strong",3,"click"],[1,"card-footer","d-flex","align-items-center"],[1,"m-0","strong"],[3,"visible","maximizable","visibleChange"],["class","text-danger strong",4,"ngIf"],[1,"text-danger","strong"],[1,"row","g-0"],[1,"col-12","col-lg-9","col-xl-9","border-end"],[1,"row"],[1,"col-md-4","text-center"],[1,"mb-3"],["type","button","class","btn btn-danger btn-pill",3,"click",4,"ngIf"],["type","button","class","btn btn-info btn-pill",3,"click",4,"ngIf"],["type","button","class","btn btn-success btn-pill",3,"click",4,"ngIf"],[1,"col-md-6"],[1,"form-label"],["type","datetime-local",1,"form-control",3,"ngModel","ngModelChange"],["class","col-12",4,"ngIf"],[3,"showCloseIcon"],["op",""],[1,"table","card-table","table-vcenter","datatable","table-sm","table-fixed"],[1,"strong"],[4,"ngFor","ngForOf"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-12","col-lg-3","col-xl-3","d-flex","flex-column"],["type","button",1,"btn","btn-danger","btn-pill",3,"click"],["type","button",1,"btn","btn-info","btn-pill",3,"click"],["type","button",1,"btn","btn-success","btn-pill",3,"click"],["type","number",1,"form-control",3,"ngModel","ngModelChange","input"],["type","number",1,"form-select",3,"ngModel","ngModelChange","change"],["value","0"],["value","12"],["value","18"],["class","text-center",4,"ngIf"],["class","strong",4,"ngFor","ngForOf"],[1,"fa","fa-rupee"],["class","text-center text-muted",4,"ngIf"],[1,"text-nowrap","text-center"],["type","number","placeholder","Approved Rate",1,"form-control",3,"ngModel","ngModelChange","keyup"],["type","number","placeholder","GST",1,"form-select",3,"ngModel","ngModelChange","change"],["class","text-nowrap text-center",4,"ngIf"],["type","button",1,"btn-link","btn-auto","strong",3,"click"],["type","button",1,"btn-link",3,"click"],[1,"fa","fa-trash","text-danger"],[1,"text-center","text-muted"],[1,"badge","text-white",3,"ngClass"],["class","text-orange",4,"ngIf"],["class","text-purple",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"text-orange"],[1,"text-purple"],[1,"text-muted"],[1,"col-md-3"],[1,"card-header"],[1,"row","text-center","strong"],[1,"mb-1"],[1,"card-actions","btn-actions"],["type","button","class","btn-link strong text-danger",3,"click",4,"ngIf"],[1,"card-body","p-0","text-center"],["width","100","height","100",3,"src","preview",4,"ngIf"],["class","text-center","target","_blank",3,"href",4,"ngIf"],["type","button",1,"btn-link","strong","text-danger",3,"click"],[1,"fa","fa-trash"],["width","100","height","100",3,"src","preview"],["target","_blank",1,"text-center",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/8/87/PDF_file_icon.svg","width","100","height","100"],[1,"text-danger","text-center"]],template:function(i,o){1&i&&(e.TgZ(0,"p-sidebar",0),e.NdJ("visibleChange",function(r){return o.service.ratesoverduevisible=r}),e.YNc(1,M,10,1,"ng-template",1)(2,E,27,4,"ng-template",2)(3,N,12,2,"ng-template",3),e.qZA(),e.YNc(4,de,3,5),e.EqZ(5,4,U)),2&i&&(e.Q6J("visible",o.service.ratesoverduevisible)("fullScreen",!0),e.xp6(5),e.cPc(1==o.service.ratesvisible))},dependencies:[c.ez,c.mk,c.sg,c.O5,c.H9,c.uU,d.u5,d.Fj,d.JJ,d.On,u.l,u.Y,x.jx,h.FilterPipe,v.y,T.DatefuturepipePipe,m.$,Z.O,g.S]})}return n})()}}]);